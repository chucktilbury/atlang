<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Alang: /home/chuck/Src/alang/src/scanner.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Alang
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('scanner_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">scanner.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The complete scanner. See <a class="el" href="scanner_8h.html">scanner.h</a> for interface functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="common_8h_source.html">common.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="scanner_8h_source.html">scanner.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="chbuffer_8h_source.html">chbuffer.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for scanner.c:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c__incl.png" border="0" usemap="#_2home_2chuck_2_src_2alang_2src_2scanner_8c" alt=""/></div>
<map name="_2home_2chuck_2_src_2alang_2src_2scanner_8c" id="_2home_2chuck_2_src_2alang_2src_2scanner_8c">
<area shape="rect" id="node2" href="common_8h.html" title="common.h" alt="" coords="327,95,410,121"/>
<area shape="rect" id="node13" href="scanner_8h.html" title="scanner.h" alt="" coords="112,95,191,121"/>
<area shape="rect" id="node14" href="chbuffer_8h.html" title="chbuffer.h" alt="" coords="434,95,514,121"/>
<area shape="rect" id="node11" href="errors_8h.html" title="errors.h" alt="" coords="95,169,162,196"/>
<area shape="rect" id="node12" href="memory_8h.html" title="memory.h" alt="" coords="657,169,737,196"/>
</map>
</div>
</div>
<p><a href="scanner_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct____file__stack.html">__file_stack</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtoken__map__t.html">token_map_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a89811536bebc7b9d69c97a54d9dc0a11"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct____file__stack.html">__file_stack</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scanner_8c.html#a89811536bebc7b9d69c97a54d9dc0a11">file_stack_t</a></td></tr>
<tr class="separator:a89811536bebc7b9d69c97a54d9dc0a11"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2e0b216fac9043db80ea028fe960dd39"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scanner_8c.html#a2e0b216fac9043db80ea028fe960dd39">close_file</a> ()</td></tr>
<tr class="memdesc:a2e0b216fac9043db80ea028fe960dd39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the currently open file and update the file stack. This is automatically called when a file ends.  <a href="#a2e0b216fac9043db80ea028fe960dd39">More...</a><br /></td></tr>
<tr class="separator:a2e0b216fac9043db80ea028fe960dd39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a751d3a7f3f2a98cbbc4029ae856372be"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a> ()</td></tr>
<tr class="memdesc:a751d3a7f3f2a98cbbc4029ae856372be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the char object Read a single character from the input stream.  <a href="#a751d3a7f3f2a98cbbc4029ae856372be">More...</a><br /></td></tr>
<tr class="separator:a751d3a7f3f2a98cbbc4029ae856372be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62fde60ffe0221615dca9102169dff64"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a> (int ch)</td></tr>
<tr class="memdesc:a62fde60ffe0221615dca9102169dff64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stuff the character back into the input stream.  <a href="#a62fde60ffe0221615dca9102169dff64">More...</a><br /></td></tr>
<tr class="separator:a62fde60ffe0221615dca9102169dff64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbbdc80f7ad0b9998e6c40c665055240"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scanner_8c.html#acbbdc80f7ad0b9998e6c40c665055240">skip_ws</a> ()</td></tr>
<tr class="memdesc:acbbdc80f7ad0b9998e6c40c665055240"><td class="mdescLeft">&#160;</td><td class="mdescRight">Skip white space.  <a href="#acbbdc80f7ad0b9998e6c40c665055240">More...</a><br /></td></tr>
<tr class="separator:acbbdc80f7ad0b9998e6c40c665055240"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbeae6c1148f611761e293b2d4083155"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scanner_8c.html#adbeae6c1148f611761e293b2d4083155">eat_until_ws</a> ()</td></tr>
<tr class="memdesc:adbeae6c1148f611761e293b2d4083155"><td class="mdescLeft">&#160;</td><td class="mdescRight">Eat characters until white space is encountered. Used for the scanner to recover from an error. The white space is returned to the input stream.  <a href="#adbeae6c1148f611761e293b2d4083155">More...</a><br /></td></tr>
<tr class="separator:adbeae6c1148f611761e293b2d4083155"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ce21d4ba0fe825746431f52e60347ad"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scanner_8c.html#a4ce21d4ba0fe825746431f52e60347ad">eat_single_line</a> ()</td></tr>
<tr class="memdesc:a4ce21d4ba0fe825746431f52e60347ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Eat a single line comment.  <a href="#a4ce21d4ba0fe825746431f52e60347ad">More...</a><br /></td></tr>
<tr class="separator:a4ce21d4ba0fe825746431f52e60347ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c04757cfc5cdd9a7af37e504241157e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scanner_8c.html#a5c04757cfc5cdd9a7af37e504241157e">eat_multi_line</a> ()</td></tr>
<tr class="memdesc:a5c04757cfc5cdd9a7af37e504241157e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Eat a multi-line comment.  <a href="#a5c04757cfc5cdd9a7af37e504241157e">More...</a><br /></td></tr>
<tr class="separator:a5c04757cfc5cdd9a7af37e504241157e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1c72c55c50c29f4e4a1c389030e089c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scanner_8c.html#ac1c72c55c50c29f4e4a1c389030e089c">read_hex_number</a> ()</td></tr>
<tr class="memdesc:ac1c72c55c50c29f4e4a1c389030e089c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finish reading a hex number from the input stream. When this is called, the "0x" has already been scanned and is a part of the scanned token.  <a href="#ac1c72c55c50c29f4e4a1c389030e089c">More...</a><br /></td></tr>
<tr class="separator:ac1c72c55c50c29f4e4a1c389030e089c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82c9d9502b1585c8db6cae8e8f3b3c21"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scanner_8c.html#a82c9d9502b1585c8db6cae8e8f3b3c21">read_octal_number</a> ()</td></tr>
<tr class="memdesc:a82c9d9502b1585c8db6cae8e8f3b3c21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finish reading an octal number. An octal number starts with a '0' and all digits are less than '7'.  <a href="#a82c9d9502b1585c8db6cae8e8f3b3c21">More...</a><br /></td></tr>
<tr class="separator:a82c9d9502b1585c8db6cae8e8f3b3c21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a828f3d1cf54a7739b49733416cf76f7a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scanner_8c.html#a828f3d1cf54a7739b49733416cf76f7a">read_float_number</a> ()</td></tr>
<tr class="memdesc:a828f3d1cf54a7739b49733416cf76f7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scan a floating point number. When this is called the first part of the number, up to the '.' has been seen. The number may have a normal exponent.  <a href="#a828f3d1cf54a7739b49733416cf76f7a">More...</a><br /></td></tr>
<tr class="separator:a828f3d1cf54a7739b49733416cf76f7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1ec61f0fae80f99861be0cd9a35a1a5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scanner_8c.html#ae1ec61f0fae80f99861be0cd9a35a1a5">read_number_top</a> ()</td></tr>
<tr class="memdesc:ae1ec61f0fae80f99861be0cd9a35a1a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">A digit has been seen. This is the entry to find out what kind of number is being read and then return the associated token. The token string is in the string buffer when this finishes. Supported types of numbers are integer, hex, float and octal.  <a href="#ae1ec61f0fae80f99861be0cd9a35a1a5">More...</a><br /></td></tr>
<tr class="separator:ae1ec61f0fae80f99861be0cd9a35a1a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82bf6517965ad70ea8264b70e36ca556"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scanner_8c.html#a82bf6517965ad70ea8264b70e36ca556">get_hex_escape</a> ()</td></tr>
<tr class="memdesc:a82bf6517965ad70ea8264b70e36ca556"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the hex escape object.  <a href="#a82bf6517965ad70ea8264b70e36ca556">More...</a><br /></td></tr>
<tr class="separator:a82bf6517965ad70ea8264b70e36ca556"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6d7958aaede5957c26394284d9ace36"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scanner_8c.html#ad6d7958aaede5957c26394284d9ace36">get_octal_escape</a> ()</td></tr>
<tr class="memdesc:ad6d7958aaede5957c26394284d9ace36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the octal escape object When this is called the '\0' has already been read. The converted binary value is in the string when this returns.  <a href="#ad6d7958aaede5957c26394284d9ace36">More...</a><br /></td></tr>
<tr class="separator:ad6d7958aaede5957c26394284d9ace36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5974a5d4c4aafa45ad1675231b12b398"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scanner_8c.html#a5974a5d4c4aafa45ad1675231b12b398">get_decimal_escape</a> ()</td></tr>
<tr class="memdesc:a5974a5d4c4aafa45ad1675231b12b398"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the decimal escape object.  <a href="#a5974a5d4c4aafa45ad1675231b12b398">More...</a><br /></td></tr>
<tr class="separator:a5974a5d4c4aafa45ad1675231b12b398"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af34c4092683c2caeb938899cfd73d86e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scanner_8c.html#af34c4092683c2caeb938899cfd73d86e">get_string_esc</a> ()</td></tr>
<tr class="memdesc:af34c4092683c2caeb938899cfd73d86e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the string esc object When this is entered, a back-slash has been seen in a dquote string. could have an octal, hex, or character escape.  <a href="#af34c4092683c2caeb938899cfd73d86e">More...</a><br /></td></tr>
<tr class="separator:af34c4092683c2caeb938899cfd73d86e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a724bc9c982f6d80ea7cc9cb382a67150"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scanner_8c.html#a724bc9c982f6d80ea7cc9cb382a67150">read_dquote</a> ()</td></tr>
<tr class="memdesc:a724bc9c982f6d80ea7cc9cb382a67150"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a string with escape translations. When this is entered, a (") has been seen and discarded. This function performs escape replacements, but it does not do formatting. that takes place in the parser. If consecutive strings are encountered, separated only by white space, then it is a string continuance and is a multi line string.  <a href="#a724bc9c982f6d80ea7cc9cb382a67150">More...</a><br /></td></tr>
<tr class="separator:a724bc9c982f6d80ea7cc9cb382a67150"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7485b39f90b06a1a8fc01ccd6268646d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scanner_8c.html#a7485b39f90b06a1a8fc01ccd6268646d">read_squote</a> ()</td></tr>
<tr class="memdesc:a7485b39f90b06a1a8fc01ccd6268646d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a string without escape translations. When this is entered, a (') has been seen and discarded. This function copies whatever is found into a string, exactly as it is found in the source code. If consecutive strings are found separated only by white space, then it is a single string that is being scanned.  <a href="#a7485b39f90b06a1a8fc01ccd6268646d">More...</a><br /></td></tr>
<tr class="separator:a7485b39f90b06a1a8fc01ccd6268646d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafc5da6edd9fb271cf3d877b1dd36240"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scanner_8c.html#aafc5da6edd9fb271cf3d877b1dd36240">read_word</a> ()</td></tr>
<tr class="memdesc:aafc5da6edd9fb271cf3d877b1dd36240"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a word from the input and then find out if it's a keyword.  <a href="#aafc5da6edd9fb271cf3d877b1dd36240">More...</a><br /></td></tr>
<tr class="separator:aafc5da6edd9fb271cf3d877b1dd36240"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3205222d05c01cd1d1e2f3c6d605f971"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scanner_8c.html#a3205222d05c01cd1d1e2f3c6d605f971">read_punct</a> (int ch)</td></tr>
<tr class="memdesc:a3205222d05c01cd1d1e2f3c6d605f971"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a punctuation character from input stream. When this is entered, a punctuation character has been read. If it's a (_) then we have a symbol, otherwise, it's an operator.  <a href="#a3205222d05c01cd1d1e2f3c6d605f971">More...</a><br /></td></tr>
<tr class="separator:a3205222d05c01cd1d1e2f3c6d605f971"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae607bbd0a95b68ef81614ecbdcdf519a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scanner_8c.html#ae607bbd0a95b68ef81614ecbdcdf519a">comment_or_operator</a> ()</td></tr>
<tr class="memdesc:ae607bbd0a95b68ef81614ecbdcdf519a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find out what to do with a '/' character. When this is entered, a (/) has been seen. If the next character is a (/) or a (*), then we have a comment, otherwise we have a / operator.  <a href="#ae607bbd0a95b68ef81614ecbdcdf519a">More...</a><br /></td></tr>
<tr class="separator:ae607bbd0a95b68ef81614ecbdcdf519a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ef93bc7d3083012d407fee0579fa648"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scanner_8c.html#a0ef93bc7d3083012d407fee0579fa648">destroy_scanner</a> ()</td></tr>
<tr class="separator:a0ef93bc7d3083012d407fee0579fa648"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9d2f4eca16d0523494a48163e2924f1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scanner_8c.html#ac9d2f4eca16d0523494a48163e2924f1">str_to_token</a> (const char *str)</td></tr>
<tr class="memdesc:ac9d2f4eca16d0523494a48163e2924f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the given keyword string to a token. If it is not a keyword, then SYMBOL_TOKEN is returned. Note that this does not convert non-keywords to a token. Non-keywords cause SYMBOL_TOKEN to be returned as well.  <a href="#ac9d2f4eca16d0523494a48163e2924f1">More...</a><br /></td></tr>
<tr class="separator:ac9d2f4eca16d0523494a48163e2924f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15a0a1b428d9897d6e026879cb30d21b"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scanner_8c.html#a15a0a1b428d9897d6e026879cb30d21b">token_to_str</a> (<a class="el" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a> tok)</td></tr>
<tr class="memdesc:a15a0a1b428d9897d6e026879cb30d21b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a token to a string for documentation and errors.  <a href="#a15a0a1b428d9897d6e026879cb30d21b">More...</a><br /></td></tr>
<tr class="separator:a15a0a1b428d9897d6e026879cb30d21b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a963df60a03b85b21878bfdb58672f993"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scanner_8c.html#a963df60a03b85b21878bfdb58672f993">init_scanner</a> ()</td></tr>
<tr class="memdesc:a963df60a03b85b21878bfdb58672f993"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create the scanner. This must be called before any other scanner function.  <a href="#a963df60a03b85b21878bfdb58672f993">More...</a><br /></td></tr>
<tr class="separator:a963df60a03b85b21878bfdb58672f993"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab813ccd8271cf156beff16541aa1c476"><td class="memItemLeft" align="right" valign="top"><a class="el" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scanner_8c.html#ab813ccd8271cf156beff16541aa1c476">get_tok</a> ()</td></tr>
<tr class="memdesc:ab813ccd8271cf156beff16541aa1c476"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read text from the input stream and return a token.  <a href="#ab813ccd8271cf156beff16541aa1c476">More...</a><br /></td></tr>
<tr class="separator:ab813ccd8271cf156beff16541aa1c476"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15b8275b4303abc727b0d8612b8fa59c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scanner_8c.html#a15b8275b4303abc727b0d8612b8fa59c">expect_tok_array</a> (<a class="el" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a> *arr)</td></tr>
<tr class="memdesc:a15b8275b4303abc727b0d8612b8fa59c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve a token and compare it against a token array. If the received token is not in the array, then issue a syntax error and return the ERROR_TOKEN. The array must be terminated with the NONE_TOKEN. (AKA 0)  <a href="#a15b8275b4303abc727b0d8612b8fa59c">More...</a><br /></td></tr>
<tr class="separator:a15b8275b4303abc727b0d8612b8fa59c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa116fe0792e3602eb150589c5dc43a9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scanner_8c.html#aaa116fe0792e3602eb150589c5dc43a9">expect_tok</a> (<a class="el" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a> tok)</td></tr>
<tr class="memdesc:aaa116fe0792e3602eb150589c5dc43a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the next token and check it against the specified token type. If the token does not match the parameter, then a syntax error is issued.  <a href="#aaa116fe0792e3602eb150589c5dc43a9">More...</a><br /></td></tr>
<tr class="separator:aaa116fe0792e3602eb150589c5dc43a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad934a16bd9a59cd43e130fdd79fabf19"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scanner_8c.html#ad934a16bd9a59cd43e130fdd79fabf19">open_scanner_file</a> (const char *fname)</td></tr>
<tr class="memdesc:ad934a16bd9a59cd43e130fdd79fabf19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open an input file. This pushes the file onto a file stack and causes <a class="el" href="scanner_8c.html#ab813ccd8271cf156beff16541aa1c476" title="Read text from the input stream and return a token. ">get_tok()</a> to begin scanning the file. When the file ends, then scanning resumes where it left off when a new file was opened.  <a href="#ad934a16bd9a59cd43e130fdd79fabf19">More...</a><br /></td></tr>
<tr class="separator:ad934a16bd9a59cd43e130fdd79fabf19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a578f62c1d479d8626ea68dbce908a744"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scanner_8c.html#a578f62c1d479d8626ea68dbce908a744">get_file_name</a> ()</td></tr>
<tr class="memdesc:a578f62c1d479d8626ea68dbce908a744"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the current file name. For error handling. If no file is open, then return the string "no file
open".  <a href="#a578f62c1d479d8626ea68dbce908a744">More...</a><br /></td></tr>
<tr class="separator:a578f62c1d479d8626ea68dbce908a744"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb057c7f2a5d7bea59fbdd08227a9c5c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scanner_8c.html#aeb057c7f2a5d7bea59fbdd08227a9c5c">get_line_no</a> ()</td></tr>
<tr class="memdesc:aeb057c7f2a5d7bea59fbdd08227a9c5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the current line number in the current file. If there is no file open then return -1.  <a href="#aeb057c7f2a5d7bea59fbdd08227a9c5c">More...</a><br /></td></tr>
<tr class="separator:aeb057c7f2a5d7bea59fbdd08227a9c5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8161fb9051e2095068a797853806394b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scanner_8c.html#a8161fb9051e2095068a797853806394b">get_column_no</a> ()</td></tr>
<tr class="memdesc:a8161fb9051e2095068a797853806394b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the current column number in the current file. If there is no file open then return -1.  <a href="#a8161fb9051e2095068a797853806394b">More...</a><br /></td></tr>
<tr class="separator:a8161fb9051e2095068a797853806394b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6f26bcc5ac8ca798e7c97a7b11b1b96"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scanner_8c.html#af6f26bcc5ac8ca798e7c97a7b11b1b96">get_tok_str</a> ()</td></tr>
<tr class="memdesc:af6f26bcc5ac8ca798e7c97a7b11b1b96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the current token string.  <a href="#af6f26bcc5ac8ca798e7c97a7b11b1b96">More...</a><br /></td></tr>
<tr class="separator:af6f26bcc5ac8ca798e7c97a7b11b1b96"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a2de8c113b9c6e6d1ad3b676aedb70674"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scanner_8c.html#a2de8c113b9c6e6d1ad3b676aedb70674">nest_depth</a> = 0</td></tr>
<tr class="separator:a2de8c113b9c6e6d1ad3b676aedb70674"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd1a3d8d9ea5da829d7739127f89a7de"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="scanner_8c.html#a89811536bebc7b9d69c97a54d9dc0a11">file_stack_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scanner_8c.html#afd1a3d8d9ea5da829d7739127f89a7de">top</a> = NULL</td></tr>
<tr class="separator:afd1a3d8d9ea5da829d7739127f89a7de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46f294c9a8b344e4fd265f5279b6dad4"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="chbuffer_8h.html#ac592394e8e8049e17a16e96ee4042a6e">char_buffer_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a></td></tr>
<tr class="separator:a46f294c9a8b344e4fd265f5279b6dad4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39b79affaeabd99e1fdfcdcd92f113d9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scanner_8c.html#a39b79affaeabd99e1fdfcdcd92f113d9">file_flag</a> = 0</td></tr>
<tr class="separator:a39b79affaeabd99e1fdfcdcd92f113d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af351fb3580ddd97b5d430664f878802e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scanner_8c.html#af351fb3580ddd97b5d430664f878802e">last_col</a></td></tr>
<tr class="separator:af351fb3580ddd97b5d430664f878802e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d79b024fbecc5de73e32b260baed5ea"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structtoken__map__t.html">token_map_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scanner_8c.html#a9d79b024fbecc5de73e32b260baed5ea">token_map</a> []</td></tr>
<tr class="memdesc:a9d79b024fbecc5de73e32b260baed5ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the data structure that converts keywords to tokens.  <a href="#a9d79b024fbecc5de73e32b260baed5ea">More...</a><br /></td></tr>
<tr class="separator:a9d79b024fbecc5de73e32b260baed5ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5469592bb3c974271e7a959cd8f6cc5"><td class="memItemLeft" align="right" valign="top">static const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scanner_8c.html#aa5469592bb3c974271e7a959cd8f6cc5">token_map_size</a> = (sizeof(<a class="el" href="scanner_8c.html#a9d79b024fbecc5de73e32b260baed5ea">token_map</a>) / sizeof(<a class="el" href="structtoken__map__t.html">token_map_t</a>))</td></tr>
<tr class="separator:aa5469592bb3c974271e7a959cd8f6cc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The complete scanner. See <a class="el" href="scanner_8h.html">scanner.h</a> for interface functions. </p>

<p class="definition">Definition in file <a class="el" href="scanner_8c_source.html">scanner.c</a>.</p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a89811536bebc7b9d69c97a54d9dc0a11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89811536bebc7b9d69c97a54d9dc0a11">&#9670;&nbsp;</a></span>file_stack_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct____file__stack.html">__file_stack</a>  <a class="el" href="scanner_8c.html#a89811536bebc7b9d69c97a54d9dc0a11">file_stack_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a2e0b216fac9043db80ea028fe960dd39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e0b216fac9043db80ea028fe960dd39">&#9670;&nbsp;</a></span>close_file()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void close_file </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Close the currently open file and update the file stack. This is automatically called when a file ends. </p>

<p class="definition">Definition at line <a class="el" href="scanner_8c_source.html#l00094">94</a> of file <a class="el" href="scanner_8c_source.html">scanner.c</a>.</p>

<p class="reference">References <a class="el" href="scanner_8c_source.html#l00012">__file_stack::fname</a>, <a class="el" href="scanner_8c_source.html#l00013">__file_stack::fp</a>, <a class="el" href="memory_8h_source.html#l00009">FREE</a>, <a class="el" href="scanner_8c_source.html#l00016">__file_stack::next</a>, and <a class="el" href="scanner_8c_source.html#l00025">top</a>.</p>

<p class="reference">Referenced by <a class="el" href="scanner_8c_source.html#l00772">destroy_scanner()</a>, and <a class="el" href="scanner_8c_source.html#l00111">get_char()</a>.</p>
<div class="fragment"><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                         {</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="scanner_8c.html#afd1a3d8d9ea5da829d7739127f89a7de">top</a> != NULL) {</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <a class="code" href="struct____file__stack.html">file_stack_t</a>* fsp = <a class="code" href="scanner_8c.html#afd1a3d8d9ea5da829d7739127f89a7de">top</a>;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <a class="code" href="scanner_8c.html#afd1a3d8d9ea5da829d7739127f89a7de">top</a> = <a class="code" href="scanner_8c.html#afd1a3d8d9ea5da829d7739127f89a7de">top</a>-&gt;<a class="code" href="struct____file__stack.html#a93298d8ca00f5f45884a71a806a06e24">next</a>; <span class="comment">// could make top NULL</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <a class="code" href="memory_8h.html#a02048bf846e8bc87e3ce188e4957ef06">FREE</a>(fsp-&gt;<a class="code" href="struct____file__stack.html#a667d6cfde81c0cb4920f72f58fc76f41">fname</a>);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        fclose(fsp-&gt;<a class="code" href="struct____file__stack.html#aa6629155a04b3945e3b7ceb78a596ab5">fp</a>);</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <a class="code" href="memory_8h.html#a02048bf846e8bc87e3ce188e4957ef06">FREE</a>(fsp);</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    }</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;}</div><div class="ttc" id="struct____file__stack_html_a93298d8ca00f5f45884a71a806a06e24"><div class="ttname"><a href="struct____file__stack.html#a93298d8ca00f5f45884a71a806a06e24">__file_stack::next</a></div><div class="ttdeci">struct __file_stack * next</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00016">scanner.c:16</a></div></div>
<div class="ttc" id="memory_8h_html_a02048bf846e8bc87e3ce188e4957ef06"><div class="ttname"><a href="memory_8h.html#a02048bf846e8bc87e3ce188e4957ef06">FREE</a></div><div class="ttdeci">#define FREE(p)</div><div class="ttdef"><b>Definition:</b> <a href="memory_8h_source.html#l00009">memory.h:9</a></div></div>
<div class="ttc" id="struct____file__stack_html_a667d6cfde81c0cb4920f72f58fc76f41"><div class="ttname"><a href="struct____file__stack.html#a667d6cfde81c0cb4920f72f58fc76f41">__file_stack::fname</a></div><div class="ttdeci">char * fname</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00012">scanner.c:12</a></div></div>
<div class="ttc" id="scanner_8c_html_afd1a3d8d9ea5da829d7739127f89a7de"><div class="ttname"><a href="scanner_8c.html#afd1a3d8d9ea5da829d7739127f89a7de">top</a></div><div class="ttdeci">static file_stack_t * top</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00025">scanner.c:25</a></div></div>
<div class="ttc" id="struct____file__stack_html"><div class="ttname"><a href="struct____file__stack.html">__file_stack</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00011">scanner.c:11</a></div></div>
<div class="ttc" id="struct____file__stack_html_aa6629155a04b3945e3b7ceb78a596ab5"><div class="ttname"><a href="struct____file__stack.html#aa6629155a04b3945e3b7ceb78a596ab5">__file_stack::fp</a></div><div class="ttdeci">FILE * fp</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00013">scanner.c:13</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_a2e0b216fac9043db80ea028fe960dd39_icgraph.png" border="0" usemap="#scanner_8c_a2e0b216fac9043db80ea028fe960dd39_icgraph" alt=""/></div>
<map name="scanner_8c_a2e0b216fac9043db80ea028fe960dd39_icgraph" id="scanner_8c_a2e0b216fac9043db80ea028fe960dd39_icgraph">
<area shape="rect" id="node2" href="scanner_8c.html#a0ef93bc7d3083012d407fee0579fa648" title="destroy_scanner" alt="" coords="131,231,249,257"/>
<area shape="rect" id="node9" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be" title="Get the char object Read a single character from the input stream. " alt="" coords="154,484,226,511"/>
<area shape="rect" id="node3" href="scanner_8h.html#a963df60a03b85b21878bfdb58672f993" title="Create the scanner. This must be called before any other scanner function. " alt="" coords="322,28,414,55"/>
<area shape="rect" id="node4" href="alang_8c.html#ab934a38436204282275cc48bfe923e24" title="init_things" alt="" coords="520,28,601,55"/>
<area shape="rect" id="node5" href="alang_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="704,61,755,88"/>
<area shape="rect" id="node6" href="configure_8h.html#a770fa765eb6cca34ef710e37f505eda4" title="show_use" alt="" coords="824,92,905,119"/>
<area shape="rect" id="node7" href="configure_8c.html#a308850e33e2d2bef1a59e7cca78a1a85" title="check_required" alt="" coords="959,45,1070,72"/>
<area shape="rect" id="node8" href="configure_8h.html#a4740d76c61b01b73341afb129f9cec4d" title="configure" alt="" coords="1124,77,1199,104"/>
<area shape="rect" id="node10" href="scanner_8c.html#acbbdc80f7ad0b9998e6c40c665055240" title="Skip white space. " alt="" coords="694,281,765,308"/>
<area shape="rect" id="node11" href="scanner_8h.html#ab813ccd8271cf156beff16541aa1c476" title="Read text from the input stream and return a token. " alt="" coords="832,484,897,511"/>
<area shape="rect" id="node14" href="scanner_8c.html#adbeae6c1148f611761e293b2d4083155" title="Eat characters until white space is encountered. Used for the scanner to recover from an error..." alt="" coords="321,433,415,460"/>
<area shape="rect" id="node15" href="scanner_8c.html#a724bc9c982f6d80ea7cc9cb382a67150" title="Read a string with escape translations. When this is entered, a (&quot;) has been seen and discarded..." alt="" coords="683,509,776,536"/>
<area shape="rect" id="node16" href="scanner_8c.html#a7485b39f90b06a1a8fc01ccd6268646d" title="Read a string without escape translations. When this is entered, a (&#39;) has been seen and discarded..." alt="" coords="514,433,607,460"/>
<area shape="rect" id="node17" href="scanner_8c.html#a4ce21d4ba0fe825746431f52e60347ad" title="Eat a single line comment. " alt="" coords="314,889,422,916"/>
<area shape="rect" id="node18" href="scanner_8c.html#ae607bbd0a95b68ef81614ecbdcdf519a" title="Find out what to do with a &#39;/&#39; character. When this is entered, a (/) has been seen. If the next character is a (/) or a (*), then we have a comment, otherwise we have a / operator. " alt="" coords="487,864,635,891"/>
<area shape="rect" id="node19" href="scanner_8c.html#a5c04757cfc5cdd9a7af37e504241157e" title="Eat a multi&#45;line comment. " alt="" coords="317,839,419,865"/>
<area shape="rect" id="node20" href="scanner_8c.html#ac1c72c55c50c29f4e4a1c389030e089c" title="Finish reading a hex number from the input stream. When this is called, the &quot;0x&quot; has already been sca..." alt="" coords="305,231,431,257"/>
<area shape="rect" id="node21" href="scanner_8c.html#ae1ec61f0fae80f99861be0cd9a35a1a5" title="A digit has been seen. This is the entry to find out what kind of number is being read and then retur..." alt="" coords="499,180,622,207"/>
<area shape="rect" id="node22" href="scanner_8c.html#a82c9d9502b1585c8db6cae8e8f3b3c21" title="Finish reading an octal number. An octal number starts with a &#39;0&#39; and all digits are less than &#39;7&#39;..." alt="" coords="302,129,434,156"/>
<area shape="rect" id="node23" href="scanner_8c.html#a828f3d1cf54a7739b49733416cf76f7a" title="Scan a floating point number. When this is called the first part of the number, up to the &#39;..." alt="" coords="303,180,433,207"/>
<area shape="rect" id="node24" href="scanner_8c.html#a82bf6517965ad70ea8264b70e36ca556" title="Get the hex escape object. " alt="" coords="309,636,427,663"/>
<area shape="rect" id="node25" href="scanner_8c.html#af34c4092683c2caeb938899cfd73d86e" title="Get the string esc object When this is entered, a back&#45;slash has been seen in a dquote string..." alt="" coords="507,535,614,561"/>
<area shape="rect" id="node26" href="scanner_8c.html#ad6d7958aaede5957c26394284d9ace36" title="Get the octal escape object When this is called the &#39;0&#39; has already been read. The converted binary ..." alt="" coords="306,535,430,561"/>
<area shape="rect" id="node27" href="scanner_8c.html#a5974a5d4c4aafa45ad1675231b12b398" title="Get the decimal escape object. " alt="" coords="297,585,439,612"/>
<area shape="rect" id="node28" href="scanner_8c.html#aafc5da6edd9fb271cf3d877b1dd36240" title="Read a word from the input and then find out if it&#39;s a keyword. " alt="" coords="327,737,409,764"/>
<area shape="rect" id="node29" href="scanner_8c.html#a3205222d05c01cd1d1e2f3c6d605f971" title="Read a punctuation character from input stream. When this is entered, a punctuation character has bee..." alt="" coords="517,788,604,815"/>
<area shape="rect" id="node12" href="scanner_8h.html#acadf6d4cc0cd6d922a183a04af123be8" title="Retrieve a token and compare it against a token array. If the received token is not in the array..." alt="" coords="953,509,1076,536"/>
<area shape="rect" id="node13" href="scanner_8h.html#a323ce9fdb2b8a07bc90f28716c9764a9" title="Retrieve the next token and check it against the specified token type. If the token does not match th..." alt="" coords="971,459,1058,485"/>
</map>
</div>

</div>
</div>
<a id="ae607bbd0a95b68ef81614ecbdcdf519a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae607bbd0a95b68ef81614ecbdcdf519a">&#9670;&nbsp;</a></span>comment_or_operator()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a> comment_or_operator </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find out what to do with a '/' character. When this is entered, a (/) has been seen. If the next character is a (/) or a (*), then we have a comment, otherwise we have a / operator. </p>

<p class="definition">Definition at line <a class="el" href="scanner_8c_source.html#l00747">747</a> of file <a class="el" href="scanner_8c_source.html">scanner.c</a>.</p>

<p class="reference">References <a class="el" href="scanner_8c_source.html#l00220">eat_multi_line()</a>, <a class="el" href="scanner_8c_source.html#l00202">eat_single_line()</a>, <a class="el" href="scanner_8h_source.html#l00011">END_OF_INPUT</a>, <a class="el" href="scanner_8c_source.html#l00111">get_char()</a>, <a class="el" href="scanner_8h_source.html#l00007">NONE_TOKEN</a>, <a class="el" href="scanner_8h_source.html#l00019">SLASH_TOKEN</a>, and <a class="el" href="scanner_8c_source.html#l00147">unget_char()</a>.</p>

<p class="reference">Referenced by <a class="el" href="scanner_8c_source.html#l00843">get_tok()</a>.</p>
<div class="fragment"><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                                     {</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="keywordtype">int</span> ch = <a class="code" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a>();</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <span class="keywordflow">if</span>(ch == <span class="charliteral">&#39;/&#39;</span>) {</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        <span class="comment">// eat a sinlge line comment</span></div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        <a class="code" href="scanner_8c.html#a4ce21d4ba0fe825746431f52e60347ad">eat_single_line</a>();</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea92eb9340b108c2cc0589f922dd843de5">NONE_TOKEN</a>;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    }</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(ch == <span class="charliteral">&#39;*&#39;</span>) {</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        <span class="comment">// eat a multi line comment</span></div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        <a class="code" href="scanner_8c.html#a5c04757cfc5cdd9a7af37e504241157e">eat_multi_line</a>();</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea92eb9340b108c2cc0589f922dd843de5">NONE_TOKEN</a>;</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    }</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;        <span class="comment">// not a comment, must be a / single-character operator</span></div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        <a class="code" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a>(ch);</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea16c21c39e623765db90cebcc23f79b64">SLASH_TOKEN</a>;</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    }</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="comment">// probably an error for the parser to handle</span></div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea0e3733a4d13a591724fae5c6c951c832">END_OF_INPUT</a>;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;}</div><div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfea92eb9340b108c2cc0589f922dd843de5"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea92eb9340b108c2cc0589f922dd843de5">NONE_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00007">scanner.h:7</a></div></div>
<div class="ttc" id="scanner_8c_html_a4ce21d4ba0fe825746431f52e60347ad"><div class="ttname"><a href="scanner_8c.html#a4ce21d4ba0fe825746431f52e60347ad">eat_single_line</a></div><div class="ttdeci">static void eat_single_line()</div><div class="ttdoc">Eat a single line comment. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00202">scanner.c:202</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfea16c21c39e623765db90cebcc23f79b64"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea16c21c39e623765db90cebcc23f79b64">SLASH_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00019">scanner.h:19</a></div></div>
<div class="ttc" id="scanner_8c_html_a62fde60ffe0221615dca9102169dff64"><div class="ttname"><a href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a></div><div class="ttdeci">static void unget_char(int ch)</div><div class="ttdoc">Stuff the character back into the input stream. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00147">scanner.c:147</a></div></div>
<div class="ttc" id="scanner_8c_html_a751d3a7f3f2a98cbbc4029ae856372be"><div class="ttname"><a href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a></div><div class="ttdeci">static int get_char()</div><div class="ttdoc">Get the char object Read a single character from the input stream. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00111">scanner.c:111</a></div></div>
<div class="ttc" id="scanner_8c_html_a5c04757cfc5cdd9a7af37e504241157e"><div class="ttname"><a href="scanner_8c.html#a5c04757cfc5cdd9a7af37e504241157e">eat_multi_line</a></div><div class="ttdeci">static void eat_multi_line()</div><div class="ttdoc">Eat a multi-line comment. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00220">scanner.c:220</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfea0e3733a4d13a591724fae5c6c951c832"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea0e3733a4d13a591724fae5c6c951c832">END_OF_INPUT</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00011">scanner.h:11</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_ae607bbd0a95b68ef81614ecbdcdf519a_cgraph.png" border="0" usemap="#scanner_8c_ae607bbd0a95b68ef81614ecbdcdf519a_cgraph" alt=""/></div>
<map name="scanner_8c_ae607bbd0a95b68ef81614ecbdcdf519a_cgraph" id="scanner_8c_ae607bbd0a95b68ef81614ecbdcdf519a_cgraph">
<area shape="rect" id="node2" href="scanner_8c.html#a5c04757cfc5cdd9a7af37e504241157e" title="Eat a multi&#45;line comment. " alt="" coords="204,24,307,50"/>
<area shape="rect" id="node3" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be" title="Get the char object Read a single character from the input stream. " alt="" coords="365,24,437,50"/>
<area shape="rect" id="node5" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64" title="Stuff the character back into the input stream. " alt="" coords="357,74,444,101"/>
<area shape="rect" id="node6" href="scanner_8c.html#a4ce21d4ba0fe825746431f52e60347ad" title="Eat a single line comment. " alt="" coords="201,74,309,101"/>
<area shape="rect" id="node4" href="scanner_8c.html#a2e0b216fac9043db80ea028fe960dd39" title="Close the currently open file and update the file stack. This is automatically called when a file end..." alt="" coords="492,24,569,50"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_ae607bbd0a95b68ef81614ecbdcdf519a_icgraph.png" border="0" usemap="#scanner_8c_ae607bbd0a95b68ef81614ecbdcdf519a_icgraph" alt=""/></div>
<map name="scanner_8c_ae607bbd0a95b68ef81614ecbdcdf519a_icgraph" id="scanner_8c_ae607bbd0a95b68ef81614ecbdcdf519a_icgraph">
<area shape="rect" id="node2" href="scanner_8h.html#ab813ccd8271cf156beff16541aa1c476" title="Read text from the input stream and return a token. " alt="" coords="201,31,267,57"/>
<area shape="rect" id="node3" href="scanner_8h.html#acadf6d4cc0cd6d922a183a04af123be8" title="Retrieve a token and compare it against a token array. If the received token is not in the array..." alt="" coords="315,5,437,32"/>
<area shape="rect" id="node4" href="scanner_8h.html#a323ce9fdb2b8a07bc90f28716c9764a9" title="Retrieve the next token and check it against the specified token type. If the token does not match th..." alt="" coords="333,56,419,83"/>
</map>
</div>

</div>
</div>
<a id="a0ef93bc7d3083012d407fee0579fa648"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ef93bc7d3083012d407fee0579fa648">&#9670;&nbsp;</a></span>destroy_scanner()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void destroy_scanner </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scanner_8c_source.html#l00772">772</a> of file <a class="el" href="scanner_8c_source.html">scanner.c</a>.</p>

<p class="reference">References <a class="el" href="scanner_8c_source.html#l00094">close_file()</a>, <a class="el" href="chbuffer_8c_source.html#l00040">destroy_char_buffer()</a>, and <a class="el" href="scanner_8c_source.html#l00026">scanner_buffer</a>.</p>

<p class="reference">Referenced by <a class="el" href="scanner_8c_source.html#l00832">init_scanner()</a>.</p>
<div class="fragment"><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                              {</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <a class="code" href="chbuffer_8c.html#a956cd6071386061524cfdb293007ff9e">destroy_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>);</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <span class="keywordflow">while</span>(<a class="code" href="scanner_8c.html#afd1a3d8d9ea5da829d7739127f89a7de">top</a> != NULL)</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        <a class="code" href="scanner_8c.html#a2e0b216fac9043db80ea028fe960dd39">close_file</a>();</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;}</div><div class="ttc" id="scanner_8c_html_a46f294c9a8b344e4fd265f5279b6dad4"><div class="ttname"><a href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a></div><div class="ttdeci">static char_buffer_t scanner_buffer</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00026">scanner.c:26</a></div></div>
<div class="ttc" id="scanner_8c_html_afd1a3d8d9ea5da829d7739127f89a7de"><div class="ttname"><a href="scanner_8c.html#afd1a3d8d9ea5da829d7739127f89a7de">top</a></div><div class="ttdeci">static file_stack_t * top</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00025">scanner.c:25</a></div></div>
<div class="ttc" id="chbuffer_8c_html_a956cd6071386061524cfdb293007ff9e"><div class="ttname"><a href="chbuffer_8c.html#a956cd6071386061524cfdb293007ff9e">destroy_char_buffer</a></div><div class="ttdeci">void destroy_char_buffer(char_buffer_t chbuf)</div><div class="ttdef"><b>Definition:</b> <a href="chbuffer_8c_source.html#l00040">chbuffer.c:40</a></div></div>
<div class="ttc" id="scanner_8c_html_a2e0b216fac9043db80ea028fe960dd39"><div class="ttname"><a href="scanner_8c.html#a2e0b216fac9043db80ea028fe960dd39">close_file</a></div><div class="ttdeci">static void close_file()</div><div class="ttdoc">Close the currently open file and update the file stack. This is automatically called when a file end...</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00094">scanner.c:94</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_a0ef93bc7d3083012d407fee0579fa648_cgraph.png" border="0" usemap="#scanner_8c_a0ef93bc7d3083012d407fee0579fa648_cgraph" alt=""/></div>
<map name="scanner_8c_a0ef93bc7d3083012d407fee0579fa648_cgraph" id="scanner_8c_a0ef93bc7d3083012d407fee0579fa648_cgraph">
<area shape="rect" id="node2" href="scanner_8c.html#a2e0b216fac9043db80ea028fe960dd39" title="Close the currently open file and update the file stack. This is automatically called when a file end..." alt="" coords="202,5,279,32"/>
<area shape="rect" id="node3" href="chbuffer_8c.html#a956cd6071386061524cfdb293007ff9e" title="destroy_char_buffer" alt="" coords="172,56,309,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_a0ef93bc7d3083012d407fee0579fa648_icgraph.png" border="0" usemap="#scanner_8c_a0ef93bc7d3083012d407fee0579fa648_icgraph" alt=""/></div>
<map name="scanner_8c_a0ef93bc7d3083012d407fee0579fa648_icgraph" id="scanner_8c_a0ef93bc7d3083012d407fee0579fa648_icgraph">
<area shape="rect" id="node2" href="scanner_8h.html#a963df60a03b85b21878bfdb58672f993" title="Create the scanner. This must be called before any other scanner function. " alt="" coords="172,100,264,127"/>
<area shape="rect" id="node3" href="alang_8c.html#ab934a38436204282275cc48bfe923e24" title="init_things" alt="" coords="312,100,393,127"/>
<area shape="rect" id="node4" href="alang_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="441,73,492,100"/>
<area shape="rect" id="node5" href="configure_8h.html#a770fa765eb6cca34ef710e37f505eda4" title="show_use" alt="" coords="540,68,621,95"/>
<area shape="rect" id="node6" href="configure_8c.html#a308850e33e2d2bef1a59e7cca78a1a85" title="check_required" alt="" coords="669,5,780,32"/>
<area shape="rect" id="node7" href="configure_8h.html#a4740d76c61b01b73341afb129f9cec4d" title="configure" alt="" coords="828,68,903,95"/>
</map>
</div>

</div>
</div>
<a id="a5c04757cfc5cdd9a7af37e504241157e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c04757cfc5cdd9a7af37e504241157e">&#9670;&nbsp;</a></span>eat_multi_line()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void eat_multi_line </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Eat a multi-line comment. </p>

<p class="definition">Definition at line <a class="el" href="scanner_8c_source.html#l00220">220</a> of file <a class="el" href="scanner_8c_source.html">scanner.c</a>.</p>

<p class="reference">References <a class="el" href="scanner_8h_source.html#l00011">END_OF_INPUT</a>, <a class="el" href="scanner_8c_source.html#l00111">get_char()</a>, and <a class="el" href="scanner_8c_source.html#l00147">unget_char()</a>.</p>

<p class="reference">Referenced by <a class="el" href="scanner_8c_source.html#l00747">comment_or_operator()</a>.</p>
<div class="fragment"><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                             {</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordtype">int</span> ch, state = 0;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordflow">while</span>(ch != <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea0e3733a4d13a591724fae5c6c951c832">END_OF_INPUT</a>) {</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        ch = <a class="code" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a>();</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <span class="keywordflow">switch</span>(state) {</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            <span class="keywordflow">case</span> 0:</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                <span class="keywordflow">if</span>(ch == <span class="charliteral">&#39;*&#39;</span>)</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                    state = 1;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                <span class="comment">//fprintf(stderr, &quot;0&quot;);</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            <span class="keywordflow">case</span> 1:</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                <span class="keywordflow">if</span>(ch == <span class="charliteral">&#39;/&#39;</span>)</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                    state = 2;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(ch != <span class="charliteral">&#39;*&#39;</span>)</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                    state = 0;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                <span class="comment">//fprintf(stderr, &quot;1&quot;);</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            <span class="keywordflow">case</span> 2:</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                <a class="code" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a>(ch);</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        }</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    }</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;}</div><div class="ttc" id="scanner_8c_html_a62fde60ffe0221615dca9102169dff64"><div class="ttname"><a href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a></div><div class="ttdeci">static void unget_char(int ch)</div><div class="ttdoc">Stuff the character back into the input stream. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00147">scanner.c:147</a></div></div>
<div class="ttc" id="scanner_8c_html_a751d3a7f3f2a98cbbc4029ae856372be"><div class="ttname"><a href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a></div><div class="ttdeci">static int get_char()</div><div class="ttdoc">Get the char object Read a single character from the input stream. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00111">scanner.c:111</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfea0e3733a4d13a591724fae5c6c951c832"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea0e3733a4d13a591724fae5c6c951c832">END_OF_INPUT</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00011">scanner.h:11</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_a5c04757cfc5cdd9a7af37e504241157e_cgraph.png" border="0" usemap="#scanner_8c_a5c04757cfc5cdd9a7af37e504241157e_cgraph" alt=""/></div>
<map name="scanner_8c_a5c04757cfc5cdd9a7af37e504241157e_cgraph" id="scanner_8c_a5c04757cfc5cdd9a7af37e504241157e_cgraph">
<area shape="rect" id="node2" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be" title="Get the char object Read a single character from the input stream. " alt="" coords="163,5,235,32"/>
<area shape="rect" id="node4" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64" title="Stuff the character back into the input stream. " alt="" coords="156,56,243,83"/>
<area shape="rect" id="node3" href="scanner_8c.html#a2e0b216fac9043db80ea028fe960dd39" title="Close the currently open file and update the file stack. This is automatically called when a file end..." alt="" coords="291,5,368,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_a5c04757cfc5cdd9a7af37e504241157e_icgraph.png" border="0" usemap="#scanner_8c_a5c04757cfc5cdd9a7af37e504241157e_icgraph" alt=""/></div>
<map name="scanner_8c_a5c04757cfc5cdd9a7af37e504241157e_icgraph" id="scanner_8c_a5c04757cfc5cdd9a7af37e504241157e_icgraph">
<area shape="rect" id="node2" href="scanner_8c.html#ae607bbd0a95b68ef81614ecbdcdf519a" title="Find out what to do with a &#39;/&#39; character. When this is entered, a (/) has been seen. If the next character is a (/) or a (*), then we have a comment, otherwise we have a / operator. " alt="" coords="156,31,304,57"/>
<area shape="rect" id="node3" href="scanner_8h.html#ab813ccd8271cf156beff16541aa1c476" title="Read text from the input stream and return a token. " alt="" coords="352,31,417,57"/>
<area shape="rect" id="node4" href="scanner_8h.html#acadf6d4cc0cd6d922a183a04af123be8" title="Retrieve a token and compare it against a token array. If the received token is not in the array..." alt="" coords="465,5,588,32"/>
<area shape="rect" id="node5" href="scanner_8h.html#a323ce9fdb2b8a07bc90f28716c9764a9" title="Retrieve the next token and check it against the specified token type. If the token does not match th..." alt="" coords="483,56,570,83"/>
</map>
</div>

</div>
</div>
<a id="a4ce21d4ba0fe825746431f52e60347ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ce21d4ba0fe825746431f52e60347ad">&#9670;&nbsp;</a></span>eat_single_line()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void eat_single_line </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Eat a single line comment. </p>

<p class="definition">Definition at line <a class="el" href="scanner_8c_source.html#l00202">202</a> of file <a class="el" href="scanner_8c_source.html">scanner.c</a>.</p>

<p class="reference">References <a class="el" href="scanner_8h_source.html#l00010">END_FILE</a>, <a class="el" href="scanner_8c_source.html#l00111">get_char()</a>, and <a class="el" href="scanner_8c_source.html#l00147">unget_char()</a>.</p>

<p class="reference">Referenced by <a class="el" href="scanner_8c_source.html#l00747">comment_or_operator()</a>.</p>
<div class="fragment"><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                              {</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordtype">int</span> ch, finished = 0;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">while</span>(!finished) {</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        ch = <a class="code" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a>();</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="keywordflow">if</span>(ch == <span class="charliteral">&#39;\n&#39;</span> || ch == <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfeaa4ee7c4def59d9b613ea29682f98ffb0">END_FILE</a>) {</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            <span class="comment">//return NONE_TOKEN;</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            <a class="code" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a>(ch);</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        }</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    }</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;}</div><div class="ttc" id="scanner_8c_html_a62fde60ffe0221615dca9102169dff64"><div class="ttname"><a href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a></div><div class="ttdeci">static void unget_char(int ch)</div><div class="ttdoc">Stuff the character back into the input stream. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00147">scanner.c:147</a></div></div>
<div class="ttc" id="scanner_8c_html_a751d3a7f3f2a98cbbc4029ae856372be"><div class="ttname"><a href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a></div><div class="ttdeci">static int get_char()</div><div class="ttdoc">Get the char object Read a single character from the input stream. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00111">scanner.c:111</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfeaa4ee7c4def59d9b613ea29682f98ffb0"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfeaa4ee7c4def59d9b613ea29682f98ffb0">END_FILE</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00010">scanner.h:10</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_a4ce21d4ba0fe825746431f52e60347ad_cgraph.png" border="0" usemap="#scanner_8c_a4ce21d4ba0fe825746431f52e60347ad_cgraph" alt=""/></div>
<map name="scanner_8c_a4ce21d4ba0fe825746431f52e60347ad_cgraph" id="scanner_8c_a4ce21d4ba0fe825746431f52e60347ad_cgraph">
<area shape="rect" id="node2" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be" title="Get the char object Read a single character from the input stream. " alt="" coords="169,5,241,32"/>
<area shape="rect" id="node4" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64" title="Stuff the character back into the input stream. " alt="" coords="161,56,248,83"/>
<area shape="rect" id="node3" href="scanner_8c.html#a2e0b216fac9043db80ea028fe960dd39" title="Close the currently open file and update the file stack. This is automatically called when a file end..." alt="" coords="296,5,373,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_a4ce21d4ba0fe825746431f52e60347ad_icgraph.png" border="0" usemap="#scanner_8c_a4ce21d4ba0fe825746431f52e60347ad_icgraph" alt=""/></div>
<map name="scanner_8c_a4ce21d4ba0fe825746431f52e60347ad_icgraph" id="scanner_8c_a4ce21d4ba0fe825746431f52e60347ad_icgraph">
<area shape="rect" id="node2" href="scanner_8c.html#ae607bbd0a95b68ef81614ecbdcdf519a" title="Find out what to do with a &#39;/&#39; character. When this is entered, a (/) has been seen. If the next character is a (/) or a (*), then we have a comment, otherwise we have a / operator. " alt="" coords="161,31,309,57"/>
<area shape="rect" id="node3" href="scanner_8h.html#ab813ccd8271cf156beff16541aa1c476" title="Read text from the input stream and return a token. " alt="" coords="357,31,423,57"/>
<area shape="rect" id="node4" href="scanner_8h.html#acadf6d4cc0cd6d922a183a04af123be8" title="Retrieve a token and compare it against a token array. If the received token is not in the array..." alt="" coords="471,5,593,32"/>
<area shape="rect" id="node5" href="scanner_8h.html#a323ce9fdb2b8a07bc90f28716c9764a9" title="Retrieve the next token and check it against the specified token type. If the token does not match th..." alt="" coords="489,56,575,83"/>
</map>
</div>

</div>
</div>
<a id="adbeae6c1148f611761e293b2d4083155"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbeae6c1148f611761e293b2d4083155">&#9670;&nbsp;</a></span>eat_until_ws()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void eat_until_ws </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Eat characters until white space is encountered. Used for the scanner to recover from an error. The white space is returned to the input stream. </p>

<p class="definition">Definition at line <a class="el" href="scanner_8c_source.html#l00190">190</a> of file <a class="el" href="scanner_8c_source.html">scanner.c</a>.</p>

<p class="reference">References <a class="el" href="chbuffer_8c_source.html#l00057">add_char_buffer()</a>, <a class="el" href="scanner_8c_source.html#l00111">get_char()</a>, <a class="el" href="scanner_8c_source.html#l00026">scanner_buffer</a>, and <a class="el" href="scanner_8c_source.html#l00147">unget_char()</a>.</p>

<p class="reference">Referenced by <a class="el" href="scanner_8c_source.html#l00546">read_dquote()</a>, and <a class="el" href="scanner_8c_source.html#l00584">read_squote()</a>.</p>
<div class="fragment"><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                           {</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordtype">int</span> ch;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">while</span>(!isspace(ch = <a class="code" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a>()))</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <a class="code" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>, ch);</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <a class="code" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a>(ch);</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;}</div><div class="ttc" id="scanner_8c_html_a46f294c9a8b344e4fd265f5279b6dad4"><div class="ttname"><a href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a></div><div class="ttdeci">static char_buffer_t scanner_buffer</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00026">scanner.c:26</a></div></div>
<div class="ttc" id="scanner_8c_html_a62fde60ffe0221615dca9102169dff64"><div class="ttname"><a href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a></div><div class="ttdeci">static void unget_char(int ch)</div><div class="ttdoc">Stuff the character back into the input stream. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00147">scanner.c:147</a></div></div>
<div class="ttc" id="scanner_8c_html_a751d3a7f3f2a98cbbc4029ae856372be"><div class="ttname"><a href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a></div><div class="ttdeci">static int get_char()</div><div class="ttdoc">Get the char object Read a single character from the input stream. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00111">scanner.c:111</a></div></div>
<div class="ttc" id="chbuffer_8c_html_acb6858c891762953750c7e15d22eb2a4"><div class="ttname"><a href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a></div><div class="ttdeci">void add_char_buffer(char_buffer_t chbuf, int ch)</div><div class="ttdef"><b>Definition:</b> <a href="chbuffer_8c_source.html#l00057">chbuffer.c:57</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_adbeae6c1148f611761e293b2d4083155_cgraph.png" border="0" usemap="#scanner_8c_adbeae6c1148f611761e293b2d4083155_cgraph" alt=""/></div>
<map name="scanner_8c_adbeae6c1148f611761e293b2d4083155_cgraph" id="scanner_8c_adbeae6c1148f611761e293b2d4083155_cgraph">
<area shape="rect" id="node2" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4" title="add_char_buffer" alt="" coords="148,5,263,32"/>
<area shape="rect" id="node4" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be" title="Get the char object Read a single character from the input stream. " alt="" coords="169,56,241,83"/>
<area shape="rect" id="node6" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64" title="Stuff the character back into the input stream. " alt="" coords="162,107,249,133"/>
<area shape="rect" id="node3" href="chbuffer_8c.html#ab6bd7ab68f67311ba96283983d8f4d8f" title="grow_buffer" alt="" coords="311,5,401,32"/>
<area shape="rect" id="node5" href="scanner_8c.html#a2e0b216fac9043db80ea028fe960dd39" title="Close the currently open file and update the file stack. This is automatically called when a file end..." alt="" coords="317,56,395,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_adbeae6c1148f611761e293b2d4083155_icgraph.png" border="0" usemap="#scanner_8c_adbeae6c1148f611761e293b2d4083155_icgraph" alt=""/></div>
<map name="scanner_8c_adbeae6c1148f611761e293b2d4083155_icgraph" id="scanner_8c_adbeae6c1148f611761e293b2d4083155_icgraph">
<area shape="rect" id="node2" href="scanner_8c.html#a724bc9c982f6d80ea7cc9cb382a67150" title="Read a string with escape translations. When this is entered, a (&quot;) has been seen and discarded..." alt="" coords="148,5,241,32"/>
<area shape="rect" id="node6" href="scanner_8c.html#a7485b39f90b06a1a8fc01ccd6268646d" title="Read a string without escape translations. When this is entered, a (&#39;) has been seen and discarded..." alt="" coords="148,56,241,83"/>
<area shape="rect" id="node3" href="scanner_8h.html#ab813ccd8271cf156beff16541aa1c476" title="Read text from the input stream and return a token. " alt="" coords="289,31,355,57"/>
<area shape="rect" id="node4" href="scanner_8h.html#acadf6d4cc0cd6d922a183a04af123be8" title="Retrieve a token and compare it against a token array. If the received token is not in the array..." alt="" coords="403,5,525,32"/>
<area shape="rect" id="node5" href="scanner_8h.html#a323ce9fdb2b8a07bc90f28716c9764a9" title="Retrieve the next token and check it against the specified token type. If the token does not match th..." alt="" coords="421,56,507,83"/>
</map>
</div>

</div>
</div>
<a id="aaa116fe0792e3602eb150589c5dc43a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa116fe0792e3602eb150589c5dc43a9">&#9670;&nbsp;</a></span>expect_tok()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a> expect_tok </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a>&#160;</td>
          <td class="paramname"><em>tok</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the next token and check it against the specified token type. If the token does not match the parameter, then a syntax error is issued. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tok</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>token_t </dd></dl>

<p class="definition">Definition at line <a class="el" href="scanner_8c_source.html#l00945">945</a> of file <a class="el" href="scanner_8c_source.html">scanner.c</a>.</p>

<p class="reference">References <a class="el" href="scanner_8h_source.html#l00008">ERROR_TOKEN</a>, <a class="el" href="scanner_8c_source.html#l00843">get_tok()</a>, <a class="el" href="errors_8c_source.html#l00027">syntax()</a>, and <a class="el" href="scanner_8c_source.html#l00821">token_to_str()</a>.</p>
<div class="fragment"><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;                                {</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a> token = <a class="code" href="scanner_8c.html#ab813ccd8271cf156beff16541aa1c476">get_tok</a>();</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <span class="keywordflow">if</span>(token != tok) {</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;        <a class="code" href="errors_8c.html#ac0bffed5fa1e4465a3f2376bb1d0ff8e">syntax</a>(<span class="stringliteral">&quot;expected a %s but got a %s.&quot;</span>, <a class="code" href="scanner_8c.html#a15a0a1b428d9897d6e026879cb30d21b">token_to_str</a>(tok), <a class="code" href="scanner_8c.html#a15a0a1b428d9897d6e026879cb30d21b">token_to_str</a>(token));</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea406acf88c81f7e4e3be83abd7164fa4a">ERROR_TOKEN</a>;</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    }</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;        <span class="keywordflow">return</span> token;</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;}</div><div class="ttc" id="scanner_8c_html_ab813ccd8271cf156beff16541aa1c476"><div class="ttname"><a href="scanner_8c.html#ab813ccd8271cf156beff16541aa1c476">get_tok</a></div><div class="ttdeci">token_t get_tok()</div><div class="ttdoc">Read text from the input stream and return a token. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00843">scanner.c:843</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfe"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a></div><div class="ttdeci">token_t</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00006">scanner.h:6</a></div></div>
<div class="ttc" id="errors_8c_html_ac0bffed5fa1e4465a3f2376bb1d0ff8e"><div class="ttname"><a href="errors_8c.html#ac0bffed5fa1e4465a3f2376bb1d0ff8e">syntax</a></div><div class="ttdeci">void syntax(const char *str,...)</div><div class="ttdef"><b>Definition:</b> <a href="errors_8c_source.html#l00027">errors.c:27</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfea406acf88c81f7e4e3be83abd7164fa4a"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea406acf88c81f7e4e3be83abd7164fa4a">ERROR_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00008">scanner.h:8</a></div></div>
<div class="ttc" id="scanner_8c_html_a15a0a1b428d9897d6e026879cb30d21b"><div class="ttname"><a href="scanner_8c.html#a15a0a1b428d9897d6e026879cb30d21b">token_to_str</a></div><div class="ttdeci">const char * token_to_str(token_t tok)</div><div class="ttdoc">Convert a token to a string for documentation and errors. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00821">scanner.c:821</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_aaa116fe0792e3602eb150589c5dc43a9_cgraph.png" border="0" usemap="#scanner_8c_aaa116fe0792e3602eb150589c5dc43a9_cgraph" alt=""/></div>
<map name="scanner_8c_aaa116fe0792e3602eb150589c5dc43a9_cgraph" id="scanner_8c_aaa116fe0792e3602eb150589c5dc43a9_cgraph">
<area shape="rect" id="node2" href="scanner_8c.html#ab813ccd8271cf156beff16541aa1c476" title="Read text from the input stream and return a token. " alt="" coords="155,892,220,919"/>
<area shape="rect" id="node20" href="errors_8c.html#ac0bffed5fa1e4465a3f2376bb1d0ff8e" title="syntax" alt="" coords="864,1525,925,1552"/>
<area shape="rect" id="node34" href="scanner_8c.html#a15a0a1b428d9897d6e026879cb30d21b" title="Convert a token to a string for documentation and errors. " alt="" coords="140,1728,235,1755"/>
<area shape="rect" id="node3" href="scanner_8c.html#acbbdc80f7ad0b9998e6c40c665055240" title="Skip white space. " alt="" coords="673,563,743,589"/>
<area shape="rect" id="node4" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be" title="Get the char object Read a single character from the input stream. " alt="" coords="859,965,931,992"/>
<area shape="rect" id="node6" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64" title="Stuff the character back into the input stream. " alt="" coords="851,639,938,665"/>
<area shape="rect" id="node7" href="chbuffer_8c.html#aa876cf0de395b607a2a67f4ba1c105f0" title="init_char_buffer" alt="" coords="283,5,393,32"/>
<area shape="rect" id="node8" href="scanner_8c.html#a724bc9c982f6d80ea7cc9cb382a67150" title="Read a string with escape translations. When this is entered, a (&quot;) has been seen and discarded..." alt="" coords="291,879,385,905"/>
<area shape="rect" id="node11" href="errors_8c.html#ae00bc00a057df39f4ebc8eed485f953e" title="warning" alt="" coords="861,309,928,336"/>
<area shape="rect" id="node22" href="scanner_8c.html#a7485b39f90b06a1a8fc01ccd6268646d" title="Read a string without escape translations. When this is entered, a (&#39;) has been seen and discarded..." alt="" coords="469,1171,562,1197"/>
<area shape="rect" id="node23" href="scanner_8c.html#ae607bbd0a95b68ef81614ecbdcdf519a" title="Find out what to do with a &#39;/&#39; character. When this is entered, a (/) has been seen. If the next character is a (/) or a (*), then we have a comment, otherwise we have a / operator. " alt="" coords="441,715,589,741"/>
<area shape="rect" id="node26" href="scanner_8c.html#ae1ec61f0fae80f99861be0cd9a35a1a5" title="A digit has been seen. This is the entry to find out what kind of number is being read and then retur..." alt="" coords="454,1120,577,1147"/>
<area shape="rect" id="node31" href="scanner_8c.html#aafc5da6edd9fb271cf3d877b1dd36240" title="Read a word from the input and then find out if it&#39;s a keyword. " alt="" coords="667,1120,749,1147"/>
<area shape="rect" id="node33" href="scanner_8c.html#a3205222d05c01cd1d1e2f3c6d605f971" title="Read a punctuation character from input stream. When this is entered, a punctuation character has bee..." alt="" coords="472,968,559,995"/>
<area shape="rect" id="node5" href="scanner_8c.html#a2e0b216fac9043db80ea028fe960dd39" title="Close the currently open file and update the file stack. This is automatically called when a file end..." alt="" coords="1029,965,1107,992"/>
<area shape="rect" id="node9" href="scanner_8c.html#af34c4092683c2caeb938899cfd73d86e" title="Get the string esc object When this is entered, a back&#45;slash has been seen in a dquote string..." alt="" coords="462,335,569,361"/>
<area shape="rect" id="node16" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4" title="add_char_buffer" alt="" coords="1011,1083,1125,1109"/>
<area shape="rect" id="node21" href="scanner_8c.html#adbeae6c1148f611761e293b2d4083155" title="Eat characters until white space is encountered. Used for the scanner to recover from an error..." alt="" coords="661,1019,755,1045"/>
<area shape="rect" id="node10" href="scanner_8c.html#a82bf6517965ad70ea8264b70e36ca556" title="Get the hex escape object. " alt="" coords="649,309,767,336"/>
<area shape="rect" id="node18" href="scanner_8c.html#a5974a5d4c4aafa45ad1675231b12b398" title="Get the decimal escape object. " alt="" coords="637,360,779,387"/>
<area shape="rect" id="node19" href="scanner_8c.html#ad6d7958aaede5957c26394284d9ace36" title="Get the octal escape object When this is called the &#39;0&#39; has already been read. The converted binary ..." alt="" coords="646,259,770,285"/>
<area shape="rect" id="node15" href="chbuffer_8c.html#a9ec7cef1465c69649271072c19f3cd1d" title="add_char_buffer_int" alt="" coords="827,360,963,387"/>
<area shape="rect" id="node12" href="scanner_8c.html#a8161fb9051e2095068a797853806394b" title="Return the current column number in the current file. If there is no file open then return &#45;1..." alt="" coords="1013,1456,1123,1483"/>
<area shape="rect" id="node13" href="scanner_8c.html#a578f62c1d479d8626ea68dbce908a744" title="Return the current file name. For error handling. If no file is open, then return the string &quot;no file..." alt="" coords="1017,1165,1119,1192"/>
<area shape="rect" id="node14" href="scanner_8c.html#aeb057c7f2a5d7bea59fbdd08227a9c5c" title="Return the current line number in the current file. If there is no file open then return &#45;1..." alt="" coords="1024,1279,1112,1305"/>
<area shape="rect" id="node17" href="chbuffer_8c.html#ab6bd7ab68f67311ba96283983d8f4d8f" title="grow_buffer" alt="" coords="1173,1083,1264,1109"/>
<area shape="rect" id="node24" href="scanner_8c.html#a5c04757cfc5cdd9a7af37e504241157e" title="Eat a multi&#45;line comment. " alt="" coords="657,715,759,741"/>
<area shape="rect" id="node25" href="scanner_8c.html#a4ce21d4ba0fe825746431f52e60347ad" title="Eat a single line comment. " alt="" coords="654,664,762,691"/>
<area shape="rect" id="node27" href="scanner_8c.html#ac1c72c55c50c29f4e4a1c389030e089c" title="Finish reading a hex number from the input stream. When this is called, the &quot;0x&quot; has already been sca..." alt="" coords="645,1272,771,1299"/>
<area shape="rect" id="node28" href="scanner_8c.html#a828f3d1cf54a7739b49733416cf76f7a" title="Scan a floating point number. When this is called the first part of the number, up to the &#39;..." alt="" coords="643,1424,773,1451"/>
<area shape="rect" id="node29" href="chbuffer_8c.html#a2d5224d2b35a784853b73f58c816abf3" title="get_char_buffer" alt="" coords="839,1373,951,1400"/>
<area shape="rect" id="node30" href="scanner_8c.html#a82c9d9502b1585c8db6cae8e8f3b3c21" title="Finish reading an octal number. An octal number starts with a &#39;0&#39; and all digits are less than &#39;7&#39;..." alt="" coords="642,1373,774,1400"/>
<area shape="rect" id="node32" href="scanner_8c.html#ac9d2f4eca16d0523494a48163e2924f1" title="Convert the given keyword string to a token. If it is not a keyword, then SYMBOL_TOKEN is returned..." alt="" coords="847,1133,942,1160"/>
</map>
</div>

</div>
</div>
<a id="a15b8275b4303abc727b0d8612b8fa59c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15b8275b4303abc727b0d8612b8fa59c">&#9670;&nbsp;</a></span>expect_tok_array()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a> expect_tok_array </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a> *&#160;</td>
          <td class="paramname"><em>arr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve a token and compare it against a token array. If the received token is not in the array, then issue a syntax error and return the ERROR_TOKEN. The array must be terminated with the NONE_TOKEN. (AKA 0) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arr</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>token_t </dd></dl>

<p class="definition">Definition at line <a class="el" href="scanner_8c_source.html#l00915">915</a> of file <a class="el" href="scanner_8c_source.html">scanner.c</a>.</p>

<p class="reference">References <a class="el" href="scanner_8h_source.html#l00008">ERROR_TOKEN</a>, <a class="el" href="scanner_8c_source.html#l00013">__file_stack::fp</a>, <a class="el" href="scanner_8c_source.html#l01031">get_column_no()</a>, <a class="el" href="errors_8c_source.html#l00119">get_err_stream()</a>, <a class="el" href="scanner_8c_source.html#l01003">get_file_name()</a>, <a class="el" href="scanner_8c_source.html#l01017">get_line_no()</a>, <a class="el" href="scanner_8c_source.html#l00843">get_tok()</a>, <a class="el" href="scanner_8h_source.html#l00007">NONE_TOKEN</a>, and <a class="el" href="scanner_8c_source.html#l00821">token_to_str()</a>.</p>
<div class="fragment"><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;                                       {</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a> token = <a class="code" href="scanner_8c.html#ab813ccd8271cf156beff16541aa1c476">get_tok</a>();</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; arr[i] != <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea92eb9340b108c2cc0589f922dd843de5">NONE_TOKEN</a>; i++) {</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        <span class="keywordflow">if</span>(token == arr[i])</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;            <span class="keywordflow">return</span> token;</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    }</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    <span class="comment">// this is contrived to look like a standard syntax error</span></div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <span class="comment">// calling this on an empty input stream will produce a wonky message</span></div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    FILE* <a class="code" href="errors_8c.html#aa065f30aa9f5f9a42132c82c787ee70b">fp</a> = <a class="code" href="errors_8c.html#a92588a8ced701e971a79e497249b2ba9">get_err_stream</a>();</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    fprintf(fp, <span class="stringliteral">&quot;Syntax Error: %s: %d: %d: expected &quot;</span>,</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        <a class="code" href="scanner_8c.html#a578f62c1d479d8626ea68dbce908a744">get_file_name</a>(), <a class="code" href="scanner_8c.html#aeb057c7f2a5d7bea59fbdd08227a9c5c">get_line_no</a>(), <a class="code" href="scanner_8c.html#a8161fb9051e2095068a797853806394b">get_column_no</a>());</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; arr[i] != <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea92eb9340b108c2cc0589f922dd843de5">NONE_TOKEN</a>; i++) {</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;        fprintf(fp, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="scanner_8c.html#a15a0a1b428d9897d6e026879cb30d21b">token_to_str</a>(arr[i]));</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;        <span class="keywordflow">if</span>(arr[i + 1] != <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea92eb9340b108c2cc0589f922dd843de5">NONE_TOKEN</a>)</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;            fprintf(fp, <span class="stringliteral">&quot;,&quot;</span>);</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;        fprintf(fp, <span class="stringliteral">&quot; &quot;</span>);</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    }</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    fprintf(fp, <span class="stringliteral">&quot;but got a %s.\n&quot;</span>, <a class="code" href="scanner_8c.html#a15a0a1b428d9897d6e026879cb30d21b">token_to_str</a>(token));</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea406acf88c81f7e4e3be83abd7164fa4a">ERROR_TOKEN</a>;</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;}</div><div class="ttc" id="scanner_8c_html_ab813ccd8271cf156beff16541aa1c476"><div class="ttname"><a href="scanner_8c.html#ab813ccd8271cf156beff16541aa1c476">get_tok</a></div><div class="ttdeci">token_t get_tok()</div><div class="ttdoc">Read text from the input stream and return a token. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00843">scanner.c:843</a></div></div>
<div class="ttc" id="errors_8c_html_aa065f30aa9f5f9a42132c82c787ee70b"><div class="ttname"><a href="errors_8c.html#aa065f30aa9f5f9a42132c82c787ee70b">fp</a></div><div class="ttdeci">FILE * fp</div><div class="ttdef"><b>Definition:</b> <a href="errors_8c_source.html#l00007">errors.c:7</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfea92eb9340b108c2cc0589f922dd843de5"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea92eb9340b108c2cc0589f922dd843de5">NONE_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00007">scanner.h:7</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfe"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a></div><div class="ttdeci">token_t</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00006">scanner.h:6</a></div></div>
<div class="ttc" id="scanner_8c_html_a578f62c1d479d8626ea68dbce908a744"><div class="ttname"><a href="scanner_8c.html#a578f62c1d479d8626ea68dbce908a744">get_file_name</a></div><div class="ttdeci">const char * get_file_name()</div><div class="ttdoc">Return the current file name. For error handling. If no file is open, then return the string &quot;no file...</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l01003">scanner.c:1003</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfea406acf88c81f7e4e3be83abd7164fa4a"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea406acf88c81f7e4e3be83abd7164fa4a">ERROR_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00008">scanner.h:8</a></div></div>
<div class="ttc" id="scanner_8c_html_a15a0a1b428d9897d6e026879cb30d21b"><div class="ttname"><a href="scanner_8c.html#a15a0a1b428d9897d6e026879cb30d21b">token_to_str</a></div><div class="ttdeci">const char * token_to_str(token_t tok)</div><div class="ttdoc">Convert a token to a string for documentation and errors. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00821">scanner.c:821</a></div></div>
<div class="ttc" id="scanner_8c_html_a8161fb9051e2095068a797853806394b"><div class="ttname"><a href="scanner_8c.html#a8161fb9051e2095068a797853806394b">get_column_no</a></div><div class="ttdeci">int get_column_no()</div><div class="ttdoc">Return the current column number in the current file. If there is no file open then return -1...</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l01031">scanner.c:1031</a></div></div>
<div class="ttc" id="scanner_8c_html_aeb057c7f2a5d7bea59fbdd08227a9c5c"><div class="ttname"><a href="scanner_8c.html#aeb057c7f2a5d7bea59fbdd08227a9c5c">get_line_no</a></div><div class="ttdeci">int get_line_no()</div><div class="ttdoc">Return the current line number in the current file. If there is no file open then return -1...</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l01017">scanner.c:1017</a></div></div>
<div class="ttc" id="errors_8c_html_a92588a8ced701e971a79e497249b2ba9"><div class="ttname"><a href="errors_8c.html#a92588a8ced701e971a79e497249b2ba9">get_err_stream</a></div><div class="ttdeci">FILE * get_err_stream()</div><div class="ttdef"><b>Definition:</b> <a href="errors_8c_source.html#l00119">errors.c:119</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_a15b8275b4303abc727b0d8612b8fa59c_cgraph.png" border="0" usemap="#scanner_8c_a15b8275b4303abc727b0d8612b8fa59c_cgraph" alt=""/></div>
<map name="scanner_8c_a15b8275b4303abc727b0d8612b8fa59c_cgraph" id="scanner_8c_a15b8275b4303abc727b0d8612b8fa59c_cgraph">
<area shape="rect" id="node2" href="scanner_8c.html#a8161fb9051e2095068a797853806394b" title="Return the current column number in the current file. If there is no file open then return &#45;1..." alt="" coords="1063,144,1174,171"/>
<area shape="rect" id="node3" href="errors_8c.html#a92588a8ced701e971a79e497249b2ba9" title="get_err_stream" alt="" coords="176,815,285,841"/>
<area shape="rect" id="node4" href="scanner_8c.html#a578f62c1d479d8626ea68dbce908a744" title="Return the current file name. For error handling. If no file is open, then return the string &quot;no file..." alt="" coords="1067,195,1170,221"/>
<area shape="rect" id="node5" href="scanner_8c.html#aeb057c7f2a5d7bea59fbdd08227a9c5c" title="Return the current line number in the current file. If there is no file open then return &#45;1..." alt="" coords="1075,245,1163,272"/>
<area shape="rect" id="node6" href="scanner_8c.html#ab813ccd8271cf156beff16541aa1c476" title="Read text from the input stream and return a token. " alt="" coords="198,764,263,791"/>
<area shape="rect" id="node35" href="scanner_8c.html#a15a0a1b428d9897d6e026879cb30d21b" title="Convert a token to a string for documentation and errors. " alt="" coords="183,865,278,892"/>
<area shape="rect" id="node7" href="scanner_8c.html#acbbdc80f7ad0b9998e6c40c665055240" title="Skip white space. " alt="" coords="723,752,794,779"/>
<area shape="rect" id="node8" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be" title="Get the char object Read a single character from the input stream. " alt="" coords="909,777,981,804"/>
<area shape="rect" id="node10" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64" title="Stuff the character back into the input stream. " alt="" coords="902,1031,989,1057"/>
<area shape="rect" id="node11" href="chbuffer_8c.html#aa876cf0de395b607a2a67f4ba1c105f0" title="init_char_buffer" alt="" coords="333,739,444,765"/>
<area shape="rect" id="node12" href="scanner_8c.html#a724bc9c982f6d80ea7cc9cb382a67150" title="Read a string with escape translations. When this is entered, a (&quot;) has been seen and discarded..." alt="" coords="342,625,435,652"/>
<area shape="rect" id="node15" href="errors_8c.html#ae00bc00a057df39f4ebc8eed485f953e" title="warning" alt="" coords="912,195,979,221"/>
<area shape="rect" id="node23" href="scanner_8c.html#a7485b39f90b06a1a8fc01ccd6268646d" title="Read a string without escape translations. When this is entered, a (&#39;) has been seen and discarded..." alt="" coords="519,1436,613,1463"/>
<area shape="rect" id="node24" href="scanner_8c.html#ae607bbd0a95b68ef81614ecbdcdf519a" title="Find out what to do with a &#39;/&#39; character. When this is entered, a (/) has been seen. If the next character is a (/) or a (*), then we have a comment, otherwise we have a / operator. " alt="" coords="492,840,640,867"/>
<area shape="rect" id="node27" href="scanner_8c.html#ae1ec61f0fae80f99861be0cd9a35a1a5" title="A digit has been seen. This is the entry to find out what kind of number is being read and then retur..." alt="" coords="505,1335,627,1361"/>
<area shape="rect" id="node32" href="scanner_8c.html#aafc5da6edd9fb271cf3d877b1dd36240" title="Read a word from the input and then find out if it&#39;s a keyword. " alt="" coords="717,1512,800,1539"/>
<area shape="rect" id="node34" href="scanner_8c.html#a3205222d05c01cd1d1e2f3c6d605f971" title="Read a punctuation character from input stream. When this is entered, a punctuation character has bee..." alt="" coords="523,891,609,917"/>
<area shape="rect" id="node9" href="scanner_8c.html#a2e0b216fac9043db80ea028fe960dd39" title="Close the currently open file and update the file stack. This is automatically called when a file end..." alt="" coords="1080,777,1157,804"/>
<area shape="rect" id="node13" href="scanner_8c.html#af34c4092683c2caeb938899cfd73d86e" title="Get the string esc object When this is entered, a back&#45;slash has been seen in a dquote string..." alt="" coords="513,372,619,399"/>
<area shape="rect" id="node17" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4" title="add_char_buffer" alt="" coords="1061,1259,1176,1285"/>
<area shape="rect" id="node21" href="errors_8c.html#ac0bffed5fa1e4465a3f2376bb1d0ff8e" title="syntax" alt="" coords="915,1309,976,1336"/>
<area shape="rect" id="node22" href="scanner_8c.html#adbeae6c1148f611761e293b2d4083155" title="Eat characters until white space is encountered. Used for the scanner to recover from an error..." alt="" coords="711,1259,806,1285"/>
<area shape="rect" id="node14" href="scanner_8c.html#a82bf6517965ad70ea8264b70e36ca556" title="Get the hex escape object. " alt="" coords="700,296,817,323"/>
<area shape="rect" id="node19" href="scanner_8c.html#a5974a5d4c4aafa45ad1675231b12b398" title="Get the decimal escape object. " alt="" coords="688,347,829,373"/>
<area shape="rect" id="node20" href="scanner_8c.html#ad6d7958aaede5957c26394284d9ace36" title="Get the octal escape object When this is called the &#39;0&#39; has already been read. The converted binary ..." alt="" coords="697,397,821,424"/>
<area shape="rect" id="node16" href="chbuffer_8c.html#a9ec7cef1465c69649271072c19f3cd1d" title="add_char_buffer_int" alt="" coords="877,347,1013,373"/>
<area shape="rect" id="node18" href="chbuffer_8c.html#ab6bd7ab68f67311ba96283983d8f4d8f" title="grow_buffer" alt="" coords="1224,1259,1315,1285"/>
<area shape="rect" id="node25" href="scanner_8c.html#a5c04757cfc5cdd9a7af37e504241157e" title="Eat a multi&#45;line comment. " alt="" coords="707,955,810,981"/>
<area shape="rect" id="node26" href="scanner_8c.html#a4ce21d4ba0fe825746431f52e60347ad" title="Eat a single line comment. " alt="" coords="705,803,813,829"/>
<area shape="rect" id="node28" href="scanner_8c.html#ac1c72c55c50c29f4e4a1c389030e089c" title="Finish reading a hex number from the input stream. When this is called, the &quot;0x&quot; has already been sca..." alt="" coords="696,1309,821,1336"/>
<area shape="rect" id="node29" href="scanner_8c.html#a828f3d1cf54a7739b49733416cf76f7a" title="Scan a floating point number. When this is called the first part of the number, up to the &#39;..." alt="" coords="694,1411,823,1437"/>
<area shape="rect" id="node30" href="chbuffer_8c.html#a2d5224d2b35a784853b73f58c816abf3" title="get_char_buffer" alt="" coords="889,1461,1001,1488"/>
<area shape="rect" id="node31" href="scanner_8c.html#a82c9d9502b1585c8db6cae8e8f3b3c21" title="Finish reading an octal number. An octal number starts with a &#39;0&#39; and all digits are less than &#39;7&#39;..." alt="" coords="693,1360,825,1387"/>
<area shape="rect" id="node33" href="scanner_8c.html#ac9d2f4eca16d0523494a48163e2924f1" title="Convert the given keyword string to a token. If it is not a keyword, then SYMBOL_TOKEN is returned..." alt="" coords="898,1512,993,1539"/>
</map>
</div>

</div>
</div>
<a id="a751d3a7f3f2a98cbbc4029ae856372be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a751d3a7f3f2a98cbbc4029ae856372be">&#9670;&nbsp;</a></span>get_char()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int get_char </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the char object Read a single character from the input stream. </p>
<dl class="section return"><dt>Returns</dt><dd>int </dd></dl>

<p class="definition">Definition at line <a class="el" href="scanner_8c_source.html#l00111">111</a> of file <a class="el" href="scanner_8c_source.html">scanner.c</a>.</p>

<p class="reference">References <a class="el" href="scanner_8c_source.html#l00094">close_file()</a>, <a class="el" href="scanner_8c_source.html#l00015">__file_stack::col_no</a>, <a class="el" href="scanner_8h_source.html#l00010">END_FILE</a>, <a class="el" href="scanner_8h_source.html#l00009">END_INPUT</a>, <a class="el" href="scanner_8c_source.html#l00027">file_flag</a>, <a class="el" href="scanner_8c_source.html#l00013">__file_stack::fp</a>, <a class="el" href="scanner_8c_source.html#l00028">last_col</a>, and <a class="el" href="scanner_8c_source.html#l00014">__file_stack::line_no</a>.</p>

<p class="reference">Referenced by <a class="el" href="scanner_8c_source.html#l00747">comment_or_operator()</a>, <a class="el" href="scanner_8c_source.html#l00220">eat_multi_line()</a>, <a class="el" href="scanner_8c_source.html#l00202">eat_single_line()</a>, <a class="el" href="scanner_8c_source.html#l00190">eat_until_ws()</a>, <a class="el" href="scanner_8c_source.html#l00475">get_decimal_escape()</a>, <a class="el" href="scanner_8c_source.html#l00414">get_hex_escape()</a>, <a class="el" href="scanner_8c_source.html#l00448">get_octal_escape()</a>, <a class="el" href="scanner_8c_source.html#l00514">get_string_esc()</a>, <a class="el" href="scanner_8c_source.html#l00843">get_tok()</a>, <a class="el" href="scanner_8c_source.html#l00546">read_dquote()</a>, <a class="el" href="scanner_8c_source.html#l00296">read_float_number()</a>, <a class="el" href="scanner_8c_source.html#l00255">read_hex_number()</a>, <a class="el" href="scanner_8c_source.html#l00353">read_number_top()</a>, <a class="el" href="scanner_8c_source.html#l00270">read_octal_number()</a>, <a class="el" href="scanner_8c_source.html#l00642">read_punct()</a>, <a class="el" href="scanner_8c_source.html#l00584">read_squote()</a>, <a class="el" href="scanner_8c_source.html#l00615">read_word()</a>, and <a class="el" href="scanner_8c_source.html#l00168">skip_ws()</a>.</p>
<div class="fragment"><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                      {</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordtype">int</span> ch;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="comment">// defer closing the file until after the END_OF_FILE token has been read.</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="scanner_8c.html#a39b79affaeabd99e1fdfcdcd92f113d9">file_flag</a>) {</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <a class="code" href="scanner_8c.html#a39b79affaeabd99e1fdfcdcd92f113d9">file_flag</a> = 0;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <a class="code" href="scanner_8c.html#a2e0b216fac9043db80ea028fe960dd39">close_file</a>();</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    }</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="scanner_8c.html#afd1a3d8d9ea5da829d7739127f89a7de">top</a> != NULL) {</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        ch = fgetc(<a class="code" href="scanner_8c.html#afd1a3d8d9ea5da829d7739127f89a7de">top</a>-&gt;<a class="code" href="struct____file__stack.html#aa6629155a04b3945e3b7ceb78a596ab5">fp</a>);</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        <span class="keywordflow">if</span>(ch == EOF) {</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            ch = <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfeaa4ee7c4def59d9b613ea29682f98ffb0">END_FILE</a>;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        }</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(ch == <span class="charliteral">&#39;\n&#39;</span>) {</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            <a class="code" href="scanner_8c.html#afd1a3d8d9ea5da829d7739127f89a7de">top</a>-&gt;<a class="code" href="struct____file__stack.html#a6c58c6c5dc2a539c7311646ad468e74d">line_no</a>++;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            <a class="code" href="scanner_8c.html#af351fb3580ddd97b5d430664f878802e">last_col</a> = <a class="code" href="scanner_8c.html#afd1a3d8d9ea5da829d7739127f89a7de">top</a>-&gt;<a class="code" href="struct____file__stack.html#abeb7ba9366a47153189008a0bc91f0cb">col_no</a>;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            <a class="code" href="scanner_8c.html#afd1a3d8d9ea5da829d7739127f89a7de">top</a>-&gt;<a class="code" href="struct____file__stack.html#abeb7ba9366a47153189008a0bc91f0cb">col_no</a> = 1;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        }</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            <a class="code" href="scanner_8c.html#afd1a3d8d9ea5da829d7739127f89a7de">top</a>-&gt;<a class="code" href="struct____file__stack.html#abeb7ba9366a47153189008a0bc91f0cb">col_no</a>++;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            <span class="comment">//last_col = top-&gt;col_no;</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        }</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    }</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        ch = <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea0ddfc8846f90572f05d2e8e1afc05f78">END_INPUT</a>;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    }</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">return</span> ch;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;}</div><div class="ttc" id="scanner_8c_html_a39b79affaeabd99e1fdfcdcd92f113d9"><div class="ttname"><a href="scanner_8c.html#a39b79affaeabd99e1fdfcdcd92f113d9">file_flag</a></div><div class="ttdeci">static int file_flag</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00027">scanner.c:27</a></div></div>
<div class="ttc" id="scanner_8c_html_afd1a3d8d9ea5da829d7739127f89a7de"><div class="ttname"><a href="scanner_8c.html#afd1a3d8d9ea5da829d7739127f89a7de">top</a></div><div class="ttdeci">static file_stack_t * top</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00025">scanner.c:25</a></div></div>
<div class="ttc" id="scanner_8c_html_af351fb3580ddd97b5d430664f878802e"><div class="ttname"><a href="scanner_8c.html#af351fb3580ddd97b5d430664f878802e">last_col</a></div><div class="ttdeci">static int last_col</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00028">scanner.c:28</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfea0ddfc8846f90572f05d2e8e1afc05f78"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea0ddfc8846f90572f05d2e8e1afc05f78">END_INPUT</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00009">scanner.h:9</a></div></div>
<div class="ttc" id="struct____file__stack_html_abeb7ba9366a47153189008a0bc91f0cb"><div class="ttname"><a href="struct____file__stack.html#abeb7ba9366a47153189008a0bc91f0cb">__file_stack::col_no</a></div><div class="ttdeci">int col_no</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00015">scanner.c:15</a></div></div>
<div class="ttc" id="scanner_8c_html_a2e0b216fac9043db80ea028fe960dd39"><div class="ttname"><a href="scanner_8c.html#a2e0b216fac9043db80ea028fe960dd39">close_file</a></div><div class="ttdeci">static void close_file()</div><div class="ttdoc">Close the currently open file and update the file stack. This is automatically called when a file end...</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00094">scanner.c:94</a></div></div>
<div class="ttc" id="struct____file__stack_html_aa6629155a04b3945e3b7ceb78a596ab5"><div class="ttname"><a href="struct____file__stack.html#aa6629155a04b3945e3b7ceb78a596ab5">__file_stack::fp</a></div><div class="ttdeci">FILE * fp</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00013">scanner.c:13</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfeaa4ee7c4def59d9b613ea29682f98ffb0"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfeaa4ee7c4def59d9b613ea29682f98ffb0">END_FILE</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00010">scanner.h:10</a></div></div>
<div class="ttc" id="struct____file__stack_html_a6c58c6c5dc2a539c7311646ad468e74d"><div class="ttname"><a href="struct____file__stack.html#a6c58c6c5dc2a539c7311646ad468e74d">__file_stack::line_no</a></div><div class="ttdeci">int line_no</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00014">scanner.c:14</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_a751d3a7f3f2a98cbbc4029ae856372be_cgraph.png" border="0" usemap="#scanner_8c_a751d3a7f3f2a98cbbc4029ae856372be_cgraph" alt=""/></div>
<map name="scanner_8c_a751d3a7f3f2a98cbbc4029ae856372be_cgraph" id="scanner_8c_a751d3a7f3f2a98cbbc4029ae856372be_cgraph">
<area shape="rect" id="node2" href="scanner_8c.html#a2e0b216fac9043db80ea028fe960dd39" title="Close the currently open file and update the file stack. This is automatically called when a file end..." alt="" coords="125,5,203,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_a751d3a7f3f2a98cbbc4029ae856372be_icgraph.png" border="0" usemap="#scanner_8c_a751d3a7f3f2a98cbbc4029ae856372be_icgraph" alt=""/></div>
<map name="scanner_8c_a751d3a7f3f2a98cbbc4029ae856372be_icgraph" id="scanner_8c_a751d3a7f3f2a98cbbc4029ae856372be_icgraph">
<area shape="rect" id="node2" href="scanner_8c.html#ae607bbd0a95b68ef81614ecbdcdf519a" title="Find out what to do with a &#39;/&#39; character. When this is entered, a (/) has been seen. If the next character is a (/) or a (*), then we have a comment, otherwise we have a / operator. " alt="" coords="315,67,463,94"/>
<area shape="rect" id="node3" href="scanner_8h.html#ab813ccd8271cf156beff16541aa1c476" title="Read text from the input stream and return a token. " alt="" coords="652,447,717,474"/>
<area shape="rect" id="node6" href="scanner_8c.html#a5c04757cfc5cdd9a7af37e504241157e" title="Eat a multi&#45;line comment. " alt="" coords="145,42,247,68"/>
<area shape="rect" id="node7" href="scanner_8c.html#a4ce21d4ba0fe825746431f52e60347ad" title="Eat a single line comment. " alt="" coords="142,92,250,119"/>
<area shape="rect" id="node8" href="scanner_8c.html#adbeae6c1148f611761e293b2d4083155" title="Eat characters until white space is encountered. Used for the scanner to recover from an error..." alt="" coords="149,244,243,271"/>
<area shape="rect" id="node9" href="scanner_8c.html#a724bc9c982f6d80ea7cc9cb382a67150" title="Read a string with escape translations. When this is entered, a (&quot;) has been seen and discarded..." alt="" coords="511,422,604,448"/>
<area shape="rect" id="node10" href="scanner_8c.html#a7485b39f90b06a1a8fc01ccd6268646d" title="Read a string without escape translations. When this is entered, a (&#39;) has been seen and discarded..." alt="" coords="342,244,435,271"/>
<area shape="rect" id="node11" href="scanner_8c.html#a5974a5d4c4aafa45ad1675231b12b398" title="Get the decimal escape object. " alt="" coords="125,396,267,423"/>
<area shape="rect" id="node12" href="scanner_8c.html#af34c4092683c2caeb938899cfd73d86e" title="Get the string esc object When this is entered, a back&#45;slash has been seen in a dquote string..." alt="" coords="335,396,442,423"/>
<area shape="rect" id="node13" href="scanner_8c.html#a82bf6517965ad70ea8264b70e36ca556" title="Get the hex escape object. " alt="" coords="137,295,255,322"/>
<area shape="rect" id="node14" href="scanner_8c.html#ad6d7958aaede5957c26394284d9ace36" title="Get the octal escape object When this is called the &#39;0&#39; has already been read. The converted binary ..." alt="" coords="134,346,258,372"/>
<area shape="rect" id="node15" href="scanner_8c.html#a828f3d1cf54a7739b49733416cf76f7a" title="Scan a floating point number. When this is called the first part of the number, up to the &#39;..." alt="" coords="131,650,261,676"/>
<area shape="rect" id="node16" href="scanner_8c.html#ae1ec61f0fae80f99861be0cd9a35a1a5" title="A digit has been seen. This is the entry to find out what kind of number is being read and then retur..." alt="" coords="327,599,450,626"/>
<area shape="rect" id="node17" href="scanner_8c.html#ac1c72c55c50c29f4e4a1c389030e089c" title="Finish reading a hex number from the input stream. When this is called, the &quot;0x&quot; has already been sca..." alt="" coords="133,548,259,575"/>
<area shape="rect" id="node18" href="scanner_8c.html#a82c9d9502b1585c8db6cae8e8f3b3c21" title="Finish reading an octal number. An octal number starts with a &#39;0&#39; and all digits are less than &#39;7&#39;..." alt="" coords="130,599,262,626"/>
<area shape="rect" id="node19" href="scanner_8c.html#a3205222d05c01cd1d1e2f3c6d605f971" title="Read a punctuation character from input stream. When this is entered, a punctuation character has bee..." alt="" coords="345,751,432,778"/>
<area shape="rect" id="node20" href="scanner_8c.html#aafc5da6edd9fb271cf3d877b1dd36240" title="Read a word from the input and then find out if it&#39;s a keyword. " alt="" coords="155,802,237,828"/>
<area shape="rect" id="node21" href="scanner_8c.html#acbbdc80f7ad0b9998e6c40c665055240" title="Skip white space. " alt="" coords="522,852,593,879"/>
<area shape="rect" id="node4" href="scanner_8h.html#acadf6d4cc0cd6d922a183a04af123be8" title="Retrieve a token and compare it against a token array. If the received token is not in the array..." alt="" coords="765,422,888,448"/>
<area shape="rect" id="node5" href="scanner_8h.html#a323ce9fdb2b8a07bc90f28716c9764a9" title="Retrieve the next token and check it against the specified token type. If the token does not match th..." alt="" coords="783,472,870,499"/>
</map>
</div>

</div>
</div>
<a id="a8161fb9051e2095068a797853806394b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8161fb9051e2095068a797853806394b">&#9670;&nbsp;</a></span>get_column_no()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_column_no </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the current column number in the current file. If there is no file open then return -1. </p>
<dl class="section return"><dt>Returns</dt><dd>int </dd></dl>

<p class="definition">Definition at line <a class="el" href="scanner_8c_source.html#l01031">1031</a> of file <a class="el" href="scanner_8c_source.html">scanner.c</a>.</p>

<p class="reference">References <a class="el" href="scanner_8c_source.html#l00015">__file_stack::col_no</a>.</p>

<p class="reference">Referenced by <a class="el" href="scanner_8c_source.html#l00915">expect_tok_array()</a>, <a class="el" href="errors_8c_source.html#l00027">syntax()</a>, and <a class="el" href="errors_8c_source.html#l00048">warning()</a>.</p>
<div class="fragment"><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;                    {</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="scanner_8c.html#afd1a3d8d9ea5da829d7739127f89a7de">top</a> != NULL)</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="scanner_8c.html#afd1a3d8d9ea5da829d7739127f89a7de">top</a>-&gt;<a class="code" href="struct____file__stack.html#abeb7ba9366a47153189008a0bc91f0cb">col_no</a>;</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;}</div><div class="ttc" id="scanner_8c_html_afd1a3d8d9ea5da829d7739127f89a7de"><div class="ttname"><a href="scanner_8c.html#afd1a3d8d9ea5da829d7739127f89a7de">top</a></div><div class="ttdeci">static file_stack_t * top</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00025">scanner.c:25</a></div></div>
<div class="ttc" id="struct____file__stack_html_abeb7ba9366a47153189008a0bc91f0cb"><div class="ttname"><a href="struct____file__stack.html#abeb7ba9366a47153189008a0bc91f0cb">__file_stack::col_no</a></div><div class="ttdeci">int col_no</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00015">scanner.c:15</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_a8161fb9051e2095068a797853806394b_icgraph.png" border="0" usemap="#scanner_8c_a8161fb9051e2095068a797853806394b_icgraph" alt=""/></div>
<map name="scanner_8c_a8161fb9051e2095068a797853806394b_icgraph" id="scanner_8c_a8161fb9051e2095068a797853806394b_icgraph">
<area shape="rect" id="node2" href="scanner_8h.html#acadf6d4cc0cd6d922a183a04af123be8" title="Retrieve a token and compare it against a token array. If the received token is not in the array..." alt="" coords="932,93,1055,120"/>
<area shape="rect" id="node3" href="errors_8h.html#ac0bffed5fa1e4465a3f2376bb1d0ff8e" title="syntax" alt="" coords="319,347,380,373"/>
<area shape="rect" id="node11" href="errors_8h.html#ae00bc00a057df39f4ebc8eed485f953e" title="warning" alt="" coords="164,169,231,196"/>
<area shape="rect" id="node4" href="scanner_8h.html#a323ce9fdb2b8a07bc90f28716c9764a9" title="Retrieve the next token and check it against the specified token type. If the token does not match th..." alt="" coords="950,271,1037,297"/>
<area shape="rect" id="node5" href="scanner_8c.html#a724bc9c982f6d80ea7cc9cb382a67150" title="Read a string with escape translations. When this is entered, a (&quot;) has been seen and discarded..." alt="" coords="663,169,756,196"/>
<area shape="rect" id="node7" href="scanner_8c.html#a828f3d1cf54a7739b49733416cf76f7a" title="Scan a floating point number. When this is called the first part of the number, up to the &#39;..." alt="" coords="469,245,599,272"/>
<area shape="rect" id="node8" href="scanner_8c.html#ae1ec61f0fae80f99861be0cd9a35a1a5" title="A digit has been seen. This is the entry to find out what kind of number is being read and then retur..." alt="" coords="648,271,771,297"/>
<area shape="rect" id="node9" href="scanner_8c.html#a82c9d9502b1585c8db6cae8e8f3b3c21" title="Finish reading an octal number. An octal number starts with a &#39;0&#39; and all digits are less than &#39;7&#39;..." alt="" coords="468,347,600,373"/>
<area shape="rect" id="node10" href="scanner_8c.html#a7485b39f90b06a1a8fc01ccd6268646d" title="Read a string without escape translations. When this is entered, a (&#39;) has been seen and discarded..." alt="" coords="663,347,756,373"/>
<area shape="rect" id="node6" href="scanner_8h.html#ab813ccd8271cf156beff16541aa1c476" title="Read text from the input stream and return a token. " alt="" coords="819,169,884,196"/>
<area shape="rect" id="node12" href="scanner_8c.html#a5974a5d4c4aafa45ad1675231b12b398" title="Get the decimal escape object. " alt="" coords="279,296,420,323"/>
<area shape="rect" id="node14" href="scanner_8c.html#a82bf6517965ad70ea8264b70e36ca556" title="Get the hex escape object. " alt="" coords="291,144,408,171"/>
<area shape="rect" id="node15" href="scanner_8c.html#ad6d7958aaede5957c26394284d9ace36" title="Get the octal escape object When this is called the &#39;0&#39; has already been read. The converted binary ..." alt="" coords="287,245,411,272"/>
<area shape="rect" id="node16" href="files_8h.html#a2d3529d4980170554546ff6ff5f93b8f" title="open_input_file" alt="" coords="295,195,404,221"/>
<area shape="rect" id="node17" href="scanner_8c.html#a3205222d05c01cd1d1e2f3c6d605f971" title="Read a punctuation character from input stream. When this is entered, a punctuation character has bee..." alt="" coords="666,93,753,120"/>
<area shape="rect" id="node13" href="scanner_8c.html#af34c4092683c2caeb938899cfd73d86e" title="Get the string esc object When this is entered, a back&#45;slash has been seen in a dquote string..." alt="" coords="481,144,587,171"/>
</map>
</div>

</div>
</div>
<a id="a5974a5d4c4aafa45ad1675231b12b398"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5974a5d4c4aafa45ad1675231b12b398">&#9670;&nbsp;</a></span>get_decimal_escape()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void get_decimal_escape </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the decimal escape object. </p>

<p class="definition">Definition at line <a class="el" href="scanner_8c_source.html#l00475">475</a> of file <a class="el" href="scanner_8c_source.html">scanner.c</a>.</p>

<p class="reference">References <a class="el" href="chbuffer_8c_source.html#l00075">add_char_buffer_int()</a>, <a class="el" href="scanner_8c_source.html#l00111">get_char()</a>, <a class="el" href="scanner_8c_source.html#l00026">scanner_buffer</a>, <a class="el" href="scanner_8c_source.html#l00147">unget_char()</a>, and <a class="el" href="errors_8c_source.html#l00048">warning()</a>.</p>

<p class="reference">Referenced by <a class="el" href="scanner_8c_source.html#l00514">get_string_esc()</a>.</p>
<div class="fragment"><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                                 {</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="comment">// When this is read, a &#39;\D&#39; has been read.The binary value is in the</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="comment">// string when this returns.</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keywordtype">char</span> tbuf[11]; <span class="comment">// maximum of 10 characters in decimal escape</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keywordtype">int</span> idx = 0, ch;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    memset(tbuf, 0, <span class="keyword">sizeof</span>(tbuf));</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    ch = <a class="code" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a>();</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="comment">// decimal escape may be signed</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="keywordflow">if</span>(ch == <span class="charliteral">&#39;+&#39;</span> || ch == <span class="charliteral">&#39;-&#39;</span>) {</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        tbuf[idx] = ch;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        idx++;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    }</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="keywordflow">for</span>(; idx &lt; (int)<span class="keyword">sizeof</span>(tbuf); idx++) {</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        ch = <a class="code" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a>();</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        <span class="keywordflow">if</span>(isdigit(ch))</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;            tbuf[idx] = ch;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    }</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="keywordflow">if</span>(strlen(tbuf) == 0) {</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        <a class="code" href="errors_8c.html#ae00bc00a057df39f4ebc8eed485f953e">warning</a>(<span class="stringliteral">&quot;invalid decimal escape code in string: &#39;%c&#39; is not a decimal digit. Ignored.&quot;</span>, ch);</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        <a class="code" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a>(ch);</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    }</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <span class="keywordtype">int</span> val = (int)strtol(tbuf, NULL, 10);</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <a class="code" href="chbuffer_8c.html#a9ec7cef1465c69649271072c19f3cd1d">add_char_buffer_int</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>, val);</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    }</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;}</div><div class="ttc" id="scanner_8c_html_a46f294c9a8b344e4fd265f5279b6dad4"><div class="ttname"><a href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a></div><div class="ttdeci">static char_buffer_t scanner_buffer</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00026">scanner.c:26</a></div></div>
<div class="ttc" id="scanner_8c_html_a62fde60ffe0221615dca9102169dff64"><div class="ttname"><a href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a></div><div class="ttdeci">static void unget_char(int ch)</div><div class="ttdoc">Stuff the character back into the input stream. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00147">scanner.c:147</a></div></div>
<div class="ttc" id="errors_8c_html_ae00bc00a057df39f4ebc8eed485f953e"><div class="ttname"><a href="errors_8c.html#ae00bc00a057df39f4ebc8eed485f953e">warning</a></div><div class="ttdeci">void warning(const char *str,...)</div><div class="ttdef"><b>Definition:</b> <a href="errors_8c_source.html#l00048">errors.c:48</a></div></div>
<div class="ttc" id="chbuffer_8c_html_a9ec7cef1465c69649271072c19f3cd1d"><div class="ttname"><a href="chbuffer_8c.html#a9ec7cef1465c69649271072c19f3cd1d">add_char_buffer_int</a></div><div class="ttdeci">void add_char_buffer_int(char_buffer_t chbuf, int val)</div><div class="ttdef"><b>Definition:</b> <a href="chbuffer_8c_source.html#l00075">chbuffer.c:75</a></div></div>
<div class="ttc" id="scanner_8c_html_a751d3a7f3f2a98cbbc4029ae856372be"><div class="ttname"><a href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a></div><div class="ttdeci">static int get_char()</div><div class="ttdoc">Get the char object Read a single character from the input stream. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00111">scanner.c:111</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_a5974a5d4c4aafa45ad1675231b12b398_cgraph.png" border="0" usemap="#scanner_8c_a5974a5d4c4aafa45ad1675231b12b398_cgraph" alt=""/></div>
<map name="scanner_8c_a5974a5d4c4aafa45ad1675231b12b398_cgraph" id="scanner_8c_a5974a5d4c4aafa45ad1675231b12b398_cgraph">
<area shape="rect" id="node2" href="chbuffer_8c.html#a9ec7cef1465c69649271072c19f3cd1d" title="add_char_buffer_int" alt="" coords="195,5,331,32"/>
<area shape="rect" id="node5" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be" title="Get the char object Read a single character from the input stream. " alt="" coords="227,56,299,83"/>
<area shape="rect" id="node7" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64" title="Stuff the character back into the input stream. " alt="" coords="219,107,306,133"/>
<area shape="rect" id="node8" href="errors_8c.html#ae00bc00a057df39f4ebc8eed485f953e" title="warning" alt="" coords="229,157,296,184"/>
<area shape="rect" id="node3" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4" title="add_char_buffer" alt="" coords="379,5,493,32"/>
<area shape="rect" id="node4" href="chbuffer_8c.html#ab6bd7ab68f67311ba96283983d8f4d8f" title="grow_buffer" alt="" coords="541,5,632,32"/>
<area shape="rect" id="node6" href="scanner_8c.html#a2e0b216fac9043db80ea028fe960dd39" title="Close the currently open file and update the file stack. This is automatically called when a file end..." alt="" coords="397,56,475,83"/>
<area shape="rect" id="node9" href="scanner_8c.html#a8161fb9051e2095068a797853806394b" title="Return the current column number in the current file. If there is no file open then return &#45;1..." alt="" coords="381,107,491,133"/>
<area shape="rect" id="node10" href="scanner_8c.html#a578f62c1d479d8626ea68dbce908a744" title="Return the current file name. For error handling. If no file is open, then return the string &quot;no file..." alt="" coords="385,157,487,184"/>
<area shape="rect" id="node11" href="scanner_8c.html#aeb057c7f2a5d7bea59fbdd08227a9c5c" title="Return the current line number in the current file. If there is no file open then return &#45;1..." alt="" coords="392,208,480,235"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_a5974a5d4c4aafa45ad1675231b12b398_icgraph.png" border="0" usemap="#scanner_8c_a5974a5d4c4aafa45ad1675231b12b398_icgraph" alt=""/></div>
<map name="scanner_8c_a5974a5d4c4aafa45ad1675231b12b398_icgraph" id="scanner_8c_a5974a5d4c4aafa45ad1675231b12b398_icgraph">
<area shape="rect" id="node2" href="scanner_8c.html#af34c4092683c2caeb938899cfd73d86e" title="Get the string esc object When this is entered, a back&#45;slash has been seen in a dquote string..." alt="" coords="195,31,301,57"/>
<area shape="rect" id="node3" href="scanner_8c.html#a724bc9c982f6d80ea7cc9cb382a67150" title="Read a string with escape translations. When this is entered, a (&quot;) has been seen and discarded..." alt="" coords="349,31,443,57"/>
<area shape="rect" id="node4" href="scanner_8h.html#ab813ccd8271cf156beff16541aa1c476" title="Read text from the input stream and return a token. " alt="" coords="491,31,556,57"/>
<area shape="rect" id="node5" href="scanner_8h.html#acadf6d4cc0cd6d922a183a04af123be8" title="Retrieve a token and compare it against a token array. If the received token is not in the array..." alt="" coords="604,5,727,32"/>
<area shape="rect" id="node6" href="scanner_8h.html#a323ce9fdb2b8a07bc90f28716c9764a9" title="Retrieve the next token and check it against the specified token type. If the token does not match th..." alt="" coords="622,56,709,83"/>
</map>
</div>

</div>
</div>
<a id="a578f62c1d479d8626ea68dbce908a744"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a578f62c1d479d8626ea68dbce908a744">&#9670;&nbsp;</a></span>get_file_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* get_file_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the current file name. For error handling. If no file is open, then return the string "no file
open". </p>
<dl class="section return"><dt>Returns</dt><dd>const char* </dd></dl>

<p class="definition">Definition at line <a class="el" href="scanner_8c_source.html#l01003">1003</a> of file <a class="el" href="scanner_8c_source.html">scanner.c</a>.</p>

<p class="reference">References <a class="el" href="scanner_8c_source.html#l00012">__file_stack::fname</a>.</p>

<p class="reference">Referenced by <a class="el" href="scanner_8c_source.html#l00915">expect_tok_array()</a>, <a class="el" href="errors_8c_source.html#l00027">syntax()</a>, and <a class="el" href="errors_8c_source.html#l00048">warning()</a>.</p>
<div class="fragment"><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;                            {</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="scanner_8c.html#afd1a3d8d9ea5da829d7739127f89a7de">top</a> != NULL)</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="scanner_8c.html#afd1a3d8d9ea5da829d7739127f89a7de">top</a>-&gt;<a class="code" href="struct____file__stack.html#a667d6cfde81c0cb4920f72f58fc76f41">fname</a>;</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;no open file&quot;</span>;</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;}</div><div class="ttc" id="struct____file__stack_html_a667d6cfde81c0cb4920f72f58fc76f41"><div class="ttname"><a href="struct____file__stack.html#a667d6cfde81c0cb4920f72f58fc76f41">__file_stack::fname</a></div><div class="ttdeci">char * fname</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00012">scanner.c:12</a></div></div>
<div class="ttc" id="scanner_8c_html_afd1a3d8d9ea5da829d7739127f89a7de"><div class="ttname"><a href="scanner_8c.html#afd1a3d8d9ea5da829d7739127f89a7de">top</a></div><div class="ttdeci">static file_stack_t * top</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00025">scanner.c:25</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_a578f62c1d479d8626ea68dbce908a744_icgraph.png" border="0" usemap="#scanner_8c_a578f62c1d479d8626ea68dbce908a744_icgraph" alt=""/></div>
<map name="scanner_8c_a578f62c1d479d8626ea68dbce908a744_icgraph" id="scanner_8c_a578f62c1d479d8626ea68dbce908a744_icgraph">
<area shape="rect" id="node2" href="scanner_8h.html#acadf6d4cc0cd6d922a183a04af123be8" title="Retrieve a token and compare it against a token array. If the received token is not in the array..." alt="" coords="924,93,1047,120"/>
<area shape="rect" id="node3" href="errors_8h.html#ac0bffed5fa1e4465a3f2376bb1d0ff8e" title="syntax" alt="" coords="311,347,372,373"/>
<area shape="rect" id="node11" href="errors_8h.html#ae00bc00a057df39f4ebc8eed485f953e" title="warning" alt="" coords="156,169,223,196"/>
<area shape="rect" id="node4" href="scanner_8h.html#a323ce9fdb2b8a07bc90f28716c9764a9" title="Retrieve the next token and check it against the specified token type. If the token does not match th..." alt="" coords="942,271,1029,297"/>
<area shape="rect" id="node5" href="scanner_8c.html#a724bc9c982f6d80ea7cc9cb382a67150" title="Read a string with escape translations. When this is entered, a (&quot;) has been seen and discarded..." alt="" coords="655,169,748,196"/>
<area shape="rect" id="node7" href="scanner_8c.html#a828f3d1cf54a7739b49733416cf76f7a" title="Scan a floating point number. When this is called the first part of the number, up to the &#39;..." alt="" coords="461,245,591,272"/>
<area shape="rect" id="node8" href="scanner_8c.html#ae1ec61f0fae80f99861be0cd9a35a1a5" title="A digit has been seen. This is the entry to find out what kind of number is being read and then retur..." alt="" coords="640,271,763,297"/>
<area shape="rect" id="node9" href="scanner_8c.html#a82c9d9502b1585c8db6cae8e8f3b3c21" title="Finish reading an octal number. An octal number starts with a &#39;0&#39; and all digits are less than &#39;7&#39;..." alt="" coords="460,347,592,373"/>
<area shape="rect" id="node10" href="scanner_8c.html#a7485b39f90b06a1a8fc01ccd6268646d" title="Read a string without escape translations. When this is entered, a (&#39;) has been seen and discarded..." alt="" coords="655,347,748,373"/>
<area shape="rect" id="node6" href="scanner_8h.html#ab813ccd8271cf156beff16541aa1c476" title="Read text from the input stream and return a token. " alt="" coords="811,169,876,196"/>
<area shape="rect" id="node12" href="scanner_8c.html#a5974a5d4c4aafa45ad1675231b12b398" title="Get the decimal escape object. " alt="" coords="271,296,412,323"/>
<area shape="rect" id="node14" href="scanner_8c.html#a82bf6517965ad70ea8264b70e36ca556" title="Get the hex escape object. " alt="" coords="283,144,400,171"/>
<area shape="rect" id="node15" href="scanner_8c.html#ad6d7958aaede5957c26394284d9ace36" title="Get the octal escape object When this is called the &#39;0&#39; has already been read. The converted binary ..." alt="" coords="279,245,403,272"/>
<area shape="rect" id="node16" href="files_8h.html#a2d3529d4980170554546ff6ff5f93b8f" title="open_input_file" alt="" coords="287,195,396,221"/>
<area shape="rect" id="node17" href="scanner_8c.html#a3205222d05c01cd1d1e2f3c6d605f971" title="Read a punctuation character from input stream. When this is entered, a punctuation character has bee..." alt="" coords="658,93,745,120"/>
<area shape="rect" id="node13" href="scanner_8c.html#af34c4092683c2caeb938899cfd73d86e" title="Get the string esc object When this is entered, a back&#45;slash has been seen in a dquote string..." alt="" coords="473,144,579,171"/>
</map>
</div>

</div>
</div>
<a id="a82bf6517965ad70ea8264b70e36ca556"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82bf6517965ad70ea8264b70e36ca556">&#9670;&nbsp;</a></span>get_hex_escape()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void get_hex_escape </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the hex escape object. </p>

<p class="definition">Definition at line <a class="el" href="scanner_8c_source.html#l00414">414</a> of file <a class="el" href="scanner_8c_source.html">scanner.c</a>.</p>

<p class="reference">References <a class="el" href="chbuffer_8c_source.html#l00075">add_char_buffer_int()</a>, <a class="el" href="scanner_8c_source.html#l00111">get_char()</a>, <a class="el" href="scanner_8c_source.html#l00026">scanner_buffer</a>, <a class="el" href="scanner_8c_source.html#l00147">unget_char()</a>, and <a class="el" href="errors_8c_source.html#l00048">warning()</a>.</p>

<p class="reference">Referenced by <a class="el" href="scanner_8c_source.html#l00514">get_string_esc()</a>.</p>
<div class="fragment"><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                             {</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="comment">// When this is called, a hex escape sequence is embedded in a string.The</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="comment">// &#39;\x&#39; has already been read.The converted value is in the string when this</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="comment">// returns.</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="keywordtype">char</span> tbuf[9];   <span class="comment">// hex escape has a maximum of 8 characters</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="keywordtype">int</span> idx, ch;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    memset(tbuf, 0, <span class="keyword">sizeof</span>(tbuf));</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keywordflow">for</span>(idx = 0; idx &lt; (int)<span class="keyword">sizeof</span>(tbuf); idx++) {</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        ch = <a class="code" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a>();</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        <span class="keywordflow">if</span>(isxdigit(ch))</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            tbuf[idx] = ch;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    }</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="keywordflow">if</span>(strlen(tbuf) == 0) {</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        <a class="code" href="errors_8c.html#ae00bc00a057df39f4ebc8eed485f953e">warning</a>(<span class="stringliteral">&quot;invalid hex escape code in string: &#39;%c&#39; is not a hex digit. Ignored.&quot;</span>, ch);</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        <a class="code" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a>(ch);</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    }</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        <span class="keywordtype">int</span> val = (int)strtol(tbuf, NULL, 16);</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        <a class="code" href="chbuffer_8c.html#a9ec7cef1465c69649271072c19f3cd1d">add_char_buffer_int</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>, val);</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    }</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;}</div><div class="ttc" id="scanner_8c_html_a46f294c9a8b344e4fd265f5279b6dad4"><div class="ttname"><a href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a></div><div class="ttdeci">static char_buffer_t scanner_buffer</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00026">scanner.c:26</a></div></div>
<div class="ttc" id="scanner_8c_html_a62fde60ffe0221615dca9102169dff64"><div class="ttname"><a href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a></div><div class="ttdeci">static void unget_char(int ch)</div><div class="ttdoc">Stuff the character back into the input stream. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00147">scanner.c:147</a></div></div>
<div class="ttc" id="errors_8c_html_ae00bc00a057df39f4ebc8eed485f953e"><div class="ttname"><a href="errors_8c.html#ae00bc00a057df39f4ebc8eed485f953e">warning</a></div><div class="ttdeci">void warning(const char *str,...)</div><div class="ttdef"><b>Definition:</b> <a href="errors_8c_source.html#l00048">errors.c:48</a></div></div>
<div class="ttc" id="chbuffer_8c_html_a9ec7cef1465c69649271072c19f3cd1d"><div class="ttname"><a href="chbuffer_8c.html#a9ec7cef1465c69649271072c19f3cd1d">add_char_buffer_int</a></div><div class="ttdeci">void add_char_buffer_int(char_buffer_t chbuf, int val)</div><div class="ttdef"><b>Definition:</b> <a href="chbuffer_8c_source.html#l00075">chbuffer.c:75</a></div></div>
<div class="ttc" id="scanner_8c_html_a751d3a7f3f2a98cbbc4029ae856372be"><div class="ttname"><a href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a></div><div class="ttdeci">static int get_char()</div><div class="ttdoc">Get the char object Read a single character from the input stream. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00111">scanner.c:111</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_a82bf6517965ad70ea8264b70e36ca556_cgraph.png" border="0" usemap="#scanner_8c_a82bf6517965ad70ea8264b70e36ca556_cgraph" alt=""/></div>
<map name="scanner_8c_a82bf6517965ad70ea8264b70e36ca556_cgraph" id="scanner_8c_a82bf6517965ad70ea8264b70e36ca556_cgraph">
<area shape="rect" id="node2" href="chbuffer_8c.html#a9ec7cef1465c69649271072c19f3cd1d" title="add_char_buffer_int" alt="" coords="171,5,307,32"/>
<area shape="rect" id="node5" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be" title="Get the char object Read a single character from the input stream. " alt="" coords="203,56,275,83"/>
<area shape="rect" id="node7" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64" title="Stuff the character back into the input stream. " alt="" coords="195,107,282,133"/>
<area shape="rect" id="node8" href="errors_8c.html#ae00bc00a057df39f4ebc8eed485f953e" title="warning" alt="" coords="205,157,272,184"/>
<area shape="rect" id="node3" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4" title="add_char_buffer" alt="" coords="355,5,469,32"/>
<area shape="rect" id="node4" href="chbuffer_8c.html#ab6bd7ab68f67311ba96283983d8f4d8f" title="grow_buffer" alt="" coords="517,5,608,32"/>
<area shape="rect" id="node6" href="scanner_8c.html#a2e0b216fac9043db80ea028fe960dd39" title="Close the currently open file and update the file stack. This is automatically called when a file end..." alt="" coords="373,56,451,83"/>
<area shape="rect" id="node9" href="scanner_8c.html#a8161fb9051e2095068a797853806394b" title="Return the current column number in the current file. If there is no file open then return &#45;1..." alt="" coords="357,107,467,133"/>
<area shape="rect" id="node10" href="scanner_8c.html#a578f62c1d479d8626ea68dbce908a744" title="Return the current file name. For error handling. If no file is open, then return the string &quot;no file..." alt="" coords="361,157,463,184"/>
<area shape="rect" id="node11" href="scanner_8c.html#aeb057c7f2a5d7bea59fbdd08227a9c5c" title="Return the current line number in the current file. If there is no file open then return &#45;1..." alt="" coords="368,208,456,235"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_a82bf6517965ad70ea8264b70e36ca556_icgraph.png" border="0" usemap="#scanner_8c_a82bf6517965ad70ea8264b70e36ca556_icgraph" alt=""/></div>
<map name="scanner_8c_a82bf6517965ad70ea8264b70e36ca556_icgraph" id="scanner_8c_a82bf6517965ad70ea8264b70e36ca556_icgraph">
<area shape="rect" id="node2" href="scanner_8c.html#af34c4092683c2caeb938899cfd73d86e" title="Get the string esc object When this is entered, a back&#45;slash has been seen in a dquote string..." alt="" coords="171,31,277,57"/>
<area shape="rect" id="node3" href="scanner_8c.html#a724bc9c982f6d80ea7cc9cb382a67150" title="Read a string with escape translations. When this is entered, a (&quot;) has been seen and discarded..." alt="" coords="325,31,419,57"/>
<area shape="rect" id="node4" href="scanner_8h.html#ab813ccd8271cf156beff16541aa1c476" title="Read text from the input stream and return a token. " alt="" coords="467,31,532,57"/>
<area shape="rect" id="node5" href="scanner_8h.html#acadf6d4cc0cd6d922a183a04af123be8" title="Retrieve a token and compare it against a token array. If the received token is not in the array..." alt="" coords="580,5,703,32"/>
<area shape="rect" id="node6" href="scanner_8h.html#a323ce9fdb2b8a07bc90f28716c9764a9" title="Retrieve the next token and check it against the specified token type. If the token does not match th..." alt="" coords="598,56,685,83"/>
</map>
</div>

</div>
</div>
<a id="aeb057c7f2a5d7bea59fbdd08227a9c5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb057c7f2a5d7bea59fbdd08227a9c5c">&#9670;&nbsp;</a></span>get_line_no()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_line_no </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the current line number in the current file. If there is no file open then return -1. </p>
<dl class="section return"><dt>Returns</dt><dd>int </dd></dl>

<p class="definition">Definition at line <a class="el" href="scanner_8c_source.html#l01017">1017</a> of file <a class="el" href="scanner_8c_source.html">scanner.c</a>.</p>

<p class="reference">References <a class="el" href="scanner_8c_source.html#l00014">__file_stack::line_no</a>.</p>

<p class="reference">Referenced by <a class="el" href="scanner_8c_source.html#l00915">expect_tok_array()</a>, <a class="el" href="errors_8c_source.html#l00027">syntax()</a>, and <a class="el" href="errors_8c_source.html#l00048">warning()</a>.</p>
<div class="fragment"><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;                  {</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="scanner_8c.html#afd1a3d8d9ea5da829d7739127f89a7de">top</a> != NULL)</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="scanner_8c.html#afd1a3d8d9ea5da829d7739127f89a7de">top</a>-&gt;<a class="code" href="struct____file__stack.html#a6c58c6c5dc2a539c7311646ad468e74d">line_no</a>;</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;}</div><div class="ttc" id="scanner_8c_html_afd1a3d8d9ea5da829d7739127f89a7de"><div class="ttname"><a href="scanner_8c.html#afd1a3d8d9ea5da829d7739127f89a7de">top</a></div><div class="ttdeci">static file_stack_t * top</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00025">scanner.c:25</a></div></div>
<div class="ttc" id="struct____file__stack_html_a6c58c6c5dc2a539c7311646ad468e74d"><div class="ttname"><a href="struct____file__stack.html#a6c58c6c5dc2a539c7311646ad468e74d">__file_stack::line_no</a></div><div class="ttdeci">int line_no</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00014">scanner.c:14</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_aeb057c7f2a5d7bea59fbdd08227a9c5c_icgraph.png" border="0" usemap="#scanner_8c_aeb057c7f2a5d7bea59fbdd08227a9c5c_icgraph" alt=""/></div>
<map name="scanner_8c_aeb057c7f2a5d7bea59fbdd08227a9c5c_icgraph" id="scanner_8c_aeb057c7f2a5d7bea59fbdd08227a9c5c_icgraph">
<area shape="rect" id="node2" href="scanner_8h.html#acadf6d4cc0cd6d922a183a04af123be8" title="Retrieve a token and compare it against a token array. If the received token is not in the array..." alt="" coords="909,93,1032,120"/>
<area shape="rect" id="node3" href="errors_8h.html#ac0bffed5fa1e4465a3f2376bb1d0ff8e" title="syntax" alt="" coords="296,347,357,373"/>
<area shape="rect" id="node11" href="errors_8h.html#ae00bc00a057df39f4ebc8eed485f953e" title="warning" alt="" coords="141,169,208,196"/>
<area shape="rect" id="node4" href="scanner_8h.html#a323ce9fdb2b8a07bc90f28716c9764a9" title="Retrieve the next token and check it against the specified token type. If the token does not match th..." alt="" coords="927,271,1014,297"/>
<area shape="rect" id="node5" href="scanner_8c.html#a724bc9c982f6d80ea7cc9cb382a67150" title="Read a string with escape translations. When this is entered, a (&quot;) has been seen and discarded..." alt="" coords="640,169,733,196"/>
<area shape="rect" id="node7" href="scanner_8c.html#a828f3d1cf54a7739b49733416cf76f7a" title="Scan a floating point number. When this is called the first part of the number, up to the &#39;..." alt="" coords="447,245,576,272"/>
<area shape="rect" id="node8" href="scanner_8c.html#ae1ec61f0fae80f99861be0cd9a35a1a5" title="A digit has been seen. This is the entry to find out what kind of number is being read and then retur..." alt="" coords="625,271,748,297"/>
<area shape="rect" id="node9" href="scanner_8c.html#a82c9d9502b1585c8db6cae8e8f3b3c21" title="Finish reading an octal number. An octal number starts with a &#39;0&#39; and all digits are less than &#39;7&#39;..." alt="" coords="445,347,577,373"/>
<area shape="rect" id="node10" href="scanner_8c.html#a7485b39f90b06a1a8fc01ccd6268646d" title="Read a string without escape translations. When this is entered, a (&#39;) has been seen and discarded..." alt="" coords="640,347,733,373"/>
<area shape="rect" id="node6" href="scanner_8h.html#ab813ccd8271cf156beff16541aa1c476" title="Read text from the input stream and return a token. " alt="" coords="796,169,861,196"/>
<area shape="rect" id="node12" href="scanner_8c.html#a5974a5d4c4aafa45ad1675231b12b398" title="Get the decimal escape object. " alt="" coords="256,296,397,323"/>
<area shape="rect" id="node14" href="scanner_8c.html#a82bf6517965ad70ea8264b70e36ca556" title="Get the hex escape object. " alt="" coords="268,144,385,171"/>
<area shape="rect" id="node15" href="scanner_8c.html#ad6d7958aaede5957c26394284d9ace36" title="Get the octal escape object When this is called the &#39;0&#39; has already been read. The converted binary ..." alt="" coords="265,245,389,272"/>
<area shape="rect" id="node16" href="files_8h.html#a2d3529d4980170554546ff6ff5f93b8f" title="open_input_file" alt="" coords="272,195,381,221"/>
<area shape="rect" id="node17" href="scanner_8c.html#a3205222d05c01cd1d1e2f3c6d605f971" title="Read a punctuation character from input stream. When this is entered, a punctuation character has bee..." alt="" coords="643,93,730,120"/>
<area shape="rect" id="node13" href="scanner_8c.html#af34c4092683c2caeb938899cfd73d86e" title="Get the string esc object When this is entered, a back&#45;slash has been seen in a dquote string..." alt="" coords="458,144,565,171"/>
</map>
</div>

</div>
</div>
<a id="ad6d7958aaede5957c26394284d9ace36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6d7958aaede5957c26394284d9ace36">&#9670;&nbsp;</a></span>get_octal_escape()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void get_octal_escape </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the octal escape object When this is called the '\0' has already been read. The converted binary value is in the string when this returns. </p>

<p class="definition">Definition at line <a class="el" href="scanner_8c_source.html#l00448">448</a> of file <a class="el" href="scanner_8c_source.html">scanner.c</a>.</p>

<p class="reference">References <a class="el" href="chbuffer_8c_source.html#l00057">add_char_buffer()</a>, <a class="el" href="scanner_8c_source.html#l00111">get_char()</a>, <a class="el" href="scanner_8c_source.html#l00026">scanner_buffer</a>, <a class="el" href="scanner_8c_source.html#l00147">unget_char()</a>, and <a class="el" href="errors_8c_source.html#l00048">warning()</a>.</p>

<p class="reference">Referenced by <a class="el" href="scanner_8c_source.html#l00514">get_string_esc()</a>.</p>
<div class="fragment"><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                               {</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="keywordtype">char</span> tbuf[4];   <span class="comment">// hex escape has a maximum of 3 characters</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="keywordtype">int</span> idx, ch;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    memset(tbuf, 0, <span class="keyword">sizeof</span>(tbuf));</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="keywordflow">for</span>(idx = 0; idx &lt; (int)<span class="keyword">sizeof</span>(tbuf); idx++) {</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        ch = <a class="code" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a>();</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        <span class="keywordflow">if</span>(ch &gt;= <span class="charliteral">&#39;0&#39;</span> &amp;&amp; ch &lt;= <span class="charliteral">&#39;7&#39;</span>)</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;            tbuf[idx] = ch;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    }</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="keywordflow">if</span>(strlen(tbuf) == 0) {</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        <a class="code" href="errors_8c.html#ae00bc00a057df39f4ebc8eed485f953e">warning</a>(<span class="stringliteral">&quot;invalid octal escape code in string: &#39;%c&#39; is not a octal digit. Ignored.&quot;</span>, ch);</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        <a class="code" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a>(ch);</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    }</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        <span class="keywordtype">int</span> val = (int)strtol(tbuf, NULL, 8);</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <a class="code" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>, val);</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    }</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;}</div><div class="ttc" id="scanner_8c_html_a46f294c9a8b344e4fd265f5279b6dad4"><div class="ttname"><a href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a></div><div class="ttdeci">static char_buffer_t scanner_buffer</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00026">scanner.c:26</a></div></div>
<div class="ttc" id="scanner_8c_html_a62fde60ffe0221615dca9102169dff64"><div class="ttname"><a href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a></div><div class="ttdeci">static void unget_char(int ch)</div><div class="ttdoc">Stuff the character back into the input stream. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00147">scanner.c:147</a></div></div>
<div class="ttc" id="errors_8c_html_ae00bc00a057df39f4ebc8eed485f953e"><div class="ttname"><a href="errors_8c.html#ae00bc00a057df39f4ebc8eed485f953e">warning</a></div><div class="ttdeci">void warning(const char *str,...)</div><div class="ttdef"><b>Definition:</b> <a href="errors_8c_source.html#l00048">errors.c:48</a></div></div>
<div class="ttc" id="scanner_8c_html_a751d3a7f3f2a98cbbc4029ae856372be"><div class="ttname"><a href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a></div><div class="ttdeci">static int get_char()</div><div class="ttdoc">Get the char object Read a single character from the input stream. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00111">scanner.c:111</a></div></div>
<div class="ttc" id="chbuffer_8c_html_acb6858c891762953750c7e15d22eb2a4"><div class="ttname"><a href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a></div><div class="ttdeci">void add_char_buffer(char_buffer_t chbuf, int ch)</div><div class="ttdef"><b>Definition:</b> <a href="chbuffer_8c_source.html#l00057">chbuffer.c:57</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_ad6d7958aaede5957c26394284d9ace36_cgraph.png" border="0" usemap="#scanner_8c_ad6d7958aaede5957c26394284d9ace36_cgraph" alt=""/></div>
<map name="scanner_8c_ad6d7958aaede5957c26394284d9ace36_cgraph" id="scanner_8c_ad6d7958aaede5957c26394284d9ace36_cgraph">
<area shape="rect" id="node2" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4" title="add_char_buffer" alt="" coords="177,5,292,32"/>
<area shape="rect" id="node4" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be" title="Get the char object Read a single character from the input stream. " alt="" coords="199,56,271,83"/>
<area shape="rect" id="node6" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64" title="Stuff the character back into the input stream. " alt="" coords="191,107,278,133"/>
<area shape="rect" id="node7" href="errors_8c.html#ae00bc00a057df39f4ebc8eed485f953e" title="warning" alt="" coords="201,157,268,184"/>
<area shape="rect" id="node3" href="chbuffer_8c.html#ab6bd7ab68f67311ba96283983d8f4d8f" title="grow_buffer" alt="" coords="350,5,441,32"/>
<area shape="rect" id="node5" href="scanner_8c.html#a2e0b216fac9043db80ea028fe960dd39" title="Close the currently open file and update the file stack. This is automatically called when a file end..." alt="" coords="357,56,434,83"/>
<area shape="rect" id="node8" href="scanner_8c.html#a8161fb9051e2095068a797853806394b" title="Return the current column number in the current file. If there is no file open then return &#45;1..." alt="" coords="340,107,451,133"/>
<area shape="rect" id="node9" href="scanner_8c.html#a578f62c1d479d8626ea68dbce908a744" title="Return the current file name. For error handling. If no file is open, then return the string &quot;no file..." alt="" coords="344,157,447,184"/>
<area shape="rect" id="node10" href="scanner_8c.html#aeb057c7f2a5d7bea59fbdd08227a9c5c" title="Return the current line number in the current file. If there is no file open then return &#45;1..." alt="" coords="351,208,439,235"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_ad6d7958aaede5957c26394284d9ace36_icgraph.png" border="0" usemap="#scanner_8c_ad6d7958aaede5957c26394284d9ace36_icgraph" alt=""/></div>
<map name="scanner_8c_ad6d7958aaede5957c26394284d9ace36_icgraph" id="scanner_8c_ad6d7958aaede5957c26394284d9ace36_icgraph">
<area shape="rect" id="node2" href="scanner_8c.html#af34c4092683c2caeb938899cfd73d86e" title="Get the string esc object When this is entered, a back&#45;slash has been seen in a dquote string..." alt="" coords="177,31,284,57"/>
<area shape="rect" id="node3" href="scanner_8c.html#a724bc9c982f6d80ea7cc9cb382a67150" title="Read a string with escape translations. When this is entered, a (&quot;) has been seen and discarded..." alt="" coords="332,31,425,57"/>
<area shape="rect" id="node4" href="scanner_8h.html#ab813ccd8271cf156beff16541aa1c476" title="Read text from the input stream and return a token. " alt="" coords="473,31,539,57"/>
<area shape="rect" id="node5" href="scanner_8h.html#acadf6d4cc0cd6d922a183a04af123be8" title="Retrieve a token and compare it against a token array. If the received token is not in the array..." alt="" coords="587,5,709,32"/>
<area shape="rect" id="node6" href="scanner_8h.html#a323ce9fdb2b8a07bc90f28716c9764a9" title="Retrieve the next token and check it against the specified token type. If the token does not match th..." alt="" coords="605,56,691,83"/>
</map>
</div>

</div>
</div>
<a id="af34c4092683c2caeb938899cfd73d86e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af34c4092683c2caeb938899cfd73d86e">&#9670;&nbsp;</a></span>get_string_esc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void get_string_esc </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the string esc object When this is entered, a back-slash has been seen in a dquote string. could have an octal, hex, or character escape. </p>

<p class="definition">Definition at line <a class="el" href="scanner_8c_source.html#l00514">514</a> of file <a class="el" href="scanner_8c_source.html">scanner.c</a>.</p>

<p class="reference">References <a class="el" href="chbuffer_8c_source.html#l00057">add_char_buffer()</a>, <a class="el" href="scanner_8c_source.html#l00111">get_char()</a>, <a class="el" href="scanner_8c_source.html#l00475">get_decimal_escape()</a>, <a class="el" href="scanner_8c_source.html#l00414">get_hex_escape()</a>, <a class="el" href="scanner_8c_source.html#l00448">get_octal_escape()</a>, and <a class="el" href="scanner_8c_source.html#l00026">scanner_buffer</a>.</p>

<p class="reference">Referenced by <a class="el" href="scanner_8c_source.html#l00546">read_dquote()</a>.</p>
<div class="fragment"><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                             {</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="keywordtype">int</span> ch = <a class="code" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a>();</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">switch</span>(ch) {</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;x&#39;</span>:</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;X&#39;</span>: <a class="code" href="scanner_8c.html#a82bf6517965ad70ea8264b70e36ca556">get_hex_escape</a>(); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;d&#39;</span>:</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;D&#39;</span>: <a class="code" href="scanner_8c.html#a5974a5d4c4aafa45ad1675231b12b398">get_decimal_escape</a>(); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;0&#39;</span>: <a class="code" href="scanner_8c.html#ad6d7958aaede5957c26394284d9ace36">get_octal_escape</a>(); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;n&#39;</span>: <a class="code" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>, <span class="charliteral">&#39;\n&#39;</span>); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;r&#39;</span>: <a class="code" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>, <span class="charliteral">&#39;\r&#39;</span>); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;t&#39;</span>: <a class="code" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>, <span class="charliteral">&#39;\t&#39;</span>); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;b&#39;</span>: <a class="code" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>, <span class="charliteral">&#39;\b&#39;</span>); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;f&#39;</span>: <a class="code" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>, <span class="charliteral">&#39;\f&#39;</span>); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;v&#39;</span>: <a class="code" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>, <span class="charliteral">&#39;\v&#39;</span>); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;\\&#39;</span>: <a class="code" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>, <span class="charliteral">&#39;\\&#39;</span>); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;\&quot;&#39;</span>: <a class="code" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>, <span class="charliteral">&#39;\&quot;&#39;</span>); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;\&#39;&#39;</span>: <a class="code" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>, <span class="charliteral">&#39;\&#39;&#39;</span>); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        <span class="keywordflow">default</span>: <a class="code" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>, ch); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    }</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;}</div><div class="ttc" id="scanner_8c_html_a46f294c9a8b344e4fd265f5279b6dad4"><div class="ttname"><a href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a></div><div class="ttdeci">static char_buffer_t scanner_buffer</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00026">scanner.c:26</a></div></div>
<div class="ttc" id="scanner_8c_html_a82bf6517965ad70ea8264b70e36ca556"><div class="ttname"><a href="scanner_8c.html#a82bf6517965ad70ea8264b70e36ca556">get_hex_escape</a></div><div class="ttdeci">static void get_hex_escape()</div><div class="ttdoc">Get the hex escape object. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00414">scanner.c:414</a></div></div>
<div class="ttc" id="scanner_8c_html_ad6d7958aaede5957c26394284d9ace36"><div class="ttname"><a href="scanner_8c.html#ad6d7958aaede5957c26394284d9ace36">get_octal_escape</a></div><div class="ttdeci">static void get_octal_escape()</div><div class="ttdoc">Get the octal escape object When this is called the &amp;#39;\0&amp;#39; has already been read. The converted binary ...</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00448">scanner.c:448</a></div></div>
<div class="ttc" id="scanner_8c_html_a751d3a7f3f2a98cbbc4029ae856372be"><div class="ttname"><a href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a></div><div class="ttdeci">static int get_char()</div><div class="ttdoc">Get the char object Read a single character from the input stream. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00111">scanner.c:111</a></div></div>
<div class="ttc" id="chbuffer_8c_html_acb6858c891762953750c7e15d22eb2a4"><div class="ttname"><a href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a></div><div class="ttdeci">void add_char_buffer(char_buffer_t chbuf, int ch)</div><div class="ttdef"><b>Definition:</b> <a href="chbuffer_8c_source.html#l00057">chbuffer.c:57</a></div></div>
<div class="ttc" id="scanner_8c_html_a5974a5d4c4aafa45ad1675231b12b398"><div class="ttname"><a href="scanner_8c.html#a5974a5d4c4aafa45ad1675231b12b398">get_decimal_escape</a></div><div class="ttdeci">static void get_decimal_escape()</div><div class="ttdoc">Get the decimal escape object. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00475">scanner.c:475</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_af34c4092683c2caeb938899cfd73d86e_cgraph.png" border="0" usemap="#scanner_8c_af34c4092683c2caeb938899cfd73d86e_cgraph" alt=""/></div>
<map name="scanner_8c_af34c4092683c2caeb938899cfd73d86e_cgraph" id="scanner_8c_af34c4092683c2caeb938899cfd73d86e_cgraph">
<area shape="rect" id="node2" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4" title="add_char_buffer" alt="" coords="533,23,648,50"/>
<area shape="rect" id="node4" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be" title="Get the char object Read a single character from the input stream. " alt="" coords="381,226,453,252"/>
<area shape="rect" id="node6" href="scanner_8c.html#a5974a5d4c4aafa45ad1675231b12b398" title="Get the decimal escape object. " alt="" coords="160,124,301,151"/>
<area shape="rect" id="node13" href="scanner_8c.html#a82bf6517965ad70ea8264b70e36ca556" title="Get the hex escape object. " alt="" coords="172,74,289,100"/>
<area shape="rect" id="node14" href="scanner_8c.html#ad6d7958aaede5957c26394284d9ace36" title="Get the octal escape object When this is called the &#39;0&#39; has already been read. The converted binary ..." alt="" coords="169,175,293,202"/>
<area shape="rect" id="node3" href="chbuffer_8c.html#ab6bd7ab68f67311ba96283983d8f4d8f" title="grow_buffer" alt="" coords="696,23,787,50"/>
<area shape="rect" id="node5" href="scanner_8c.html#a2e0b216fac9043db80ea028fe960dd39" title="Close the currently open file and update the file stack. This is automatically called when a file end..." alt="" coords="552,251,629,278"/>
<area shape="rect" id="node7" href="chbuffer_8c.html#a9ec7cef1465c69649271072c19f3cd1d" title="add_char_buffer_int" alt="" coords="349,23,485,50"/>
<area shape="rect" id="node8" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64" title="Stuff the character back into the input stream. " alt="" coords="374,74,461,100"/>
<area shape="rect" id="node9" href="errors_8c.html#ae00bc00a057df39f4ebc8eed485f953e" title="warning" alt="" coords="384,175,451,202"/>
<area shape="rect" id="node10" href="scanner_8c.html#a8161fb9051e2095068a797853806394b" title="Return the current column number in the current file. If there is no file open then return &#45;1..." alt="" coords="535,99,646,126"/>
<area shape="rect" id="node11" href="scanner_8c.html#a578f62c1d479d8626ea68dbce908a744" title="Return the current file name. For error handling. If no file is open, then return the string &quot;no file..." alt="" coords="539,150,642,176"/>
<area shape="rect" id="node12" href="scanner_8c.html#aeb057c7f2a5d7bea59fbdd08227a9c5c" title="Return the current line number in the current file. If there is no file open then return &#45;1..." alt="" coords="547,200,635,227"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_af34c4092683c2caeb938899cfd73d86e_icgraph.png" border="0" usemap="#scanner_8c_af34c4092683c2caeb938899cfd73d86e_icgraph" alt=""/></div>
<map name="scanner_8c_af34c4092683c2caeb938899cfd73d86e_icgraph" id="scanner_8c_af34c4092683c2caeb938899cfd73d86e_icgraph">
<area shape="rect" id="node2" href="scanner_8c.html#a724bc9c982f6d80ea7cc9cb382a67150" title="Read a string with escape translations. When this is entered, a (&quot;) has been seen and discarded..." alt="" coords="160,31,253,57"/>
<area shape="rect" id="node3" href="scanner_8h.html#ab813ccd8271cf156beff16541aa1c476" title="Read text from the input stream and return a token. " alt="" coords="301,31,367,57"/>
<area shape="rect" id="node4" href="scanner_8h.html#acadf6d4cc0cd6d922a183a04af123be8" title="Retrieve a token and compare it against a token array. If the received token is not in the array..." alt="" coords="415,5,537,32"/>
<area shape="rect" id="node5" href="scanner_8h.html#a323ce9fdb2b8a07bc90f28716c9764a9" title="Retrieve the next token and check it against the specified token type. If the token does not match th..." alt="" coords="433,56,519,83"/>
</map>
</div>

</div>
</div>
<a id="ab813ccd8271cf156beff16541aa1c476"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab813ccd8271cf156beff16541aa1c476">&#9670;&nbsp;</a></span>get_tok()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a> get_tok </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read text from the input stream and return a token. </p>
<dl class="section return"><dt>Returns</dt><dd>token_t </dd></dl>

<p class="definition">Definition at line <a class="el" href="scanner_8c_source.html#l00843">843</a> of file <a class="el" href="scanner_8c_source.html">scanner.c</a>.</p>

<p class="reference">References <a class="el" href="scanner_8c_source.html#l00747">comment_or_operator()</a>, <a class="el" href="scanner_8h_source.html#l00010">END_FILE</a>, <a class="el" href="scanner_8h_source.html#l00009">END_INPUT</a>, <a class="el" href="scanner_8h_source.html#l00012">END_OF_FILE</a>, <a class="el" href="scanner_8h_source.html#l00011">END_OF_INPUT</a>, <a class="el" href="scanner_8c_source.html#l00027">file_flag</a>, <a class="el" href="scanner_8c_source.html#l00111">get_char()</a>, <a class="el" href="chbuffer_8c_source.html#l00022">init_char_buffer()</a>, <a class="el" href="scanner_8h_source.html#l00007">NONE_TOKEN</a>, <a class="el" href="scanner_8c_source.html#l00546">read_dquote()</a>, <a class="el" href="scanner_8c_source.html#l00353">read_number_top()</a>, <a class="el" href="scanner_8c_source.html#l00642">read_punct()</a>, <a class="el" href="scanner_8c_source.html#l00584">read_squote()</a>, <a class="el" href="scanner_8c_source.html#l00615">read_word()</a>, <a class="el" href="scanner_8c_source.html#l00026">scanner_buffer</a>, <a class="el" href="scanner_8c_source.html#l00168">skip_ws()</a>, <a class="el" href="scanner_8c_source.html#l00147">unget_char()</a>, and <a class="el" href="errors_8c_source.html#l00048">warning()</a>.</p>

<p class="reference">Referenced by <a class="el" href="scanner_8c_source.html#l00945">expect_tok()</a>, and <a class="el" href="scanner_8c_source.html#l00915">expect_tok_array()</a>.</p>
<div class="fragment"><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;                  {</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="keywordtype">int</span> ch, finished = 0;</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a> tok = <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea92eb9340b108c2cc0589f922dd843de5">NONE_TOKEN</a>;</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <a class="code" href="scanner_8c.html#acbbdc80f7ad0b9998e6c40c665055240">skip_ws</a>();</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <a class="code" href="chbuffer_8c.html#aa876cf0de395b607a2a67f4ba1c105f0">init_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>);</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <span class="keywordflow">while</span>(!finished) {</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        ch = <a class="code" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a>();</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        <span class="keywordflow">switch</span>(ch) {</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfeaa4ee7c4def59d9b613ea29682f98ffb0">END_FILE</a>:</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;                <a class="code" href="scanner_8c.html#a39b79affaeabd99e1fdfcdcd92f113d9">file_flag</a>++;</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                tok = <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea7ea291c26de584b23fd7f9111784f860">END_OF_FILE</a>;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                finished++;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea0ddfc8846f90572f05d2e8e1afc05f78">END_INPUT</a>:</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                tok = <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea0e3733a4d13a591724fae5c6c951c832">END_OF_INPUT</a>;</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;                finished++;</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;\&quot;&#39;</span>:  <span class="comment">// read a double quoted string</span></div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;                tok = <a class="code" href="scanner_8c.html#a724bc9c982f6d80ea7cc9cb382a67150">read_dquote</a>();</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;                finished++;</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;\&#39;&#39;</span>: <span class="comment">// read a single quoted string</span></div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                tok = <a class="code" href="scanner_8c.html#a7485b39f90b06a1a8fc01ccd6268646d">read_squote</a>();</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;                finished++;</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;/&#39;</span>: <span class="comment">// may have a comment or an operator</span></div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;                tok = <a class="code" href="scanner_8c.html#ae607bbd0a95b68ef81614ecbdcdf519a">comment_or_operator</a>();</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;                <a class="code" href="scanner_8c.html#acbbdc80f7ad0b9998e6c40c665055240">skip_ws</a>();</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;                <span class="keywordflow">if</span>(tok != <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea92eb9340b108c2cc0589f922dd843de5">NONE_TOKEN</a>)</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;                    finished++;</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;                <span class="comment">// continue if it was a comment</span></div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;            <span class="keywordflow">default</span>:</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;                <span class="keywordflow">if</span>(ch == <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfeaa4ee7c4def59d9b613ea29682f98ffb0">END_FILE</a>)</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;                    <a class="code" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a>(ch);</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(isdigit(ch)) { <span class="comment">// beginning of a number. Could be hex, dec, or float</span></div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;                    <a class="code" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a>(ch);</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;                    tok = <a class="code" href="scanner_8c.html#ae1ec61f0fae80f99861be0cd9a35a1a5">read_number_top</a>();</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                    <span class="keywordflow">if</span>(tok != <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea92eb9340b108c2cc0589f922dd843de5">NONE_TOKEN</a>)</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                        finished++;</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                }</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(isalpha(ch)) { <span class="comment">// could be a symbol or a keyword</span></div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                    <a class="code" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a>(ch);</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;                    tok = <a class="code" href="scanner_8c.html#aafc5da6edd9fb271cf3d877b1dd36240">read_word</a>();</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                    <span class="keywordflow">if</span>(tok != <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea92eb9340b108c2cc0589f922dd843de5">NONE_TOKEN</a>)</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;                        finished++;</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                }</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(ispunct(ch)) { <span class="comment">// some kind of operator (but not a &#39;/&#39; or a quote)</span></div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                    tok = <a class="code" href="scanner_8c.html#a3205222d05c01cd1d1e2f3c6d605f971">read_punct</a>(ch);</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                    <span class="keywordflow">if</span>(tok != <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea92eb9340b108c2cc0589f922dd843de5">NONE_TOKEN</a>)</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                        finished++;</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;                }</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;                <span class="keywordflow">else</span> {</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;                    <a class="code" href="errors_8c.html#ae00bc00a057df39f4ebc8eed485f953e">warning</a>(<span class="stringliteral">&quot;Unknown character, ignoring. (0x%02X) (%d) \&#39;%c\&#39;&quot;</span>, ch, ch, ch);</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;                }</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        }</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    }</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    <span class="keywordflow">return</span> tok;</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;}</div><div class="ttc" id="scanner_8c_html_acbbdc80f7ad0b9998e6c40c665055240"><div class="ttname"><a href="scanner_8c.html#acbbdc80f7ad0b9998e6c40c665055240">skip_ws</a></div><div class="ttdeci">static void skip_ws()</div><div class="ttdoc">Skip white space. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00168">scanner.c:168</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfea92eb9340b108c2cc0589f922dd843de5"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea92eb9340b108c2cc0589f922dd843de5">NONE_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00007">scanner.h:7</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfe"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a></div><div class="ttdeci">token_t</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00006">scanner.h:6</a></div></div>
<div class="ttc" id="scanner_8c_html_a46f294c9a8b344e4fd265f5279b6dad4"><div class="ttname"><a href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a></div><div class="ttdeci">static char_buffer_t scanner_buffer</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00026">scanner.c:26</a></div></div>
<div class="ttc" id="scanner_8c_html_a39b79affaeabd99e1fdfcdcd92f113d9"><div class="ttname"><a href="scanner_8c.html#a39b79affaeabd99e1fdfcdcd92f113d9">file_flag</a></div><div class="ttdeci">static int file_flag</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00027">scanner.c:27</a></div></div>
<div class="ttc" id="scanner_8c_html_ae607bbd0a95b68ef81614ecbdcdf519a"><div class="ttname"><a href="scanner_8c.html#ae607bbd0a95b68ef81614ecbdcdf519a">comment_or_operator</a></div><div class="ttdeci">static token_t comment_or_operator()</div><div class="ttdoc">Find out what to do with a &amp;#39;/&amp;#39; character. When this is entered, a (/) has been seen. If the next character is a (/) or a (*), then we have a comment, otherwise we have a / operator. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00747">scanner.c:747</a></div></div>
<div class="ttc" id="scanner_8c_html_a62fde60ffe0221615dca9102169dff64"><div class="ttname"><a href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a></div><div class="ttdeci">static void unget_char(int ch)</div><div class="ttdoc">Stuff the character back into the input stream. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00147">scanner.c:147</a></div></div>
<div class="ttc" id="scanner_8c_html_a724bc9c982f6d80ea7cc9cb382a67150"><div class="ttname"><a href="scanner_8c.html#a724bc9c982f6d80ea7cc9cb382a67150">read_dquote</a></div><div class="ttdeci">static token_t read_dquote()</div><div class="ttdoc">Read a string with escape translations. When this is entered, a (&quot;) has been seen and discarded...</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00546">scanner.c:546</a></div></div>
<div class="ttc" id="errors_8c_html_ae00bc00a057df39f4ebc8eed485f953e"><div class="ttname"><a href="errors_8c.html#ae00bc00a057df39f4ebc8eed485f953e">warning</a></div><div class="ttdeci">void warning(const char *str,...)</div><div class="ttdef"><b>Definition:</b> <a href="errors_8c_source.html#l00048">errors.c:48</a></div></div>
<div class="ttc" id="scanner_8c_html_a3205222d05c01cd1d1e2f3c6d605f971"><div class="ttname"><a href="scanner_8c.html#a3205222d05c01cd1d1e2f3c6d605f971">read_punct</a></div><div class="ttdeci">static token_t read_punct(int ch)</div><div class="ttdoc">Read a punctuation character from input stream. When this is entered, a punctuation character has bee...</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00642">scanner.c:642</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfea0ddfc8846f90572f05d2e8e1afc05f78"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea0ddfc8846f90572f05d2e8e1afc05f78">END_INPUT</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00009">scanner.h:9</a></div></div>
<div class="ttc" id="chbuffer_8c_html_aa876cf0de395b607a2a67f4ba1c105f0"><div class="ttname"><a href="chbuffer_8c.html#aa876cf0de395b607a2a67f4ba1c105f0">init_char_buffer</a></div><div class="ttdeci">void init_char_buffer(char_buffer_t chbuf)</div><div class="ttdef"><b>Definition:</b> <a href="chbuffer_8c_source.html#l00022">chbuffer.c:22</a></div></div>
<div class="ttc" id="scanner_8c_html_a751d3a7f3f2a98cbbc4029ae856372be"><div class="ttname"><a href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a></div><div class="ttdeci">static int get_char()</div><div class="ttdoc">Get the char object Read a single character from the input stream. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00111">scanner.c:111</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfea0e3733a4d13a591724fae5c6c951c832"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea0e3733a4d13a591724fae5c6c951c832">END_OF_INPUT</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00011">scanner.h:11</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfeaa4ee7c4def59d9b613ea29682f98ffb0"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfeaa4ee7c4def59d9b613ea29682f98ffb0">END_FILE</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00010">scanner.h:10</a></div></div>
<div class="ttc" id="scanner_8c_html_ae1ec61f0fae80f99861be0cd9a35a1a5"><div class="ttname"><a href="scanner_8c.html#ae1ec61f0fae80f99861be0cd9a35a1a5">read_number_top</a></div><div class="ttdeci">static token_t read_number_top()</div><div class="ttdoc">A digit has been seen. This is the entry to find out what kind of number is being read and then retur...</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00353">scanner.c:353</a></div></div>
<div class="ttc" id="scanner_8c_html_aafc5da6edd9fb271cf3d877b1dd36240"><div class="ttname"><a href="scanner_8c.html#aafc5da6edd9fb271cf3d877b1dd36240">read_word</a></div><div class="ttdeci">static token_t read_word()</div><div class="ttdoc">Read a word from the input and then find out if it&amp;#39;s a keyword. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00615">scanner.c:615</a></div></div>
<div class="ttc" id="scanner_8c_html_a7485b39f90b06a1a8fc01ccd6268646d"><div class="ttname"><a href="scanner_8c.html#a7485b39f90b06a1a8fc01ccd6268646d">read_squote</a></div><div class="ttdeci">static token_t read_squote()</div><div class="ttdoc">Read a string without escape translations. When this is entered, a (&amp;#39;) has been seen and discarded...</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00584">scanner.c:584</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfea7ea291c26de584b23fd7f9111784f860"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea7ea291c26de584b23fd7f9111784f860">END_OF_FILE</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00012">scanner.h:12</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_ab813ccd8271cf156beff16541aa1c476_cgraph.png" border="0" usemap="#scanner_8c_ab813ccd8271cf156beff16541aa1c476_cgraph" alt=""/></div>
<map name="scanner_8c_ab813ccd8271cf156beff16541aa1c476_cgraph" id="scanner_8c_ab813ccd8271cf156beff16541aa1c476_cgraph">
<area shape="rect" id="node2" href="scanner_8c.html#ae607bbd0a95b68ef81614ecbdcdf519a" title="Find out what to do with a &#39;/&#39; character. When this is entered, a (/) has been seen. If the next character is a (/) or a (*), then we have a comment, otherwise we have a / operator. " alt="" coords="277,435,425,461"/>
<area shape="rect" id="node4" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be" title="Get the char object Read a single character from the input stream. " alt="" coords="695,713,767,740"/>
<area shape="rect" id="node6" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64" title="Stuff the character back into the input stream. " alt="" coords="687,460,774,487"/>
<area shape="rect" id="node8" href="chbuffer_8c.html#aa876cf0de395b607a2a67f4ba1c105f0" title="init_char_buffer" alt="" coords="119,587,229,613"/>
<area shape="rect" id="node9" href="scanner_8c.html#a724bc9c982f6d80ea7cc9cb382a67150" title="Read a string with escape translations. When this is entered, a (&quot;) has been seen and discarded..." alt="" coords="127,865,221,892"/>
<area shape="rect" id="node15" href="errors_8c.html#ae00bc00a057df39f4ebc8eed485f953e" title="warning" alt="" coords="697,131,764,157"/>
<area shape="rect" id="node23" href="scanner_8c.html#ae1ec61f0fae80f99861be0cd9a35a1a5" title="A digit has been seen. This is the entry to find out what kind of number is being read and then retur..." alt="" coords="290,1195,413,1221"/>
<area shape="rect" id="node28" href="scanner_8c.html#a3205222d05c01cd1d1e2f3c6d605f971" title="Read a punctuation character from input stream. When this is entered, a punctuation character has bee..." alt="" coords="308,637,395,664"/>
<area shape="rect" id="node29" href="scanner_8c.html#aafc5da6edd9fb271cf3d877b1dd36240" title="Read a word from the input and then find out if it&#39;s a keyword. " alt="" coords="503,789,585,816"/>
<area shape="rect" id="node31" href="scanner_8c.html#a7485b39f90b06a1a8fc01ccd6268646d" title="Read a string without escape translations. When this is entered, a (&#39;) has been seen and discarded..." alt="" coords="305,1043,398,1069"/>
<area shape="rect" id="node32" href="scanner_8c.html#acbbdc80f7ad0b9998e6c40c665055240" title="Skip white space. " alt="" coords="509,637,579,664"/>
<area shape="rect" id="node3" href="scanner_8c.html#a5c04757cfc5cdd9a7af37e504241157e" title="Eat a multi&#45;line comment. " alt="" coords="493,333,595,360"/>
<area shape="rect" id="node7" href="scanner_8c.html#a4ce21d4ba0fe825746431f52e60347ad" title="Eat a single line comment. " alt="" coords="490,435,598,461"/>
<area shape="rect" id="node5" href="scanner_8c.html#a2e0b216fac9043db80ea028fe960dd39" title="Close the currently open file and update the file stack. This is automatically called when a file end..." alt="" coords="865,713,943,740"/>
<area shape="rect" id="node10" href="scanner_8c.html#af34c4092683c2caeb938899cfd73d86e" title="Get the string esc object When this is entered, a back&#45;slash has been seen in a dquote string..." alt="" coords="298,156,405,183"/>
<area shape="rect" id="node11" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4" title="add_char_buffer" alt="" coords="847,1144,961,1171"/>
<area shape="rect" id="node21" href="errors_8c.html#ac0bffed5fa1e4465a3f2376bb1d0ff8e" title="syntax" alt="" coords="700,1081,761,1108"/>
<area shape="rect" id="node22" href="scanner_8c.html#adbeae6c1148f611761e293b2d4083155" title="Eat characters until white space is encountered. Used for the scanner to recover from an error..." alt="" coords="497,891,591,917"/>
<area shape="rect" id="node13" href="scanner_8c.html#a5974a5d4c4aafa45ad1675231b12b398" title="Get the decimal escape object. " alt="" coords="473,80,615,107"/>
<area shape="rect" id="node19" href="scanner_8c.html#a82bf6517965ad70ea8264b70e36ca556" title="Get the hex escape object. " alt="" coords="485,131,603,157"/>
<area shape="rect" id="node20" href="scanner_8c.html#ad6d7958aaede5957c26394284d9ace36" title="Get the octal escape object When this is called the &#39;0&#39; has already been read. The converted binary ..." alt="" coords="482,181,606,208"/>
<area shape="rect" id="node12" href="chbuffer_8c.html#ab6bd7ab68f67311ba96283983d8f4d8f" title="grow_buffer" alt="" coords="1009,1144,1100,1171"/>
<area shape="rect" id="node14" href="chbuffer_8c.html#a9ec7cef1465c69649271072c19f3cd1d" title="add_char_buffer_int" alt="" coords="663,181,799,208"/>
<area shape="rect" id="node16" href="scanner_8c.html#a8161fb9051e2095068a797853806394b" title="Return the current column number in the current file. If there is no file open then return &#45;1..." alt="" coords="849,1043,959,1069"/>
<area shape="rect" id="node17" href="scanner_8c.html#a578f62c1d479d8626ea68dbce908a744" title="Return the current file name. For error handling. If no file is open, then return the string &quot;no file..." alt="" coords="853,789,955,816"/>
<area shape="rect" id="node18" href="scanner_8c.html#aeb057c7f2a5d7bea59fbdd08227a9c5c" title="Return the current line number in the current file. If there is no file open then return &#45;1..." alt="" coords="860,891,948,917"/>
<area shape="rect" id="node24" href="scanner_8c.html#ac1c72c55c50c29f4e4a1c389030e089c" title="Finish reading a hex number from the input stream. When this is called, the &quot;0x&quot; has already been sca..." alt="" coords="481,1397,607,1424"/>
<area shape="rect" id="node25" href="scanner_8c.html#a828f3d1cf54a7739b49733416cf76f7a" title="Scan a floating point number. When this is called the first part of the number, up to the &#39;..." alt="" coords="479,1245,609,1272"/>
<area shape="rect" id="node26" href="chbuffer_8c.html#a2d5224d2b35a784853b73f58c816abf3" title="get_char_buffer" alt="" coords="675,1195,787,1221"/>
<area shape="rect" id="node27" href="scanner_8c.html#a82c9d9502b1585c8db6cae8e8f3b3c21" title="Finish reading an octal number. An octal number starts with a &#39;0&#39; and all digits are less than &#39;7&#39;..." alt="" coords="478,1195,610,1221"/>
<area shape="rect" id="node30" href="scanner_8c.html#ac9d2f4eca16d0523494a48163e2924f1" title="Convert the given keyword string to a token. If it is not a keyword, then SYMBOL_TOKEN is returned..." alt="" coords="683,789,778,816"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_ab813ccd8271cf156beff16541aa1c476_icgraph.png" border="0" usemap="#scanner_8c_ab813ccd8271cf156beff16541aa1c476_icgraph" alt=""/></div>
<map name="scanner_8c_ab813ccd8271cf156beff16541aa1c476_icgraph" id="scanner_8c_ab813ccd8271cf156beff16541aa1c476_icgraph">
<area shape="rect" id="node2" href="scanner_8h.html#a323ce9fdb2b8a07bc90f28716c9764a9" title="Retrieve the next token and check it against the specified token type. If the token does not match th..." alt="" coords="137,5,223,32"/>
<area shape="rect" id="node3" href="scanner_8h.html#acadf6d4cc0cd6d922a183a04af123be8" title="Retrieve a token and compare it against a token array. If the received token is not in the array..." alt="" coords="119,56,241,83"/>
</map>
</div>

</div>
</div>
<a id="af6f26bcc5ac8ca798e7c97a7b11b1b96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6f26bcc5ac8ca798e7c97a7b11b1b96">&#9670;&nbsp;</a></span>get_tok_str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* get_tok_str </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the current token string. </p>
<dl class="section return"><dt>Returns</dt><dd>const char* </dd></dl>

<p class="definition">Definition at line <a class="el" href="scanner_8c_source.html#l01044">1044</a> of file <a class="el" href="scanner_8c_source.html">scanner.c</a>.</p>

<p class="reference">References <a class="el" href="chbuffer_8c_source.html#l00050">get_char_buffer()</a>, and <a class="el" href="scanner_8c_source.html#l00026">scanner_buffer</a>.</p>
<div class="fragment"><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;                          {</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="chbuffer_8c.html#a2d5224d2b35a784853b73f58c816abf3">get_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>);</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;}</div><div class="ttc" id="scanner_8c_html_a46f294c9a8b344e4fd265f5279b6dad4"><div class="ttname"><a href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a></div><div class="ttdeci">static char_buffer_t scanner_buffer</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00026">scanner.c:26</a></div></div>
<div class="ttc" id="chbuffer_8c_html_a2d5224d2b35a784853b73f58c816abf3"><div class="ttname"><a href="chbuffer_8c.html#a2d5224d2b35a784853b73f58c816abf3">get_char_buffer</a></div><div class="ttdeci">const char * get_char_buffer(char_buffer_t chbuf)</div><div class="ttdef"><b>Definition:</b> <a href="chbuffer_8c_source.html#l00050">chbuffer.c:50</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_af6f26bcc5ac8ca798e7c97a7b11b1b96_cgraph.png" border="0" usemap="#scanner_8c_af6f26bcc5ac8ca798e7c97a7b11b1b96_cgraph" alt=""/></div>
<map name="scanner_8c_af6f26bcc5ac8ca798e7c97a7b11b1b96_cgraph" id="scanner_8c_af6f26bcc5ac8ca798e7c97a7b11b1b96_cgraph">
<area shape="rect" id="node2" href="chbuffer_8c.html#a2d5224d2b35a784853b73f58c816abf3" title="get_char_buffer" alt="" coords="140,5,252,32"/>
</map>
</div>

</div>
</div>
<a id="a963df60a03b85b21878bfdb58672f993"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a963df60a03b85b21878bfdb58672f993">&#9670;&nbsp;</a></span>init_scanner()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_scanner </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create the scanner. This must be called before any other scanner function. </p>

<p class="definition">Definition at line <a class="el" href="scanner_8c_source.html#l00832">832</a> of file <a class="el" href="scanner_8c_source.html">scanner.c</a>.</p>

<p class="reference">References <a class="el" href="chbuffer_8c_source.html#l00033">create_char_buffer()</a>, <a class="el" href="scanner_8c_source.html#l00772">destroy_scanner()</a>, and <a class="el" href="scanner_8c_source.html#l00026">scanner_buffer</a>.</p>

<p class="reference">Referenced by <a class="el" href="alang_8c_source.html#l00014">init_things()</a>.</p>
<div class="fragment"><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                    {</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a> = <a class="code" href="chbuffer_8c.html#ab7631cef123e08c90b6d20a15d1e8b80">create_char_buffer</a>();</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    atexit(<a class="code" href="scanner_8c.html#a0ef93bc7d3083012d407fee0579fa648">destroy_scanner</a>);</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;}</div><div class="ttc" id="scanner_8c_html_a46f294c9a8b344e4fd265f5279b6dad4"><div class="ttname"><a href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a></div><div class="ttdeci">static char_buffer_t scanner_buffer</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00026">scanner.c:26</a></div></div>
<div class="ttc" id="scanner_8c_html_a0ef93bc7d3083012d407fee0579fa648"><div class="ttname"><a href="scanner_8c.html#a0ef93bc7d3083012d407fee0579fa648">destroy_scanner</a></div><div class="ttdeci">static void destroy_scanner()</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00772">scanner.c:772</a></div></div>
<div class="ttc" id="chbuffer_8c_html_ab7631cef123e08c90b6d20a15d1e8b80"><div class="ttname"><a href="chbuffer_8c.html#ab7631cef123e08c90b6d20a15d1e8b80">create_char_buffer</a></div><div class="ttdeci">char_buffer_t create_char_buffer()</div><div class="ttdef"><b>Definition:</b> <a href="chbuffer_8c_source.html#l00033">chbuffer.c:33</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_a963df60a03b85b21878bfdb58672f993_cgraph.png" border="0" usemap="#scanner_8c_a963df60a03b85b21878bfdb58672f993_cgraph" alt=""/></div>
<map name="scanner_8c_a963df60a03b85b21878bfdb58672f993_cgraph" id="scanner_8c_a963df60a03b85b21878bfdb58672f993_cgraph">
<area shape="rect" id="node2" href="chbuffer_8c.html#ab7631cef123e08c90b6d20a15d1e8b80" title="create_char_buffer" alt="" coords="145,5,276,32"/>
<area shape="rect" id="node4" href="scanner_8c.html#a0ef93bc7d3083012d407fee0579fa648" title="destroy_scanner" alt="" coords="151,56,270,83"/>
<area shape="rect" id="node3" href="chbuffer_8c.html#aa876cf0de395b607a2a67f4ba1c105f0" title="init_char_buffer" alt="" coords="337,5,448,32"/>
<area shape="rect" id="node5" href="scanner_8c.html#a2e0b216fac9043db80ea028fe960dd39" title="Close the currently open file and update the file stack. This is automatically called when a file end..." alt="" coords="354,56,431,83"/>
<area shape="rect" id="node6" href="chbuffer_8c.html#a956cd6071386061524cfdb293007ff9e" title="destroy_char_buffer" alt="" coords="324,107,461,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_a963df60a03b85b21878bfdb58672f993_icgraph.png" border="0" usemap="#scanner_8c_a963df60a03b85b21878bfdb58672f993_icgraph" alt=""/></div>
<map name="scanner_8c_a963df60a03b85b21878bfdb58672f993_icgraph" id="scanner_8c_a963df60a03b85b21878bfdb58672f993_icgraph">
<area shape="rect" id="node2" href="alang_8c.html#ab934a38436204282275cc48bfe923e24" title="init_things" alt="" coords="145,100,227,127"/>
<area shape="rect" id="node3" href="alang_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="275,73,325,100"/>
<area shape="rect" id="node4" href="configure_8h.html#a770fa765eb6cca34ef710e37f505eda4" title="show_use" alt="" coords="373,68,455,95"/>
<area shape="rect" id="node5" href="configure_8c.html#a308850e33e2d2bef1a59e7cca78a1a85" title="check_required" alt="" coords="503,5,613,32"/>
<area shape="rect" id="node6" href="configure_8h.html#a4740d76c61b01b73341afb129f9cec4d" title="configure" alt="" coords="661,68,736,95"/>
</map>
</div>

</div>
</div>
<a id="ad934a16bd9a59cd43e130fdd79fabf19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad934a16bd9a59cd43e130fdd79fabf19">&#9670;&nbsp;</a></span>open_scanner_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void open_scanner_file </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open an input file. This pushes the file onto a file stack and causes <a class="el" href="scanner_8c.html#ab813ccd8271cf156beff16541aa1c476" title="Read text from the input stream and return a token. ">get_tok()</a> to begin scanning the file. When the file ends, then scanning resumes where it left off when a new file was opened. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fname</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="scanner_8c_source.html#l00968">968</a> of file <a class="el" href="scanner_8c_source.html">scanner.c</a>.</p>

<p class="reference">References <a class="el" href="memory_8h_source.html#l00008">ALLOC_DS</a>, <a class="el" href="scanner_8c_source.html#l00015">__file_stack::col_no</a>, <a class="el" href="errors_8c_source.html#l00069">fatal_error()</a>, <a class="el" href="scanner_8c_source.html#l00012">__file_stack::fname</a>, <a class="el" href="scanner_8c_source.html#l00013">__file_stack::fp</a>, <a class="el" href="scanner_8c_source.html#l00014">__file_stack::line_no</a>, <a class="el" href="scanner_8h_source.html#l00166">MAX_FILE_NESTING</a>, <a class="el" href="scanner_8c_source.html#l00024">nest_depth</a>, <a class="el" href="scanner_8c_source.html#l00016">__file_stack::next</a>, <a class="el" href="memory_8h_source.html#l00007">STRDUP</a>, and <a class="el" href="scanner_8c_source.html#l00025">top</a>.</p>

<p class="reference">Referenced by <a class="el" href="files_8c_source.html#l00063">open_input_file()</a>.</p>
<div class="fragment"><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;                                          {</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    <a class="code" href="scanner_8c.html#a2de8c113b9c6e6d1ad3b676aedb70674">nest_depth</a>++;</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="scanner_8c.html#a2de8c113b9c6e6d1ad3b676aedb70674">nest_depth</a> &gt; <a class="code" href="scanner_8h.html#af2aaebcd80497c5a4fe403b7cb6a388b">MAX_FILE_NESTING</a>) {</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;        <a class="code" href="errors_8c.html#ad63debbcb45dc20a7ae0922186fee10b">fatal_error</a>(<span class="stringliteral">&quot;Maximum file nesting depth exceeded.&quot;</span>);</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        exit(1);</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    }</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    FILE* <a class="code" href="errors_8c.html#aa065f30aa9f5f9a42132c82c787ee70b">fp</a> = fopen(fname, <span class="stringliteral">&quot;r&quot;</span>);</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    <span class="keywordflow">if</span>(fp == NULL) {</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        <a class="code" href="errors_8c.html#ad63debbcb45dc20a7ae0922186fee10b">fatal_error</a>(<span class="stringliteral">&quot;Cannot open input file: \&quot;%s\&quot;: %s&quot;</span>, fname, strerror(errno));</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    }</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    <a class="code" href="struct____file__stack.html">file_stack_t</a>* fstk = <a class="code" href="memory_8h.html#ac638144bc10e6819d4af1a9861cc7b58">ALLOC_DS</a>(<a class="code" href="struct____file__stack.html">file_stack_t</a>);</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    fstk-&gt;<a class="code" href="struct____file__stack.html#a667d6cfde81c0cb4920f72f58fc76f41">fname</a> = <a class="code" href="memory_8h.html#a932f56f31a66af447c1e644c3ae27b8b">STRDUP</a>(fname);</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    fstk-&gt;<a class="code" href="struct____file__stack.html#aa6629155a04b3945e3b7ceb78a596ab5">fp</a> = <a class="code" href="errors_8c.html#aa065f30aa9f5f9a42132c82c787ee70b">fp</a>;</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    fstk-&gt;<a class="code" href="struct____file__stack.html#a6c58c6c5dc2a539c7311646ad468e74d">line_no</a> = 1;</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    fstk-&gt;<a class="code" href="struct____file__stack.html#abeb7ba9366a47153189008a0bc91f0cb">col_no</a> = 1;</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="scanner_8c.html#afd1a3d8d9ea5da829d7739127f89a7de">top</a> != NULL)</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;        fstk-&gt;<a class="code" href="struct____file__stack.html#a93298d8ca00f5f45884a71a806a06e24">next</a> = <a class="code" href="scanner_8c.html#afd1a3d8d9ea5da829d7739127f89a7de">top</a>;</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    <a class="code" href="scanner_8c.html#afd1a3d8d9ea5da829d7739127f89a7de">top</a> = fstk;</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;}</div><div class="ttc" id="scanner_8c_html_a2de8c113b9c6e6d1ad3b676aedb70674"><div class="ttname"><a href="scanner_8c.html#a2de8c113b9c6e6d1ad3b676aedb70674">nest_depth</a></div><div class="ttdeci">static int nest_depth</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00024">scanner.c:24</a></div></div>
<div class="ttc" id="errors_8c_html_aa065f30aa9f5f9a42132c82c787ee70b"><div class="ttname"><a href="errors_8c.html#aa065f30aa9f5f9a42132c82c787ee70b">fp</a></div><div class="ttdeci">FILE * fp</div><div class="ttdef"><b>Definition:</b> <a href="errors_8c_source.html#l00007">errors.c:7</a></div></div>
<div class="ttc" id="struct____file__stack_html_a93298d8ca00f5f45884a71a806a06e24"><div class="ttname"><a href="struct____file__stack.html#a93298d8ca00f5f45884a71a806a06e24">__file_stack::next</a></div><div class="ttdeci">struct __file_stack * next</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00016">scanner.c:16</a></div></div>
<div class="ttc" id="struct____file__stack_html_a667d6cfde81c0cb4920f72f58fc76f41"><div class="ttname"><a href="struct____file__stack.html#a667d6cfde81c0cb4920f72f58fc76f41">__file_stack::fname</a></div><div class="ttdeci">char * fname</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00012">scanner.c:12</a></div></div>
<div class="ttc" id="scanner_8c_html_afd1a3d8d9ea5da829d7739127f89a7de"><div class="ttname"><a href="scanner_8c.html#afd1a3d8d9ea5da829d7739127f89a7de">top</a></div><div class="ttdeci">static file_stack_t * top</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00025">scanner.c:25</a></div></div>
<div class="ttc" id="struct____file__stack_html"><div class="ttname"><a href="struct____file__stack.html">__file_stack</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00011">scanner.c:11</a></div></div>
<div class="ttc" id="scanner_8h_html_af2aaebcd80497c5a4fe403b7cb6a388b"><div class="ttname"><a href="scanner_8h.html#af2aaebcd80497c5a4fe403b7cb6a388b">MAX_FILE_NESTING</a></div><div class="ttdeci">#define MAX_FILE_NESTING</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00166">scanner.h:166</a></div></div>
<div class="ttc" id="errors_8c_html_ad63debbcb45dc20a7ae0922186fee10b"><div class="ttname"><a href="errors_8c.html#ad63debbcb45dc20a7ae0922186fee10b">fatal_error</a></div><div class="ttdeci">void fatal_error(const char *str,...)</div><div class="ttdef"><b>Definition:</b> <a href="errors_8c_source.html#l00069">errors.c:69</a></div></div>
<div class="ttc" id="struct____file__stack_html_abeb7ba9366a47153189008a0bc91f0cb"><div class="ttname"><a href="struct____file__stack.html#abeb7ba9366a47153189008a0bc91f0cb">__file_stack::col_no</a></div><div class="ttdeci">int col_no</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00015">scanner.c:15</a></div></div>
<div class="ttc" id="struct____file__stack_html_aa6629155a04b3945e3b7ceb78a596ab5"><div class="ttname"><a href="struct____file__stack.html#aa6629155a04b3945e3b7ceb78a596ab5">__file_stack::fp</a></div><div class="ttdeci">FILE * fp</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00013">scanner.c:13</a></div></div>
<div class="ttc" id="struct____file__stack_html_a6c58c6c5dc2a539c7311646ad468e74d"><div class="ttname"><a href="struct____file__stack.html#a6c58c6c5dc2a539c7311646ad468e74d">__file_stack::line_no</a></div><div class="ttdeci">int line_no</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00014">scanner.c:14</a></div></div>
<div class="ttc" id="memory_8h_html_a932f56f31a66af447c1e644c3ae27b8b"><div class="ttname"><a href="memory_8h.html#a932f56f31a66af447c1e644c3ae27b8b">STRDUP</a></div><div class="ttdeci">#define STRDUP(s)</div><div class="ttdef"><b>Definition:</b> <a href="memory_8h_source.html#l00007">memory.h:7</a></div></div>
<div class="ttc" id="memory_8h_html_ac638144bc10e6819d4af1a9861cc7b58"><div class="ttname"><a href="memory_8h.html#ac638144bc10e6819d4af1a9861cc7b58">ALLOC_DS</a></div><div class="ttdeci">#define ALLOC_DS(t)</div><div class="ttdef"><b>Definition:</b> <a href="memory_8h_source.html#l00008">memory.h:8</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_ad934a16bd9a59cd43e130fdd79fabf19_cgraph.png" border="0" usemap="#scanner_8c_ad934a16bd9a59cd43e130fdd79fabf19_cgraph" alt=""/></div>
<map name="scanner_8c_ad934a16bd9a59cd43e130fdd79fabf19_cgraph" id="scanner_8c_ad934a16bd9a59cd43e130fdd79fabf19_cgraph">
<area shape="rect" id="node2" href="errors_8c.html#ad63debbcb45dc20a7ae0922186fee10b" title="fatal_error" alt="" coords="180,5,260,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_ad934a16bd9a59cd43e130fdd79fabf19_icgraph.png" border="0" usemap="#scanner_8c_ad934a16bd9a59cd43e130fdd79fabf19_icgraph" alt=""/></div>
<map name="scanner_8c_ad934a16bd9a59cd43e130fdd79fabf19_icgraph" id="scanner_8c_ad934a16bd9a59cd43e130fdd79fabf19_icgraph">
<area shape="rect" id="node2" href="files_8h.html#a2d3529d4980170554546ff6ff5f93b8f" title="open_input_file" alt="" coords="180,5,289,32"/>
</map>
</div>

</div>
</div>
<a id="a724bc9c982f6d80ea7cc9cb382a67150"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a724bc9c982f6d80ea7cc9cb382a67150">&#9670;&nbsp;</a></span>read_dquote()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a> read_dquote </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read a string with escape translations. When this is entered, a (") has been seen and discarded. This function performs escape replacements, but it does not do formatting. that takes place in the parser. If consecutive strings are encountered, separated only by white space, then it is a string continuance and is a multi line string. </p>
<dl class="section return"><dt>Returns</dt><dd>token_t </dd></dl>

<p class="definition">Definition at line <a class="el" href="scanner_8c_source.html#l00546">546</a> of file <a class="el" href="scanner_8c_source.html">scanner.c</a>.</p>

<p class="reference">References <a class="el" href="chbuffer_8c_source.html#l00057">add_char_buffer()</a>, <a class="el" href="scanner_8c_source.html#l00190">eat_until_ws()</a>, <a class="el" href="scanner_8h_source.html#l00008">ERROR_TOKEN</a>, <a class="el" href="scanner_8c_source.html#l00111">get_char()</a>, <a class="el" href="scanner_8c_source.html#l00514">get_string_esc()</a>, <a class="el" href="scanner_8h_source.html#l00018">QSTRG_TOKEN</a>, <a class="el" href="scanner_8c_source.html#l00026">scanner_buffer</a>, and <a class="el" href="errors_8c_source.html#l00027">syntax()</a>.</p>

<p class="reference">Referenced by <a class="el" href="scanner_8c_source.html#l00843">get_tok()</a>.</p>
<div class="fragment"><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                             {</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="keywordtype">int</span> finished = 0;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordtype">int</span> ch;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a> tok = <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfeab08cc7155f8dc6d29fe9627d75bf9267">QSTRG_TOKEN</a>;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="keywordflow">while</span>(!finished) {</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        ch = <a class="code" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a>();</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <span class="keywordflow">switch</span>(ch) {</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;\\&#39;</span>:</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                <a class="code" href="scanner_8c.html#af34c4092683c2caeb938899cfd73d86e">get_string_esc</a>();</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;\&quot;&#39;</span>:</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                finished++;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;\n&#39;</span>:</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                <a class="code" href="errors_8c.html#ac0bffed5fa1e4465a3f2376bb1d0ff8e">syntax</a>(<span class="stringliteral">&quot;line breaks are not allowed in a string.&quot;</span>);</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                <a class="code" href="scanner_8c.html#adbeae6c1148f611761e293b2d4083155">eat_until_ws</a>();</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea406acf88c81f7e4e3be83abd7164fa4a">ERROR_TOKEN</a>;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            <span class="keywordflow">default</span>:</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                <a class="code" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>, ch);</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        }</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    }</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="keywordflow">return</span> tok;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;}</div><div class="ttc" id="scanner_8c_html_af34c4092683c2caeb938899cfd73d86e"><div class="ttname"><a href="scanner_8c.html#af34c4092683c2caeb938899cfd73d86e">get_string_esc</a></div><div class="ttdeci">static void get_string_esc()</div><div class="ttdoc">Get the string esc object When this is entered, a back-slash has been seen in a dquote string...</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00514">scanner.c:514</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfe"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a></div><div class="ttdeci">token_t</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00006">scanner.h:6</a></div></div>
<div class="ttc" id="errors_8c_html_ac0bffed5fa1e4465a3f2376bb1d0ff8e"><div class="ttname"><a href="errors_8c.html#ac0bffed5fa1e4465a3f2376bb1d0ff8e">syntax</a></div><div class="ttdeci">void syntax(const char *str,...)</div><div class="ttdef"><b>Definition:</b> <a href="errors_8c_source.html#l00027">errors.c:27</a></div></div>
<div class="ttc" id="scanner_8c_html_a46f294c9a8b344e4fd265f5279b6dad4"><div class="ttname"><a href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a></div><div class="ttdeci">static char_buffer_t scanner_buffer</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00026">scanner.c:26</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfea406acf88c81f7e4e3be83abd7164fa4a"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea406acf88c81f7e4e3be83abd7164fa4a">ERROR_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00008">scanner.h:8</a></div></div>
<div class="ttc" id="scanner_8c_html_a751d3a7f3f2a98cbbc4029ae856372be"><div class="ttname"><a href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a></div><div class="ttdeci">static int get_char()</div><div class="ttdoc">Get the char object Read a single character from the input stream. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00111">scanner.c:111</a></div></div>
<div class="ttc" id="chbuffer_8c_html_acb6858c891762953750c7e15d22eb2a4"><div class="ttname"><a href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a></div><div class="ttdeci">void add_char_buffer(char_buffer_t chbuf, int ch)</div><div class="ttdef"><b>Definition:</b> <a href="chbuffer_8c_source.html#l00057">chbuffer.c:57</a></div></div>
<div class="ttc" id="scanner_8c_html_adbeae6c1148f611761e293b2d4083155"><div class="ttname"><a href="scanner_8c.html#adbeae6c1148f611761e293b2d4083155">eat_until_ws</a></div><div class="ttdeci">static void eat_until_ws()</div><div class="ttdoc">Eat characters until white space is encountered. Used for the scanner to recover from an error...</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00190">scanner.c:190</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfeab08cc7155f8dc6d29fe9627d75bf9267"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfeab08cc7155f8dc6d29fe9627d75bf9267">QSTRG_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00018">scanner.h:18</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_a724bc9c982f6d80ea7cc9cb382a67150_cgraph.png" border="0" usemap="#scanner_8c_a724bc9c982f6d80ea7cc9cb382a67150_cgraph" alt=""/></div>
<map name="scanner_8c_a724bc9c982f6d80ea7cc9cb382a67150_cgraph" id="scanner_8c_a724bc9c982f6d80ea7cc9cb382a67150_cgraph">
<area shape="rect" id="node2" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4" title="add_char_buffer" alt="" coords="675,168,789,195"/>
<area shape="rect" id="node4" href="scanner_8c.html#adbeae6c1148f611761e293b2d4083155" title="Eat characters until white space is encountered. Used for the scanner to recover from an error..." alt="" coords="325,67,419,93"/>
<area shape="rect" id="node5" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be" title="Get the char object Read a single character from the input stream. " alt="" coords="523,117,595,144"/>
<area shape="rect" id="node8" href="scanner_8c.html#af34c4092683c2caeb938899cfd73d86e" title="Get the string esc object When this is entered, a back&#45;slash has been seen in a dquote string..." alt="" coords="147,244,253,271"/>
<area shape="rect" id="node17" href="errors_8c.html#ac0bffed5fa1e4465a3f2376bb1d0ff8e" title="syntax" alt="" coords="528,421,589,448"/>
<area shape="rect" id="node3" href="chbuffer_8c.html#ab6bd7ab68f67311ba96283983d8f4d8f" title="grow_buffer" alt="" coords="837,168,928,195"/>
<area shape="rect" id="node7" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64" title="Stuff the character back into the input stream. " alt="" coords="515,219,602,245"/>
<area shape="rect" id="node6" href="scanner_8c.html#a2e0b216fac9043db80ea028fe960dd39" title="Close the currently open file and update the file stack. This is automatically called when a file end..." alt="" coords="693,117,771,144"/>
<area shape="rect" id="node9" href="scanner_8c.html#a5974a5d4c4aafa45ad1675231b12b398" title="Get the decimal escape object. " alt="" coords="301,219,443,245"/>
<area shape="rect" id="node15" href="scanner_8c.html#a82bf6517965ad70ea8264b70e36ca556" title="Get the hex escape object. " alt="" coords="313,269,431,296"/>
<area shape="rect" id="node16" href="scanner_8c.html#ad6d7958aaede5957c26394284d9ace36" title="Get the octal escape object When this is called the &#39;0&#39; has already been read. The converted binary ..." alt="" coords="310,320,434,347"/>
<area shape="rect" id="node10" href="chbuffer_8c.html#a9ec7cef1465c69649271072c19f3cd1d" title="add_char_buffer_int" alt="" coords="491,168,627,195"/>
<area shape="rect" id="node11" href="errors_8c.html#ae00bc00a057df39f4ebc8eed485f953e" title="warning" alt="" coords="525,320,592,347"/>
<area shape="rect" id="node12" href="scanner_8c.html#a8161fb9051e2095068a797853806394b" title="Return the current column number in the current file. If there is no file open then return &#45;1..." alt="" coords="677,371,787,397"/>
<area shape="rect" id="node13" href="scanner_8c.html#a578f62c1d479d8626ea68dbce908a744" title="Return the current file name. For error handling. If no file is open, then return the string &quot;no file..." alt="" coords="681,421,783,448"/>
<area shape="rect" id="node14" href="scanner_8c.html#aeb057c7f2a5d7bea59fbdd08227a9c5c" title="Return the current line number in the current file. If there is no file open then return &#45;1..." alt="" coords="688,320,776,347"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_a724bc9c982f6d80ea7cc9cb382a67150_icgraph.png" border="0" usemap="#scanner_8c_a724bc9c982f6d80ea7cc9cb382a67150_icgraph" alt=""/></div>
<map name="scanner_8c_a724bc9c982f6d80ea7cc9cb382a67150_icgraph" id="scanner_8c_a724bc9c982f6d80ea7cc9cb382a67150_icgraph">
<area shape="rect" id="node2" href="scanner_8h.html#ab813ccd8271cf156beff16541aa1c476" title="Read text from the input stream and return a token. " alt="" coords="147,31,212,57"/>
<area shape="rect" id="node3" href="scanner_8h.html#acadf6d4cc0cd6d922a183a04af123be8" title="Retrieve a token and compare it against a token array. If the received token is not in the array..." alt="" coords="260,5,383,32"/>
<area shape="rect" id="node4" href="scanner_8h.html#a323ce9fdb2b8a07bc90f28716c9764a9" title="Retrieve the next token and check it against the specified token type. If the token does not match th..." alt="" coords="278,56,365,83"/>
</map>
</div>

</div>
</div>
<a id="a828f3d1cf54a7739b49733416cf76f7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a828f3d1cf54a7739b49733416cf76f7a">&#9670;&nbsp;</a></span>read_float_number()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a> read_float_number </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Scan a floating point number. When this is called the first part of the number, up to the '.' has been seen. The number may have a normal exponent. </p>
<dl class="section return"><dt>Returns</dt><dd>token_t </dd></dl>

<p class="definition">Definition at line <a class="el" href="scanner_8c_source.html#l00296">296</a> of file <a class="el" href="scanner_8c_source.html">scanner.c</a>.</p>

<p class="reference">References <a class="el" href="chbuffer_8c_source.html#l00057">add_char_buffer()</a>, <a class="el" href="scanner_8h_source.html#l00008">ERROR_TOKEN</a>, <a class="el" href="scanner_8h_source.html#l00016">FNUM_TOKEN</a>, <a class="el" href="scanner_8c_source.html#l00111">get_char()</a>, <a class="el" href="chbuffer_8c_source.html#l00050">get_char_buffer()</a>, <a class="el" href="scanner_8c_source.html#l00026">scanner_buffer</a>, <a class="el" href="errors_8c_source.html#l00027">syntax()</a>, and <a class="el" href="scanner_8c_source.html#l00147">unget_char()</a>.</p>

<p class="reference">Referenced by <a class="el" href="scanner_8c_source.html#l00353">read_number_top()</a>.</p>
<div class="fragment"><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                                   {</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordtype">int</span> ch;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordflow">while</span>(isdigit(ch = <a class="code" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a>())) {</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <a class="code" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>, ch);</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    }</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="comment">// see if we are reading a mantisa</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordflow">if</span>(ch == <span class="charliteral">&#39;e&#39;</span> || ch == <span class="charliteral">&#39;E&#39;</span>) {</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        <a class="code" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>, ch);</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        ch = <a class="code" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a>();</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        <span class="keywordflow">if</span>(ch == <span class="charliteral">&#39;+&#39;</span> || ch == <span class="charliteral">&#39;-&#39;</span>) {</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            <a class="code" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>, ch);</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            ch = <a class="code" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a>();</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;            <span class="keywordflow">if</span>(isdigit(ch)) {</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                <a class="code" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>, ch);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;            }</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            <span class="keywordflow">else</span> {</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                <a class="code" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a>(ch);</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                <a class="code" href="errors_8c.html#ac0bffed5fa1e4465a3f2376bb1d0ff8e">syntax</a>(<span class="stringliteral">&quot;malformed float number: %s&quot;</span>, <a class="code" href="chbuffer_8c.html#a2d5224d2b35a784853b73f58c816abf3">get_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>));</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea406acf88c81f7e4e3be83abd7164fa4a">ERROR_TOKEN</a>;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            }</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            <span class="keywordflow">while</span>(isdigit(ch = <a class="code" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a>())) {</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                <a class="code" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>, ch);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            }</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            <a class="code" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a>(ch);</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        }</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(isdigit(ch)) {</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            <a class="code" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>, ch);</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            <span class="keywordflow">while</span>(isdigit(ch = <a class="code" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a>())) {</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                <a class="code" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>, ch);</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            }</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        }</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            <span class="comment">// eat the rest of the number and publish an error</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            <span class="keywordflow">while</span>(isdigit(ch = <a class="code" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a>()))</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                <a class="code" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>, ch);</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            <a class="code" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a>(ch);</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;            <a class="code" href="errors_8c.html#ac0bffed5fa1e4465a3f2376bb1d0ff8e">syntax</a>(<span class="stringliteral">&quot;malformed float number: %s&quot;</span>, <a class="code" href="chbuffer_8c.html#a2d5224d2b35a784853b73f58c816abf3">get_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>));</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea406acf88c81f7e4e3be83abd7164fa4a">ERROR_TOKEN</a>;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        }</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    }</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <a class="code" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a>(ch);</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfeaa97de17f9d0c097312e2e4dd2d1727ec">FNUM_TOKEN</a>;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;}</div><div class="ttc" id="errors_8c_html_ac0bffed5fa1e4465a3f2376bb1d0ff8e"><div class="ttname"><a href="errors_8c.html#ac0bffed5fa1e4465a3f2376bb1d0ff8e">syntax</a></div><div class="ttdeci">void syntax(const char *str,...)</div><div class="ttdef"><b>Definition:</b> <a href="errors_8c_source.html#l00027">errors.c:27</a></div></div>
<div class="ttc" id="scanner_8c_html_a46f294c9a8b344e4fd265f5279b6dad4"><div class="ttname"><a href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a></div><div class="ttdeci">static char_buffer_t scanner_buffer</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00026">scanner.c:26</a></div></div>
<div class="ttc" id="scanner_8c_html_a62fde60ffe0221615dca9102169dff64"><div class="ttname"><a href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a></div><div class="ttdeci">static void unget_char(int ch)</div><div class="ttdoc">Stuff the character back into the input stream. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00147">scanner.c:147</a></div></div>
<div class="ttc" id="chbuffer_8c_html_a2d5224d2b35a784853b73f58c816abf3"><div class="ttname"><a href="chbuffer_8c.html#a2d5224d2b35a784853b73f58c816abf3">get_char_buffer</a></div><div class="ttdeci">const char * get_char_buffer(char_buffer_t chbuf)</div><div class="ttdef"><b>Definition:</b> <a href="chbuffer_8c_source.html#l00050">chbuffer.c:50</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfea406acf88c81f7e4e3be83abd7164fa4a"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea406acf88c81f7e4e3be83abd7164fa4a">ERROR_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00008">scanner.h:8</a></div></div>
<div class="ttc" id="scanner_8c_html_a751d3a7f3f2a98cbbc4029ae856372be"><div class="ttname"><a href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a></div><div class="ttdeci">static int get_char()</div><div class="ttdoc">Get the char object Read a single character from the input stream. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00111">scanner.c:111</a></div></div>
<div class="ttc" id="chbuffer_8c_html_acb6858c891762953750c7e15d22eb2a4"><div class="ttname"><a href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a></div><div class="ttdeci">void add_char_buffer(char_buffer_t chbuf, int ch)</div><div class="ttdef"><b>Definition:</b> <a href="chbuffer_8c_source.html#l00057">chbuffer.c:57</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfeaa97de17f9d0c097312e2e4dd2d1727ec"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfeaa97de17f9d0c097312e2e4dd2d1727ec">FNUM_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00016">scanner.h:16</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_a828f3d1cf54a7739b49733416cf76f7a_cgraph.png" border="0" usemap="#scanner_8c_a828f3d1cf54a7739b49733416cf76f7a_cgraph" alt=""/></div>
<map name="scanner_8c_a828f3d1cf54a7739b49733416cf76f7a_cgraph" id="scanner_8c_a828f3d1cf54a7739b49733416cf76f7a_cgraph">
<area shape="rect" id="node2" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4" title="add_char_buffer" alt="" coords="183,5,297,32"/>
<area shape="rect" id="node4" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be" title="Get the char object Read a single character from the input stream. " alt="" coords="204,56,276,83"/>
<area shape="rect" id="node6" href="chbuffer_8c.html#a2d5224d2b35a784853b73f58c816abf3" title="get_char_buffer" alt="" coords="184,107,296,133"/>
<area shape="rect" id="node7" href="errors_8c.html#ac0bffed5fa1e4465a3f2376bb1d0ff8e" title="syntax" alt="" coords="209,157,271,184"/>
<area shape="rect" id="node11" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64" title="Stuff the character back into the input stream. " alt="" coords="197,208,283,235"/>
<area shape="rect" id="node3" href="chbuffer_8c.html#ab6bd7ab68f67311ba96283983d8f4d8f" title="grow_buffer" alt="" coords="355,5,446,32"/>
<area shape="rect" id="node5" href="scanner_8c.html#a2e0b216fac9043db80ea028fe960dd39" title="Close the currently open file and update the file stack. This is automatically called when a file end..." alt="" coords="362,56,439,83"/>
<area shape="rect" id="node8" href="scanner_8c.html#a8161fb9051e2095068a797853806394b" title="Return the current column number in the current file. If there is no file open then return &#45;1..." alt="" coords="345,107,456,133"/>
<area shape="rect" id="node9" href="scanner_8c.html#a578f62c1d479d8626ea68dbce908a744" title="Return the current file name. For error handling. If no file is open, then return the string &quot;no file..." alt="" coords="349,157,452,184"/>
<area shape="rect" id="node10" href="scanner_8c.html#aeb057c7f2a5d7bea59fbdd08227a9c5c" title="Return the current line number in the current file. If there is no file open then return &#45;1..." alt="" coords="357,208,445,235"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_a828f3d1cf54a7739b49733416cf76f7a_icgraph.png" border="0" usemap="#scanner_8c_a828f3d1cf54a7739b49733416cf76f7a_icgraph" alt=""/></div>
<map name="scanner_8c_a828f3d1cf54a7739b49733416cf76f7a_icgraph" id="scanner_8c_a828f3d1cf54a7739b49733416cf76f7a_icgraph">
<area shape="rect" id="node2" href="scanner_8c.html#ae1ec61f0fae80f99861be0cd9a35a1a5" title="A digit has been seen. This is the entry to find out what kind of number is being read and then retur..." alt="" coords="183,31,305,57"/>
<area shape="rect" id="node3" href="scanner_8h.html#ab813ccd8271cf156beff16541aa1c476" title="Read text from the input stream and return a token. " alt="" coords="353,31,419,57"/>
<area shape="rect" id="node4" href="scanner_8h.html#acadf6d4cc0cd6d922a183a04af123be8" title="Retrieve a token and compare it against a token array. If the received token is not in the array..." alt="" coords="467,5,589,32"/>
<area shape="rect" id="node5" href="scanner_8h.html#a323ce9fdb2b8a07bc90f28716c9764a9" title="Retrieve the next token and check it against the specified token type. If the token does not match th..." alt="" coords="485,56,571,83"/>
</map>
</div>

</div>
</div>
<a id="ac1c72c55c50c29f4e4a1c389030e089c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1c72c55c50c29f4e4a1c389030e089c">&#9670;&nbsp;</a></span>read_hex_number()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a> read_hex_number </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Finish reading a hex number from the input stream. When this is called, the "0x" has already been scanned and is a part of the scanned token. </p>
<p>A hex number has the format of 0xnnnnnnnn, with a maimum of 16 characters.</p>
<dl class="section return"><dt>Returns</dt><dd>token_t </dd></dl>

<p class="definition">Definition at line <a class="el" href="scanner_8c_source.html#l00255">255</a> of file <a class="el" href="scanner_8c_source.html">scanner.c</a>.</p>

<p class="reference">References <a class="el" href="chbuffer_8c_source.html#l00057">add_char_buffer()</a>, <a class="el" href="scanner_8c_source.html#l00111">get_char()</a>, <a class="el" href="scanner_8c_source.html#l00026">scanner_buffer</a>, and <a class="el" href="scanner_8h_source.html#l00014">UNUM_TOKEN</a>.</p>

<p class="reference">Referenced by <a class="el" href="scanner_8c_source.html#l00353">read_number_top()</a>.</p>
<div class="fragment"><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                                 {</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordtype">int</span> ch;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">while</span>(isxdigit(ch = <a class="code" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a>()))</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <a class="code" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>, ch);</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfeafc3e0d9fc67d87f98e9ff1f08d384ea6">UNUM_TOKEN</a>;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;}</div><div class="ttc" id="scanner_8c_html_a46f294c9a8b344e4fd265f5279b6dad4"><div class="ttname"><a href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a></div><div class="ttdeci">static char_buffer_t scanner_buffer</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00026">scanner.c:26</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfeafc3e0d9fc67d87f98e9ff1f08d384ea6"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfeafc3e0d9fc67d87f98e9ff1f08d384ea6">UNUM_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00014">scanner.h:14</a></div></div>
<div class="ttc" id="scanner_8c_html_a751d3a7f3f2a98cbbc4029ae856372be"><div class="ttname"><a href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a></div><div class="ttdeci">static int get_char()</div><div class="ttdoc">Get the char object Read a single character from the input stream. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00111">scanner.c:111</a></div></div>
<div class="ttc" id="chbuffer_8c_html_acb6858c891762953750c7e15d22eb2a4"><div class="ttname"><a href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a></div><div class="ttdeci">void add_char_buffer(char_buffer_t chbuf, int ch)</div><div class="ttdef"><b>Definition:</b> <a href="chbuffer_8c_source.html#l00057">chbuffer.c:57</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_ac1c72c55c50c29f4e4a1c389030e089c_cgraph.png" border="0" usemap="#scanner_8c_ac1c72c55c50c29f4e4a1c389030e089c_cgraph" alt=""/></div>
<map name="scanner_8c_ac1c72c55c50c29f4e4a1c389030e089c_cgraph" id="scanner_8c_ac1c72c55c50c29f4e4a1c389030e089c_cgraph">
<area shape="rect" id="node2" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4" title="add_char_buffer" alt="" coords="179,5,293,32"/>
<area shape="rect" id="node4" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be" title="Get the char object Read a single character from the input stream. " alt="" coords="200,56,272,83"/>
<area shape="rect" id="node3" href="chbuffer_8c.html#ab6bd7ab68f67311ba96283983d8f4d8f" title="grow_buffer" alt="" coords="341,5,432,32"/>
<area shape="rect" id="node5" href="scanner_8c.html#a2e0b216fac9043db80ea028fe960dd39" title="Close the currently open file and update the file stack. This is automatically called when a file end..." alt="" coords="348,56,425,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_ac1c72c55c50c29f4e4a1c389030e089c_icgraph.png" border="0" usemap="#scanner_8c_ac1c72c55c50c29f4e4a1c389030e089c_icgraph" alt=""/></div>
<map name="scanner_8c_ac1c72c55c50c29f4e4a1c389030e089c_icgraph" id="scanner_8c_ac1c72c55c50c29f4e4a1c389030e089c_icgraph">
<area shape="rect" id="node2" href="scanner_8c.html#ae1ec61f0fae80f99861be0cd9a35a1a5" title="A digit has been seen. This is the entry to find out what kind of number is being read and then retur..." alt="" coords="179,31,301,57"/>
<area shape="rect" id="node3" href="scanner_8h.html#ab813ccd8271cf156beff16541aa1c476" title="Read text from the input stream and return a token. " alt="" coords="349,31,415,57"/>
<area shape="rect" id="node4" href="scanner_8h.html#acadf6d4cc0cd6d922a183a04af123be8" title="Retrieve a token and compare it against a token array. If the received token is not in the array..." alt="" coords="463,5,585,32"/>
<area shape="rect" id="node5" href="scanner_8h.html#a323ce9fdb2b8a07bc90f28716c9764a9" title="Retrieve the next token and check it against the specified token type. If the token does not match th..." alt="" coords="481,56,567,83"/>
</map>
</div>

</div>
</div>
<a id="ae1ec61f0fae80f99861be0cd9a35a1a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1ec61f0fae80f99861be0cd9a35a1a5">&#9670;&nbsp;</a></span>read_number_top()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a> read_number_top </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A digit has been seen. This is the entry to find out what kind of number is being read and then return the associated token. The token string is in the string buffer when this finishes. Supported types of numbers are integer, hex, float and octal. </p>
<dl class="section return"><dt>Returns</dt><dd>token_t </dd></dl>

<p class="definition">Definition at line <a class="el" href="scanner_8c_source.html#l00353">353</a> of file <a class="el" href="scanner_8c_source.html">scanner.c</a>.</p>

<p class="reference">References <a class="el" href="chbuffer_8c_source.html#l00057">add_char_buffer()</a>, <a class="el" href="scanner_8h_source.html#l00008">ERROR_TOKEN</a>, <a class="el" href="scanner_8c_source.html#l00111">get_char()</a>, <a class="el" href="chbuffer_8c_source.html#l00050">get_char_buffer()</a>, <a class="el" href="scanner_8h_source.html#l00015">INUM_TOKEN</a>, <a class="el" href="scanner_8c_source.html#l00296">read_float_number()</a>, <a class="el" href="scanner_8c_source.html#l00255">read_hex_number()</a>, <a class="el" href="scanner_8c_source.html#l00270">read_octal_number()</a>, <a class="el" href="scanner_8c_source.html#l00026">scanner_buffer</a>, <a class="el" href="errors_8c_source.html#l00027">syntax()</a>, and <a class="el" href="scanner_8c_source.html#l00147">unget_char()</a>.</p>

<p class="reference">Referenced by <a class="el" href="scanner_8c_source.html#l00843">get_tok()</a>.</p>
<div class="fragment"><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                                 {</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordtype">int</span> ch = <a class="code" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a>();</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="comment">// first char is always a digit</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordflow">if</span>(ch == <span class="charliteral">&#39;0&#39;</span>) { <span class="comment">// could be hex, octal, decimal, or float</span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        <a class="code" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>, ch);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        ch = <a class="code" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a>();</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <span class="keywordflow">if</span>(ch == <span class="charliteral">&#39;x&#39;</span> || ch == <span class="charliteral">&#39;X&#39;</span>) {</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;            <a class="code" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>, ch);</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="scanner_8c.html#ac1c72c55c50c29f4e4a1c389030e089c">read_hex_number</a>();</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        }</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(ch == <span class="charliteral">&#39;.&#39;</span>) {</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            <a class="code" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>, ch);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="scanner_8c.html#a828f3d1cf54a7739b49733416cf76f7a">read_float_number</a>();</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        }</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(isdigit(ch)) { <span class="comment">// is an octal number</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;            <span class="keywordflow">if</span>(ch &lt;= <span class="charliteral">&#39;7&#39;</span>) {</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                <a class="code" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>, ch);</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="scanner_8c.html#a82c9d9502b1585c8db6cae8e8f3b3c21">read_octal_number</a>();</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;            }</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;            <span class="keywordflow">else</span> {</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                <span class="comment">// it&#39;s a malformed number. eat the rest of it and post an error</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                <span class="keywordflow">while</span>(isdigit(ch = <a class="code" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a>()))</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                    <a class="code" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>, ch);</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                <a class="code" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a>(ch);</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                <a class="code" href="errors_8c.html#ac0bffed5fa1e4465a3f2376bb1d0ff8e">syntax</a>(<span class="stringliteral">&quot;malformed octal number: %s&quot;</span>, <a class="code" href="chbuffer_8c.html#a2d5224d2b35a784853b73f58c816abf3">get_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>));</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea406acf88c81f7e4e3be83abd7164fa4a">ERROR_TOKEN</a>;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            }</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        }</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <span class="keywordflow">else</span> { <span class="comment">// it&#39;s just a zero</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            <a class="code" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a>(ch);</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfeaf90c3beb48c35432f9fe795545001731">INUM_TOKEN</a>;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        }</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    }</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">else</span> { <span class="comment">// It&#39;s either a dec or a float.</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        <span class="keywordtype">int</span> finished = 0;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <a class="code" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>, ch);</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <span class="keywordflow">while</span>(!finished) {</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            ch = <a class="code" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a>();</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            <span class="keywordflow">if</span>(isdigit(ch))</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                <a class="code" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>, ch);</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(ch == <span class="charliteral">&#39;.&#39;</span>) {</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                <a class="code" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>, ch);</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="scanner_8c.html#a828f3d1cf54a7739b49733416cf76f7a">read_float_number</a>();</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;            }</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            <span class="keywordflow">else</span> {</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                finished++;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                <a class="code" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a>(ch);</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfeaf90c3beb48c35432f9fe795545001731">INUM_TOKEN</a>;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            }</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        }</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    }</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="comment">// If we reach here, then some syntax that is not covered has been submitted</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea406acf88c81f7e4e3be83abd7164fa4a">ERROR_TOKEN</a>;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;}</div><div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfeaf90c3beb48c35432f9fe795545001731"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfeaf90c3beb48c35432f9fe795545001731">INUM_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00015">scanner.h:15</a></div></div>
<div class="ttc" id="scanner_8c_html_ac1c72c55c50c29f4e4a1c389030e089c"><div class="ttname"><a href="scanner_8c.html#ac1c72c55c50c29f4e4a1c389030e089c">read_hex_number</a></div><div class="ttdeci">static token_t read_hex_number()</div><div class="ttdoc">Finish reading a hex number from the input stream. When this is called, the &quot;0x&quot; has already been sca...</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00255">scanner.c:255</a></div></div>
<div class="ttc" id="errors_8c_html_ac0bffed5fa1e4465a3f2376bb1d0ff8e"><div class="ttname"><a href="errors_8c.html#ac0bffed5fa1e4465a3f2376bb1d0ff8e">syntax</a></div><div class="ttdeci">void syntax(const char *str,...)</div><div class="ttdef"><b>Definition:</b> <a href="errors_8c_source.html#l00027">errors.c:27</a></div></div>
<div class="ttc" id="scanner_8c_html_a46f294c9a8b344e4fd265f5279b6dad4"><div class="ttname"><a href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a></div><div class="ttdeci">static char_buffer_t scanner_buffer</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00026">scanner.c:26</a></div></div>
<div class="ttc" id="scanner_8c_html_a828f3d1cf54a7739b49733416cf76f7a"><div class="ttname"><a href="scanner_8c.html#a828f3d1cf54a7739b49733416cf76f7a">read_float_number</a></div><div class="ttdeci">static token_t read_float_number()</div><div class="ttdoc">Scan a floating point number. When this is called the first part of the number, up to the &amp;#39;...</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00296">scanner.c:296</a></div></div>
<div class="ttc" id="scanner_8c_html_a62fde60ffe0221615dca9102169dff64"><div class="ttname"><a href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a></div><div class="ttdeci">static void unget_char(int ch)</div><div class="ttdoc">Stuff the character back into the input stream. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00147">scanner.c:147</a></div></div>
<div class="ttc" id="chbuffer_8c_html_a2d5224d2b35a784853b73f58c816abf3"><div class="ttname"><a href="chbuffer_8c.html#a2d5224d2b35a784853b73f58c816abf3">get_char_buffer</a></div><div class="ttdeci">const char * get_char_buffer(char_buffer_t chbuf)</div><div class="ttdef"><b>Definition:</b> <a href="chbuffer_8c_source.html#l00050">chbuffer.c:50</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfea406acf88c81f7e4e3be83abd7164fa4a"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea406acf88c81f7e4e3be83abd7164fa4a">ERROR_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00008">scanner.h:8</a></div></div>
<div class="ttc" id="scanner_8c_html_a751d3a7f3f2a98cbbc4029ae856372be"><div class="ttname"><a href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a></div><div class="ttdeci">static int get_char()</div><div class="ttdoc">Get the char object Read a single character from the input stream. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00111">scanner.c:111</a></div></div>
<div class="ttc" id="chbuffer_8c_html_acb6858c891762953750c7e15d22eb2a4"><div class="ttname"><a href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a></div><div class="ttdeci">void add_char_buffer(char_buffer_t chbuf, int ch)</div><div class="ttdef"><b>Definition:</b> <a href="chbuffer_8c_source.html#l00057">chbuffer.c:57</a></div></div>
<div class="ttc" id="scanner_8c_html_a82c9d9502b1585c8db6cae8e8f3b3c21"><div class="ttname"><a href="scanner_8c.html#a82c9d9502b1585c8db6cae8e8f3b3c21">read_octal_number</a></div><div class="ttdeci">static token_t read_octal_number()</div><div class="ttdoc">Finish reading an octal number. An octal number starts with a &amp;#39;0&amp;#39; and all digits are less than &amp;#39;7&amp;#39;...</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00270">scanner.c:270</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_ae1ec61f0fae80f99861be0cd9a35a1a5_cgraph.png" border="0" usemap="#scanner_8c_ae1ec61f0fae80f99861be0cd9a35a1a5_cgraph" alt=""/></div>
<map name="scanner_8c_ae1ec61f0fae80f99861be0cd9a35a1a5_cgraph" id="scanner_8c_ae1ec61f0fae80f99861be0cd9a35a1a5_cgraph">
<area shape="rect" id="node2" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4" title="add_char_buffer" alt="" coords="356,34,471,61"/>
<area shape="rect" id="node4" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be" title="Get the char object Read a single character from the input stream. " alt="" coords="377,85,449,112"/>
<area shape="rect" id="node6" href="chbuffer_8c.html#a2d5224d2b35a784853b73f58c816abf3" title="get_char_buffer" alt="" coords="357,212,469,238"/>
<area shape="rect" id="node7" href="scanner_8c.html#a828f3d1cf54a7739b49733416cf76f7a" title="Scan a floating point number. When this is called the first part of the number, up to the &#39;..." alt="" coords="177,136,307,162"/>
<area shape="rect" id="node8" href="errors_8c.html#ac0bffed5fa1e4465a3f2376bb1d0ff8e" title="syntax" alt="" coords="383,161,444,188"/>
<area shape="rect" id="node12" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64" title="Stuff the character back into the input stream. " alt="" coords="370,262,457,289"/>
<area shape="rect" id="node13" href="scanner_8c.html#ac1c72c55c50c29f4e4a1c389030e089c" title="Finish reading a hex number from the input stream. When this is called, the &quot;0x&quot; has already been sca..." alt="" coords="179,34,305,61"/>
<area shape="rect" id="node14" href="scanner_8c.html#a82c9d9502b1585c8db6cae8e8f3b3c21" title="Finish reading an octal number. An octal number starts with a &#39;0&#39; and all digits are less than &#39;7&#39;..." alt="" coords="176,186,308,213"/>
<area shape="rect" id="node3" href="chbuffer_8c.html#ab6bd7ab68f67311ba96283983d8f4d8f" title="grow_buffer" alt="" coords="529,34,619,61"/>
<area shape="rect" id="node5" href="scanner_8c.html#a2e0b216fac9043db80ea028fe960dd39" title="Close the currently open file and update the file stack. This is automatically called when a file end..." alt="" coords="535,85,613,112"/>
<area shape="rect" id="node9" href="scanner_8c.html#a8161fb9051e2095068a797853806394b" title="Return the current column number in the current file. If there is no file open then return &#45;1..." alt="" coords="519,136,629,162"/>
<area shape="rect" id="node10" href="scanner_8c.html#a578f62c1d479d8626ea68dbce908a744" title="Return the current file name. For error handling. If no file is open, then return the string &quot;no file..." alt="" coords="523,186,625,213"/>
<area shape="rect" id="node11" href="scanner_8c.html#aeb057c7f2a5d7bea59fbdd08227a9c5c" title="Return the current line number in the current file. If there is no file open then return &#45;1..." alt="" coords="530,237,618,264"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_ae1ec61f0fae80f99861be0cd9a35a1a5_icgraph.png" border="0" usemap="#scanner_8c_ae1ec61f0fae80f99861be0cd9a35a1a5_icgraph" alt=""/></div>
<map name="scanner_8c_ae1ec61f0fae80f99861be0cd9a35a1a5_icgraph" id="scanner_8c_ae1ec61f0fae80f99861be0cd9a35a1a5_icgraph">
<area shape="rect" id="node2" href="scanner_8h.html#ab813ccd8271cf156beff16541aa1c476" title="Read text from the input stream and return a token. " alt="" coords="176,31,241,57"/>
<area shape="rect" id="node3" href="scanner_8h.html#acadf6d4cc0cd6d922a183a04af123be8" title="Retrieve a token and compare it against a token array. If the received token is not in the array..." alt="" coords="289,5,412,32"/>
<area shape="rect" id="node4" href="scanner_8h.html#a323ce9fdb2b8a07bc90f28716c9764a9" title="Retrieve the next token and check it against the specified token type. If the token does not match th..." alt="" coords="307,56,394,83"/>
</map>
</div>

</div>
</div>
<a id="a82c9d9502b1585c8db6cae8e8f3b3c21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82c9d9502b1585c8db6cae8e8f3b3c21">&#9670;&nbsp;</a></span>read_octal_number()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a> read_octal_number </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Finish reading an octal number. An octal number starts with a '0' and all digits are less than '7'. </p>
<dl class="section return"><dt>Returns</dt><dd>token_t </dd></dl>

<p class="definition">Definition at line <a class="el" href="scanner_8c_source.html#l00270">270</a> of file <a class="el" href="scanner_8c_source.html">scanner.c</a>.</p>

<p class="reference">References <a class="el" href="chbuffer_8c_source.html#l00057">add_char_buffer()</a>, <a class="el" href="scanner_8h_source.html#l00008">ERROR_TOKEN</a>, <a class="el" href="scanner_8c_source.html#l00111">get_char()</a>, <a class="el" href="chbuffer_8c_source.html#l00050">get_char_buffer()</a>, <a class="el" href="scanner_8h_source.html#l00017">ONUM_TOKEN</a>, <a class="el" href="scanner_8c_source.html#l00026">scanner_buffer</a>, <a class="el" href="errors_8c_source.html#l00027">syntax()</a>, and <a class="el" href="scanner_8c_source.html#l00147">unget_char()</a>.</p>

<p class="reference">Referenced by <a class="el" href="scanner_8c_source.html#l00353">read_number_top()</a>.</p>
<div class="fragment"><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                                   {</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="keywordtype">int</span> ch;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">while</span>(isdigit(ch = <a class="code" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a>())) {</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <span class="keywordflow">if</span>(ch &lt;= <span class="charliteral">&#39;7&#39;</span>)</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            <a class="code" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>, ch);</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            <span class="comment">// eat the rest of the number and publish an error</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            <span class="keywordflow">while</span>(isdigit(ch = <a class="code" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a>()))</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                <a class="code" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>, ch);</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            <a class="code" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a>(ch);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            <a class="code" href="errors_8c.html#ac0bffed5fa1e4465a3f2376bb1d0ff8e">syntax</a>(<span class="stringliteral">&quot;malformed octal number: %s&quot;</span>, <a class="code" href="chbuffer_8c.html#a2d5224d2b35a784853b73f58c816abf3">get_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>));</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea406acf88c81f7e4e3be83abd7164fa4a">ERROR_TOKEN</a>;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        }</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    }</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea3732842bc03ebcc9ecb848ef37afd486">ONUM_TOKEN</a>;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;}</div><div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfea3732842bc03ebcc9ecb848ef37afd486"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea3732842bc03ebcc9ecb848ef37afd486">ONUM_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00017">scanner.h:17</a></div></div>
<div class="ttc" id="errors_8c_html_ac0bffed5fa1e4465a3f2376bb1d0ff8e"><div class="ttname"><a href="errors_8c.html#ac0bffed5fa1e4465a3f2376bb1d0ff8e">syntax</a></div><div class="ttdeci">void syntax(const char *str,...)</div><div class="ttdef"><b>Definition:</b> <a href="errors_8c_source.html#l00027">errors.c:27</a></div></div>
<div class="ttc" id="scanner_8c_html_a46f294c9a8b344e4fd265f5279b6dad4"><div class="ttname"><a href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a></div><div class="ttdeci">static char_buffer_t scanner_buffer</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00026">scanner.c:26</a></div></div>
<div class="ttc" id="scanner_8c_html_a62fde60ffe0221615dca9102169dff64"><div class="ttname"><a href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a></div><div class="ttdeci">static void unget_char(int ch)</div><div class="ttdoc">Stuff the character back into the input stream. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00147">scanner.c:147</a></div></div>
<div class="ttc" id="chbuffer_8c_html_a2d5224d2b35a784853b73f58c816abf3"><div class="ttname"><a href="chbuffer_8c.html#a2d5224d2b35a784853b73f58c816abf3">get_char_buffer</a></div><div class="ttdeci">const char * get_char_buffer(char_buffer_t chbuf)</div><div class="ttdef"><b>Definition:</b> <a href="chbuffer_8c_source.html#l00050">chbuffer.c:50</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfea406acf88c81f7e4e3be83abd7164fa4a"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea406acf88c81f7e4e3be83abd7164fa4a">ERROR_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00008">scanner.h:8</a></div></div>
<div class="ttc" id="scanner_8c_html_a751d3a7f3f2a98cbbc4029ae856372be"><div class="ttname"><a href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a></div><div class="ttdeci">static int get_char()</div><div class="ttdoc">Get the char object Read a single character from the input stream. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00111">scanner.c:111</a></div></div>
<div class="ttc" id="chbuffer_8c_html_acb6858c891762953750c7e15d22eb2a4"><div class="ttname"><a href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a></div><div class="ttdeci">void add_char_buffer(char_buffer_t chbuf, int ch)</div><div class="ttdef"><b>Definition:</b> <a href="chbuffer_8c_source.html#l00057">chbuffer.c:57</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_a82c9d9502b1585c8db6cae8e8f3b3c21_cgraph.png" border="0" usemap="#scanner_8c_a82c9d9502b1585c8db6cae8e8f3b3c21_cgraph" alt=""/></div>
<map name="scanner_8c_a82c9d9502b1585c8db6cae8e8f3b3c21_cgraph" id="scanner_8c_a82c9d9502b1585c8db6cae8e8f3b3c21_cgraph">
<area shape="rect" id="node2" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4" title="add_char_buffer" alt="" coords="185,5,300,32"/>
<area shape="rect" id="node4" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be" title="Get the char object Read a single character from the input stream. " alt="" coords="207,56,279,83"/>
<area shape="rect" id="node6" href="chbuffer_8c.html#a2d5224d2b35a784853b73f58c816abf3" title="get_char_buffer" alt="" coords="187,107,299,133"/>
<area shape="rect" id="node7" href="errors_8c.html#ac0bffed5fa1e4465a3f2376bb1d0ff8e" title="syntax" alt="" coords="212,157,273,184"/>
<area shape="rect" id="node11" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64" title="Stuff the character back into the input stream. " alt="" coords="199,208,286,235"/>
<area shape="rect" id="node3" href="chbuffer_8c.html#ab6bd7ab68f67311ba96283983d8f4d8f" title="grow_buffer" alt="" coords="358,5,449,32"/>
<area shape="rect" id="node5" href="scanner_8c.html#a2e0b216fac9043db80ea028fe960dd39" title="Close the currently open file and update the file stack. This is automatically called when a file end..." alt="" coords="365,56,442,83"/>
<area shape="rect" id="node8" href="scanner_8c.html#a8161fb9051e2095068a797853806394b" title="Return the current column number in the current file. If there is no file open then return &#45;1..." alt="" coords="348,107,459,133"/>
<area shape="rect" id="node9" href="scanner_8c.html#a578f62c1d479d8626ea68dbce908a744" title="Return the current file name. For error handling. If no file is open, then return the string &quot;no file..." alt="" coords="352,157,455,184"/>
<area shape="rect" id="node10" href="scanner_8c.html#aeb057c7f2a5d7bea59fbdd08227a9c5c" title="Return the current line number in the current file. If there is no file open then return &#45;1..." alt="" coords="359,208,447,235"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_a82c9d9502b1585c8db6cae8e8f3b3c21_icgraph.png" border="0" usemap="#scanner_8c_a82c9d9502b1585c8db6cae8e8f3b3c21_icgraph" alt=""/></div>
<map name="scanner_8c_a82c9d9502b1585c8db6cae8e8f3b3c21_icgraph" id="scanner_8c_a82c9d9502b1585c8db6cae8e8f3b3c21_icgraph">
<area shape="rect" id="node2" href="scanner_8c.html#ae1ec61f0fae80f99861be0cd9a35a1a5" title="A digit has been seen. This is the entry to find out what kind of number is being read and then retur..." alt="" coords="185,31,308,57"/>
<area shape="rect" id="node3" href="scanner_8h.html#ab813ccd8271cf156beff16541aa1c476" title="Read text from the input stream and return a token. " alt="" coords="356,31,421,57"/>
<area shape="rect" id="node4" href="scanner_8h.html#acadf6d4cc0cd6d922a183a04af123be8" title="Retrieve a token and compare it against a token array. If the received token is not in the array..." alt="" coords="469,5,592,32"/>
<area shape="rect" id="node5" href="scanner_8h.html#a323ce9fdb2b8a07bc90f28716c9764a9" title="Retrieve the next token and check it against the specified token type. If the token does not match th..." alt="" coords="487,56,574,83"/>
</map>
</div>

</div>
</div>
<a id="a3205222d05c01cd1d1e2f3c6d605f971"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3205222d05c01cd1d1e2f3c6d605f971">&#9670;&nbsp;</a></span>read_punct()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a> read_punct </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ch</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read a punctuation character from input stream. When this is entered, a punctuation character has been read. If it's a (_) then we have a symbol, otherwise, it's an operator. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ch</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>token_t </dd></dl>

<p class="definition">Definition at line <a class="el" href="scanner_8c_source.html#l00642">642</a> of file <a class="el" href="scanner_8c_source.html">scanner.c</a>.</p>

<p class="reference">References <a class="el" href="scanner_8h_source.html#l00036">ADD_TOKEN</a>, <a class="el" href="scanner_8h_source.html#l00044">AND_TOKEN</a>, <a class="el" href="scanner_8h_source.html#l00028">CCUR_TOKEN</a>, <a class="el" href="scanner_8h_source.html#l00024">COLON_TOKEN</a>, <a class="el" href="scanner_8h_source.html#l00022">COMMA_TOKEN</a>, <a class="el" href="scanner_8h_source.html#l00030">CPAR_TOKEN</a>, <a class="el" href="scanner_8h_source.html#l00026">CSQU_TOKEN</a>, <a class="el" href="scanner_8h_source.html#l00041">DEC_TOKEN</a>, <a class="el" href="scanner_8h_source.html#l00031">DOT_TOKEN</a>, <a class="el" href="scanner_8h_source.html#l00032">EQU_TOKEN</a>, <a class="el" href="scanner_8h_source.html#l00038">EQUALITY_TOKEN</a>, <a class="el" href="scanner_8h_source.html#l00008">ERROR_TOKEN</a>, <a class="el" href="scanner_8c_source.html#l00111">get_char()</a>, <a class="el" href="scanner_8h_source.html#l00034">GT_TOKEN</a>, <a class="el" href="scanner_8h_source.html#l00040">GTE_TOKEN</a>, <a class="el" href="scanner_8h_source.html#l00042">INC_TOKEN</a>, <a class="el" href="scanner_8h_source.html#l00033">LT_TOKEN</a>, <a class="el" href="scanner_8h_source.html#l00039">LTE_TOKEN</a>, <a class="el" href="scanner_8h_source.html#l00021">MOD_TOKEN</a>, <a class="el" href="scanner_8h_source.html#l00020">MUL_TOKEN</a>, <a class="el" href="scanner_8h_source.html#l00043">NEQ_TOKEN</a>, <a class="el" href="scanner_8h_source.html#l00007">NONE_TOKEN</a>, <a class="el" href="scanner_8h_source.html#l00037">NOT_TOKEN</a>, <a class="el" href="scanner_8h_source.html#l00027">OCUR_TOKEN</a>, <a class="el" href="scanner_8h_source.html#l00029">OPAR_TOKEN</a>, <a class="el" href="scanner_8h_source.html#l00045">OR_TOKEN</a>, <a class="el" href="scanner_8h_source.html#l00025">OSQU_TOKEN</a>, <a class="el" href="scanner_8c_source.html#l00615">read_word()</a>, <a class="el" href="scanner_8h_source.html#l00023">SEMIC_TOKEN</a>, <a class="el" href="scanner_8h_source.html#l00035">SUB_TOKEN</a>, <a class="el" href="scanner_8c_source.html#l00147">unget_char()</a>, and <a class="el" href="errors_8c_source.html#l00048">warning()</a>.</p>

<p class="reference">Referenced by <a class="el" href="scanner_8c_source.html#l00843">get_tok()</a>.</p>
<div class="fragment"><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;                                  {</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <span class="keywordflow">if</span>(ch == <span class="charliteral">&#39;_&#39;</span>) {</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        <a class="code" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a>(<span class="charliteral">&#39;_&#39;</span>);</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        <span class="comment">// wasteful binary search for something that is certinly a symbol</span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="scanner_8c.html#aafc5da6edd9fb271cf3d877b1dd36240">read_word</a>();</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    }</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        <span class="keywordflow">switch</span>(ch) {</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;            <span class="comment">// single character operators</span></div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;*&#39;</span>: <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea61a313427c1edae8a76c63d287c70bb3">MUL_TOKEN</a>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;%&#39;</span>: <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea55971b88e252d4d545a80a86e70f5bf4">MOD_TOKEN</a>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;,&#39;</span>: <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea4f57e9593400110e433093af30d976b2">COMMA_TOKEN</a>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;;&#39;</span>: <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea92446b85bc996be21b787b9a389a3083">SEMIC_TOKEN</a>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;:&#39;</span>: <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea89bd5129ca19704cb451194e5f2fee42">COLON_TOKEN</a>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;[&#39;</span>: <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfeafe3223764e898d952333c43b184fb624">OSQU_TOKEN</a>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;]&#39;</span>: <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea92e3cc58fb4f3ac2ee18182e224c84ab">CSQU_TOKEN</a>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;{&#39;</span>: <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfead179ddec0dd098245aea917be56d9162">OCUR_TOKEN</a>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;}&#39;</span>: <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfeac3663726f50b25fe47ee1e762899c4cf">CCUR_TOKEN</a>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;(&#39;</span>: <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea4d070a29f5295249efd402858d35d1c1">OPAR_TOKEN</a>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;)&#39;</span>: <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea308af549250ac194d49b7127dbc21e97">CPAR_TOKEN</a>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;.&#39;</span>: <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfeadf1b37b5f39869b48e62693b15d769c7">DOT_TOKEN</a>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;|&#39;</span>: <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea4412e4730b31931b7bf79c160f5e0785">OR_TOKEN</a>; <span class="keywordflow">break</span>; <span class="comment">// comparison</span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;&amp;&#39;</span>: <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfeae0856be40bf97a8ccf05d71550777c7e">AND_TOKEN</a>; <span class="keywordflow">break</span>; <span class="comment">// comparison</span></div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;            <span class="comment">// could be single or double</span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;=&#39;</span>: {</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                <span class="keywordtype">int</span> c = <a class="code" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a>();</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                <span class="keywordflow">if</span>(c == <span class="charliteral">&#39;=&#39;</span>)</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfeab8419599790c7236c5bdd93e53cc5751">EQUALITY_TOKEN</a>;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                <span class="keywordflow">else</span> {</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                    <a class="code" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a>(c);</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea0f8aa528487bd9101b55bf971edbf8d9">EQU_TOKEN</a>;</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                }</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;            }</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;&lt;&#39;</span>: {</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                <span class="keywordtype">int</span> c = <a class="code" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a>();</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                <span class="keywordflow">if</span>(c == <span class="charliteral">&#39;=&#39;</span>)</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea8caf80923c758f1136033d369083f9a0">LTE_TOKEN</a>;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(c == <span class="charliteral">&#39;&gt;&#39;</span>)</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea05b542f404de218387542c2a19cc6959">NEQ_TOKEN</a>;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                <span class="keywordflow">else</span> {</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;                    <a class="code" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a>(c);</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfeaa000a39bccdfacbced3a5edad404da32">LT_TOKEN</a>;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;                }</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;            }</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;&gt;&#39;</span>: {</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;                <span class="keywordtype">int</span> c = <a class="code" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a>();</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;                <span class="keywordflow">if</span>(c == <span class="charliteral">&#39;=&#39;</span>)</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfeaf9abf9cb2bc7ba630bf209ff1cf37903">GTE_TOKEN</a>;</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                <span class="keywordflow">else</span> {</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                    <a class="code" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a>(c);</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfeaadf1dda29787a3674ffb740516d79afe">GT_TOKEN</a>;</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                }</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;            }</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;-&#39;</span>: {</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                <span class="keywordtype">int</span> c = <a class="code" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a>();</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;                <span class="keywordflow">if</span>(c == <span class="charliteral">&#39;-&#39;</span>)</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea699cbc9a03643eb55427c1f3598ae59b">DEC_TOKEN</a>;</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                <span class="keywordflow">else</span> {</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                    <a class="code" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a>(c);</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea40fcc7576807ae4f46e921529345d37f">SUB_TOKEN</a>;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;                }</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;            }</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;+&#39;</span>: {</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                <span class="keywordtype">int</span> c = <a class="code" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a>();</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                <span class="keywordflow">if</span>(c == <span class="charliteral">&#39;+&#39;</span>)</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea1b8d1699a3a0b6f53ba75af2a6d9b170">INC_TOKEN</a>;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;                <span class="keywordflow">else</span> {</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;                    <a class="code" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a>(c);</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfeacb2dd620538813380f16fdd3c95072cc">ADD_TOKEN</a>;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                }</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;            }</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;!&#39;</span>: {</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;                <span class="keywordtype">int</span> c = <a class="code" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a>();</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;                <span class="keywordflow">if</span>(c == <span class="charliteral">&#39;=&#39;</span>)</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea05b542f404de218387542c2a19cc6959">NEQ_TOKEN</a>;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                <span class="keywordflow">else</span> {</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                    <a class="code" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a>(c);</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea89a37c3b8cfcc132733bc18b7065064e">NOT_TOKEN</a>;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;                }</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;            }</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;                    <span class="comment">// these are not recognized</span></div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;            <span class="keywordflow">default</span>:</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;                <a class="code" href="errors_8c.html#ae00bc00a057df39f4ebc8eed485f953e">warning</a>(<span class="stringliteral">&quot;unrecognized character in input: &#39;%c&#39; (0x%02X). Ignored.&quot;</span>, ch, ch);</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea92eb9340b108c2cc0589f922dd843de5">NONE_TOKEN</a>;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;        }</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    }</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea406acf88c81f7e4e3be83abd7164fa4a">ERROR_TOKEN</a>; <span class="comment">// should never happen</span></div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;}</div><div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfea699cbc9a03643eb55427c1f3598ae59b"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea699cbc9a03643eb55427c1f3598ae59b">DEC_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00041">scanner.h:41</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfea40fcc7576807ae4f46e921529345d37f"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea40fcc7576807ae4f46e921529345d37f">SUB_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00035">scanner.h:35</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfea1b8d1699a3a0b6f53ba75af2a6d9b170"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea1b8d1699a3a0b6f53ba75af2a6d9b170">INC_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00042">scanner.h:42</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfea92eb9340b108c2cc0589f922dd843de5"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea92eb9340b108c2cc0589f922dd843de5">NONE_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00007">scanner.h:7</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfeacb2dd620538813380f16fdd3c95072cc"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfeacb2dd620538813380f16fdd3c95072cc">ADD_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00036">scanner.h:36</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfea0f8aa528487bd9101b55bf971edbf8d9"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea0f8aa528487bd9101b55bf971edbf8d9">EQU_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00032">scanner.h:32</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfeadf1b37b5f39869b48e62693b15d769c7"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfeadf1b37b5f39869b48e62693b15d769c7">DOT_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00031">scanner.h:31</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfea05b542f404de218387542c2a19cc6959"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea05b542f404de218387542c2a19cc6959">NEQ_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00043">scanner.h:43</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfea89bd5129ca19704cb451194e5f2fee42"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea89bd5129ca19704cb451194e5f2fee42">COLON_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00024">scanner.h:24</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfea4f57e9593400110e433093af30d976b2"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea4f57e9593400110e433093af30d976b2">COMMA_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00022">scanner.h:22</a></div></div>
<div class="ttc" id="scanner_8c_html_a62fde60ffe0221615dca9102169dff64"><div class="ttname"><a href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a></div><div class="ttdeci">static void unget_char(int ch)</div><div class="ttdoc">Stuff the character back into the input stream. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00147">scanner.c:147</a></div></div>
<div class="ttc" id="errors_8c_html_ae00bc00a057df39f4ebc8eed485f953e"><div class="ttname"><a href="errors_8c.html#ae00bc00a057df39f4ebc8eed485f953e">warning</a></div><div class="ttdeci">void warning(const char *str,...)</div><div class="ttdef"><b>Definition:</b> <a href="errors_8c_source.html#l00048">errors.c:48</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfeaadf1dda29787a3674ffb740516d79afe"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfeaadf1dda29787a3674ffb740516d79afe">GT_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00034">scanner.h:34</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfea406acf88c81f7e4e3be83abd7164fa4a"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea406acf88c81f7e4e3be83abd7164fa4a">ERROR_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00008">scanner.h:8</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfeab8419599790c7236c5bdd93e53cc5751"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfeab8419599790c7236c5bdd93e53cc5751">EQUALITY_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00038">scanner.h:38</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfea92446b85bc996be21b787b9a389a3083"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea92446b85bc996be21b787b9a389a3083">SEMIC_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00023">scanner.h:23</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfea89a37c3b8cfcc132733bc18b7065064e"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea89a37c3b8cfcc132733bc18b7065064e">NOT_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00037">scanner.h:37</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfea4412e4730b31931b7bf79c160f5e0785"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea4412e4730b31931b7bf79c160f5e0785">OR_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00045">scanner.h:45</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfeae0856be40bf97a8ccf05d71550777c7e"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfeae0856be40bf97a8ccf05d71550777c7e">AND_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00044">scanner.h:44</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfeac3663726f50b25fe47ee1e762899c4cf"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfeac3663726f50b25fe47ee1e762899c4cf">CCUR_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00028">scanner.h:28</a></div></div>
<div class="ttc" id="scanner_8c_html_a751d3a7f3f2a98cbbc4029ae856372be"><div class="ttname"><a href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a></div><div class="ttdeci">static int get_char()</div><div class="ttdoc">Get the char object Read a single character from the input stream. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00111">scanner.c:111</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfeafe3223764e898d952333c43b184fb624"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfeafe3223764e898d952333c43b184fb624">OSQU_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00025">scanner.h:25</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfeaa000a39bccdfacbced3a5edad404da32"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfeaa000a39bccdfacbced3a5edad404da32">LT_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00033">scanner.h:33</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfea4d070a29f5295249efd402858d35d1c1"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea4d070a29f5295249efd402858d35d1c1">OPAR_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00029">scanner.h:29</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfeaf9abf9cb2bc7ba630bf209ff1cf37903"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfeaf9abf9cb2bc7ba630bf209ff1cf37903">GTE_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00040">scanner.h:40</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfea61a313427c1edae8a76c63d287c70bb3"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea61a313427c1edae8a76c63d287c70bb3">MUL_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00020">scanner.h:20</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfea8caf80923c758f1136033d369083f9a0"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea8caf80923c758f1136033d369083f9a0">LTE_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00039">scanner.h:39</a></div></div>
<div class="ttc" id="scanner_8c_html_aafc5da6edd9fb271cf3d877b1dd36240"><div class="ttname"><a href="scanner_8c.html#aafc5da6edd9fb271cf3d877b1dd36240">read_word</a></div><div class="ttdeci">static token_t read_word()</div><div class="ttdoc">Read a word from the input and then find out if it&amp;#39;s a keyword. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00615">scanner.c:615</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfea92e3cc58fb4f3ac2ee18182e224c84ab"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea92e3cc58fb4f3ac2ee18182e224c84ab">CSQU_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00026">scanner.h:26</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfea55971b88e252d4d545a80a86e70f5bf4"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea55971b88e252d4d545a80a86e70f5bf4">MOD_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00021">scanner.h:21</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfea308af549250ac194d49b7127dbc21e97"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea308af549250ac194d49b7127dbc21e97">CPAR_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00030">scanner.h:30</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfead179ddec0dd098245aea917be56d9162"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfead179ddec0dd098245aea917be56d9162">OCUR_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00027">scanner.h:27</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_a3205222d05c01cd1d1e2f3c6d605f971_cgraph.png" border="0" usemap="#scanner_8c_a3205222d05c01cd1d1e2f3c6d605f971_cgraph" alt=""/></div>
<map name="scanner_8c_a3205222d05c01cd1d1e2f3c6d605f971_cgraph" id="scanner_8c_a3205222d05c01cd1d1e2f3c6d605f971_cgraph">
<area shape="rect" id="node2" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be" title="Get the char object Read a single character from the input stream. " alt="" coords="292,5,364,32"/>
<area shape="rect" id="node4" href="scanner_8c.html#aafc5da6edd9fb271cf3d877b1dd36240" title="Read a word from the input and then find out if it&#39;s a keyword. " alt="" coords="140,120,223,147"/>
<area shape="rect" id="node7" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64" title="Stuff the character back into the input stream. " alt="" coords="285,208,371,235"/>
<area shape="rect" id="node10" href="errors_8c.html#ae00bc00a057df39f4ebc8eed485f953e" title="warning" alt="" coords="148,284,215,311"/>
<area shape="rect" id="node3" href="scanner_8c.html#a2e0b216fac9043db80ea028fe960dd39" title="Close the currently open file and update the file stack. This is automatically called when a file end..." alt="" coords="440,5,517,32"/>
<area shape="rect" id="node5" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4" title="add_char_buffer" alt="" coords="271,56,385,83"/>
<area shape="rect" id="node8" href="chbuffer_8c.html#a2d5224d2b35a784853b73f58c816abf3" title="get_char_buffer" alt="" coords="272,107,384,133"/>
<area shape="rect" id="node9" href="scanner_8c.html#ac9d2f4eca16d0523494a48163e2924f1" title="Convert the given keyword string to a token. If it is not a keyword, then SYMBOL_TOKEN is returned..." alt="" coords="281,157,375,184"/>
<area shape="rect" id="node6" href="chbuffer_8c.html#ab6bd7ab68f67311ba96283983d8f4d8f" title="grow_buffer" alt="" coords="433,56,524,83"/>
<area shape="rect" id="node11" href="scanner_8c.html#a8161fb9051e2095068a797853806394b" title="Return the current column number in the current file. If there is no file open then return &#45;1..." alt="" coords="273,259,383,285"/>
<area shape="rect" id="node12" href="scanner_8c.html#a578f62c1d479d8626ea68dbce908a744" title="Return the current file name. For error handling. If no file is open, then return the string &quot;no file..." alt="" coords="277,309,379,336"/>
<area shape="rect" id="node13" href="scanner_8c.html#aeb057c7f2a5d7bea59fbdd08227a9c5c" title="Return the current line number in the current file. If there is no file open then return &#45;1..." alt="" coords="284,360,372,387"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_a3205222d05c01cd1d1e2f3c6d605f971_icgraph.png" border="0" usemap="#scanner_8c_a3205222d05c01cd1d1e2f3c6d605f971_icgraph" alt=""/></div>
<map name="scanner_8c_a3205222d05c01cd1d1e2f3c6d605f971_icgraph" id="scanner_8c_a3205222d05c01cd1d1e2f3c6d605f971_icgraph">
<area shape="rect" id="node2" href="scanner_8h.html#ab813ccd8271cf156beff16541aa1c476" title="Read text from the input stream and return a token. " alt="" coords="140,31,205,57"/>
<area shape="rect" id="node3" href="scanner_8h.html#acadf6d4cc0cd6d922a183a04af123be8" title="Retrieve a token and compare it against a token array. If the received token is not in the array..." alt="" coords="253,5,376,32"/>
<area shape="rect" id="node4" href="scanner_8h.html#a323ce9fdb2b8a07bc90f28716c9764a9" title="Retrieve the next token and check it against the specified token type. If the token does not match th..." alt="" coords="271,56,358,83"/>
</map>
</div>

</div>
</div>
<a id="a7485b39f90b06a1a8fc01ccd6268646d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7485b39f90b06a1a8fc01ccd6268646d">&#9670;&nbsp;</a></span>read_squote()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a> read_squote </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read a string without escape translations. When this is entered, a (') has been seen and discarded. This function copies whatever is found into a string, exactly as it is found in the source code. If consecutive strings are found separated only by white space, then it is a single string that is being scanned. </p>
<dl class="section return"><dt>Returns</dt><dd>token_t </dd></dl>

<p class="definition">Definition at line <a class="el" href="scanner_8c_source.html#l00584">584</a> of file <a class="el" href="scanner_8c_source.html">scanner.c</a>.</p>

<p class="reference">References <a class="el" href="chbuffer_8c_source.html#l00057">add_char_buffer()</a>, <a class="el" href="scanner_8c_source.html#l00190">eat_until_ws()</a>, <a class="el" href="scanner_8h_source.html#l00008">ERROR_TOKEN</a>, <a class="el" href="scanner_8c_source.html#l00111">get_char()</a>, <a class="el" href="scanner_8h_source.html#l00018">QSTRG_TOKEN</a>, <a class="el" href="scanner_8c_source.html#l00026">scanner_buffer</a>, and <a class="el" href="errors_8c_source.html#l00027">syntax()</a>.</p>

<p class="reference">Referenced by <a class="el" href="scanner_8c_source.html#l00843">get_tok()</a>.</p>
<div class="fragment"><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                             {</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="keywordtype">int</span> finished = 0;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="keywordtype">int</span> ch;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a> tok = <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfeab08cc7155f8dc6d29fe9627d75bf9267">QSTRG_TOKEN</a>;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="keywordflow">while</span>(!finished) {</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        ch = <a class="code" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a>();</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        <span class="keywordflow">switch</span>(ch) {</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;\&#39;&#39;</span>:</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                finished++;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;\n&#39;</span>:</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                <a class="code" href="errors_8c.html#ac0bffed5fa1e4465a3f2376bb1d0ff8e">syntax</a>(<span class="stringliteral">&quot;line breaks are not allowed in a string.&quot;</span>);</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                <a class="code" href="scanner_8c.html#adbeae6c1148f611761e293b2d4083155">eat_until_ws</a>();</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea406acf88c81f7e4e3be83abd7164fa4a">ERROR_TOKEN</a>;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;            <span class="keywordflow">default</span>:</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                <a class="code" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>, ch);</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        }</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    }</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="keywordflow">return</span> tok;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;}</div><div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfe"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a></div><div class="ttdeci">token_t</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00006">scanner.h:6</a></div></div>
<div class="ttc" id="errors_8c_html_ac0bffed5fa1e4465a3f2376bb1d0ff8e"><div class="ttname"><a href="errors_8c.html#ac0bffed5fa1e4465a3f2376bb1d0ff8e">syntax</a></div><div class="ttdeci">void syntax(const char *str,...)</div><div class="ttdef"><b>Definition:</b> <a href="errors_8c_source.html#l00027">errors.c:27</a></div></div>
<div class="ttc" id="scanner_8c_html_a46f294c9a8b344e4fd265f5279b6dad4"><div class="ttname"><a href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a></div><div class="ttdeci">static char_buffer_t scanner_buffer</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00026">scanner.c:26</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfea406acf88c81f7e4e3be83abd7164fa4a"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea406acf88c81f7e4e3be83abd7164fa4a">ERROR_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00008">scanner.h:8</a></div></div>
<div class="ttc" id="scanner_8c_html_a751d3a7f3f2a98cbbc4029ae856372be"><div class="ttname"><a href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a></div><div class="ttdeci">static int get_char()</div><div class="ttdoc">Get the char object Read a single character from the input stream. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00111">scanner.c:111</a></div></div>
<div class="ttc" id="chbuffer_8c_html_acb6858c891762953750c7e15d22eb2a4"><div class="ttname"><a href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a></div><div class="ttdeci">void add_char_buffer(char_buffer_t chbuf, int ch)</div><div class="ttdef"><b>Definition:</b> <a href="chbuffer_8c_source.html#l00057">chbuffer.c:57</a></div></div>
<div class="ttc" id="scanner_8c_html_adbeae6c1148f611761e293b2d4083155"><div class="ttname"><a href="scanner_8c.html#adbeae6c1148f611761e293b2d4083155">eat_until_ws</a></div><div class="ttdeci">static void eat_until_ws()</div><div class="ttdoc">Eat characters until white space is encountered. Used for the scanner to recover from an error...</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00190">scanner.c:190</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfeab08cc7155f8dc6d29fe9627d75bf9267"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfeab08cc7155f8dc6d29fe9627d75bf9267">QSTRG_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00018">scanner.h:18</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_a7485b39f90b06a1a8fc01ccd6268646d_cgraph.png" border="0" usemap="#scanner_8c_a7485b39f90b06a1a8fc01ccd6268646d_cgraph" alt=""/></div>
<map name="scanner_8c_a7485b39f90b06a1a8fc01ccd6268646d_cgraph" id="scanner_8c_a7485b39f90b06a1a8fc01ccd6268646d_cgraph">
<area shape="rect" id="node2" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4" title="add_char_buffer" alt="" coords="289,5,404,32"/>
<area shape="rect" id="node4" href="scanner_8c.html#adbeae6c1148f611761e293b2d4083155" title="Eat characters until white space is encountered. Used for the scanner to recover from an error..." alt="" coords="147,56,241,83"/>
<area shape="rect" id="node5" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be" title="Get the char object Read a single character from the input stream. " alt="" coords="311,107,383,133"/>
<area shape="rect" id="node8" href="errors_8c.html#ac0bffed5fa1e4465a3f2376bb1d0ff8e" title="syntax" alt="" coords="163,183,225,209"/>
<area shape="rect" id="node3" href="chbuffer_8c.html#ab6bd7ab68f67311ba96283983d8f4d8f" title="grow_buffer" alt="" coords="452,5,543,32"/>
<area shape="rect" id="node7" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64" title="Stuff the character back into the input stream. " alt="" coords="303,56,390,83"/>
<area shape="rect" id="node6" href="scanner_8c.html#a2e0b216fac9043db80ea028fe960dd39" title="Close the currently open file and update the file stack. This is automatically called when a file end..." alt="" coords="459,107,536,133"/>
<area shape="rect" id="node9" href="scanner_8c.html#a8161fb9051e2095068a797853806394b" title="Return the current column number in the current file. If there is no file open then return &#45;1..." alt="" coords="291,157,402,184"/>
<area shape="rect" id="node10" href="scanner_8c.html#a578f62c1d479d8626ea68dbce908a744" title="Return the current file name. For error handling. If no file is open, then return the string &quot;no file..." alt="" coords="295,208,398,235"/>
<area shape="rect" id="node11" href="scanner_8c.html#aeb057c7f2a5d7bea59fbdd08227a9c5c" title="Return the current line number in the current file. If there is no file open then return &#45;1..." alt="" coords="303,259,391,285"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_a7485b39f90b06a1a8fc01ccd6268646d_icgraph.png" border="0" usemap="#scanner_8c_a7485b39f90b06a1a8fc01ccd6268646d_icgraph" alt=""/></div>
<map name="scanner_8c_a7485b39f90b06a1a8fc01ccd6268646d_icgraph" id="scanner_8c_a7485b39f90b06a1a8fc01ccd6268646d_icgraph">
<area shape="rect" id="node2" href="scanner_8h.html#ab813ccd8271cf156beff16541aa1c476" title="Read text from the input stream and return a token. " alt="" coords="147,31,212,57"/>
<area shape="rect" id="node3" href="scanner_8h.html#acadf6d4cc0cd6d922a183a04af123be8" title="Retrieve a token and compare it against a token array. If the received token is not in the array..." alt="" coords="260,5,383,32"/>
<area shape="rect" id="node4" href="scanner_8h.html#a323ce9fdb2b8a07bc90f28716c9764a9" title="Retrieve the next token and check it against the specified token type. If the token does not match th..." alt="" coords="278,56,365,83"/>
</map>
</div>

</div>
</div>
<a id="aafc5da6edd9fb271cf3d877b1dd36240"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafc5da6edd9fb271cf3d877b1dd36240">&#9670;&nbsp;</a></span>read_word()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a> read_word </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read a word from the input and then find out if it's a keyword. </p>
<dl class="section return"><dt>Returns</dt><dd>token_t </dd></dl>

<p class="definition">Definition at line <a class="el" href="scanner_8c_source.html#l00615">615</a> of file <a class="el" href="scanner_8c_source.html">scanner.c</a>.</p>

<p class="reference">References <a class="el" href="chbuffer_8c_source.html#l00057">add_char_buffer()</a>, <a class="el" href="scanner_8c_source.html#l00111">get_char()</a>, <a class="el" href="chbuffer_8c_source.html#l00050">get_char_buffer()</a>, <a class="el" href="scanner_8c_source.html#l00026">scanner_buffer</a>, <a class="el" href="scanner_8c_source.html#l00791">str_to_token()</a>, and <a class="el" href="scanner_8c_source.html#l00147">unget_char()</a>.</p>

<p class="reference">Referenced by <a class="el" href="scanner_8c_source.html#l00843">get_tok()</a>, and <a class="el" href="scanner_8c_source.html#l00642">read_punct()</a>.</p>
<div class="fragment"><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                           {</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <span class="keywordtype">int</span> c;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="keywordtype">int</span> finished = 0;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="keywordflow">while</span>(!finished) {</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        c = <a class="code" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a>();</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        <span class="keywordflow">if</span>(isalnum(c) || c == <span class="charliteral">&#39;_&#39;</span>)</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;            <a class="code" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>, c);</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;            finished++;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        }</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    }</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <a class="code" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a>(c);</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* find = <a class="code" href="chbuffer_8c.html#a2d5224d2b35a784853b73f58c816abf3">get_char_buffer</a>(<a class="code" href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a>);</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="scanner_8c.html#ac9d2f4eca16d0523494a48163e2924f1">str_to_token</a>(find);</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;}</div><div class="ttc" id="scanner_8c_html_a46f294c9a8b344e4fd265f5279b6dad4"><div class="ttname"><a href="scanner_8c.html#a46f294c9a8b344e4fd265f5279b6dad4">scanner_buffer</a></div><div class="ttdeci">static char_buffer_t scanner_buffer</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00026">scanner.c:26</a></div></div>
<div class="ttc" id="scanner_8c_html_a62fde60ffe0221615dca9102169dff64"><div class="ttname"><a href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a></div><div class="ttdeci">static void unget_char(int ch)</div><div class="ttdoc">Stuff the character back into the input stream. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00147">scanner.c:147</a></div></div>
<div class="ttc" id="scanner_8c_html_ac9d2f4eca16d0523494a48163e2924f1"><div class="ttname"><a href="scanner_8c.html#ac9d2f4eca16d0523494a48163e2924f1">str_to_token</a></div><div class="ttdeci">token_t str_to_token(const char *str)</div><div class="ttdoc">Convert the given keyword string to a token. If it is not a keyword, then SYMBOL_TOKEN is returned...</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00791">scanner.c:791</a></div></div>
<div class="ttc" id="chbuffer_8c_html_a2d5224d2b35a784853b73f58c816abf3"><div class="ttname"><a href="chbuffer_8c.html#a2d5224d2b35a784853b73f58c816abf3">get_char_buffer</a></div><div class="ttdeci">const char * get_char_buffer(char_buffer_t chbuf)</div><div class="ttdef"><b>Definition:</b> <a href="chbuffer_8c_source.html#l00050">chbuffer.c:50</a></div></div>
<div class="ttc" id="scanner_8c_html_a751d3a7f3f2a98cbbc4029ae856372be"><div class="ttname"><a href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a></div><div class="ttdeci">static int get_char()</div><div class="ttdoc">Get the char object Read a single character from the input stream. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00111">scanner.c:111</a></div></div>
<div class="ttc" id="chbuffer_8c_html_acb6858c891762953750c7e15d22eb2a4"><div class="ttname"><a href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4">add_char_buffer</a></div><div class="ttdeci">void add_char_buffer(char_buffer_t chbuf, int ch)</div><div class="ttdef"><b>Definition:</b> <a href="chbuffer_8c_source.html#l00057">chbuffer.c:57</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_aafc5da6edd9fb271cf3d877b1dd36240_cgraph.png" border="0" usemap="#scanner_8c_aafc5da6edd9fb271cf3d877b1dd36240_cgraph" alt=""/></div>
<map name="scanner_8c_aafc5da6edd9fb271cf3d877b1dd36240_cgraph" id="scanner_8c_aafc5da6edd9fb271cf3d877b1dd36240_cgraph">
<area shape="rect" id="node2" href="chbuffer_8c.html#acb6858c891762953750c7e15d22eb2a4" title="add_char_buffer" alt="" coords="136,5,251,32"/>
<area shape="rect" id="node4" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be" title="Get the char object Read a single character from the input stream. " alt="" coords="157,56,229,83"/>
<area shape="rect" id="node6" href="chbuffer_8c.html#a2d5224d2b35a784853b73f58c816abf3" title="get_char_buffer" alt="" coords="137,107,249,133"/>
<area shape="rect" id="node7" href="scanner_8c.html#ac9d2f4eca16d0523494a48163e2924f1" title="Convert the given keyword string to a token. If it is not a keyword, then SYMBOL_TOKEN is returned..." alt="" coords="146,157,241,184"/>
<area shape="rect" id="node8" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64" title="Stuff the character back into the input stream. " alt="" coords="150,208,237,235"/>
<area shape="rect" id="node3" href="chbuffer_8c.html#ab6bd7ab68f67311ba96283983d8f4d8f" title="grow_buffer" alt="" coords="299,5,389,32"/>
<area shape="rect" id="node5" href="scanner_8c.html#a2e0b216fac9043db80ea028fe960dd39" title="Close the currently open file and update the file stack. This is automatically called when a file end..." alt="" coords="305,56,383,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_aafc5da6edd9fb271cf3d877b1dd36240_icgraph.png" border="0" usemap="#scanner_8c_aafc5da6edd9fb271cf3d877b1dd36240_icgraph" alt=""/></div>
<map name="scanner_8c_aafc5da6edd9fb271cf3d877b1dd36240_icgraph" id="scanner_8c_aafc5da6edd9fb271cf3d877b1dd36240_icgraph">
<area shape="rect" id="node2" href="scanner_8h.html#ab813ccd8271cf156beff16541aa1c476" title="Read text from the input stream and return a token. " alt="" coords="271,31,336,57"/>
<area shape="rect" id="node5" href="scanner_8c.html#a3205222d05c01cd1d1e2f3c6d605f971" title="Read a punctuation character from input stream. When this is entered, a punctuation character has bee..." alt="" coords="136,56,223,83"/>
<area shape="rect" id="node3" href="scanner_8h.html#acadf6d4cc0cd6d922a183a04af123be8" title="Retrieve a token and compare it against a token array. If the received token is not in the array..." alt="" coords="384,5,507,32"/>
<area shape="rect" id="node4" href="scanner_8h.html#a323ce9fdb2b8a07bc90f28716c9764a9" title="Retrieve the next token and check it against the specified token type. If the token does not match th..." alt="" coords="402,56,489,83"/>
</map>
</div>

</div>
</div>
<a id="acbbdc80f7ad0b9998e6c40c665055240"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbbdc80f7ad0b9998e6c40c665055240">&#9670;&nbsp;</a></span>skip_ws()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void skip_ws </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Skip white space. </p>

<p class="definition">Definition at line <a class="el" href="scanner_8c_source.html#l00168">168</a> of file <a class="el" href="scanner_8c_source.html">scanner.c</a>.</p>

<p class="reference">References <a class="el" href="scanner_8h_source.html#l00009">END_INPUT</a>, <a class="el" href="scanner_8c_source.html#l00111">get_char()</a>, and <a class="el" href="scanner_8c_source.html#l00147">unget_char()</a>.</p>

<p class="reference">Referenced by <a class="el" href="scanner_8c_source.html#l00843">get_tok()</a>.</p>
<div class="fragment"><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                      {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordtype">int</span> ch, finished = 0;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keywordflow">while</span>(!finished) {</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        ch = <a class="code" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a>();</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="keywordflow">if</span>(!isspace(ch)) {</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            <a class="code" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a>(ch);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            finished++;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        }</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(ch == <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea0ddfc8846f90572f05d2e8e1afc05f78">END_INPUT</a>)</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            finished++;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    }</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="comment">// next char in input stream is not blank.</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;}</div><div class="ttc" id="scanner_8c_html_a62fde60ffe0221615dca9102169dff64"><div class="ttname"><a href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64">unget_char</a></div><div class="ttdeci">static void unget_char(int ch)</div><div class="ttdoc">Stuff the character back into the input stream. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00147">scanner.c:147</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfea0ddfc8846f90572f05d2e8e1afc05f78"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfea0ddfc8846f90572f05d2e8e1afc05f78">END_INPUT</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00009">scanner.h:9</a></div></div>
<div class="ttc" id="scanner_8c_html_a751d3a7f3f2a98cbbc4029ae856372be"><div class="ttname"><a href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be">get_char</a></div><div class="ttdeci">static int get_char()</div><div class="ttdoc">Get the char object Read a single character from the input stream. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00111">scanner.c:111</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_acbbdc80f7ad0b9998e6c40c665055240_cgraph.png" border="0" usemap="#scanner_8c_acbbdc80f7ad0b9998e6c40c665055240_cgraph" alt=""/></div>
<map name="scanner_8c_acbbdc80f7ad0b9998e6c40c665055240_cgraph" id="scanner_8c_acbbdc80f7ad0b9998e6c40c665055240_cgraph">
<area shape="rect" id="node2" href="scanner_8c.html#a751d3a7f3f2a98cbbc4029ae856372be" title="Get the char object Read a single character from the input stream. " alt="" coords="131,5,203,32"/>
<area shape="rect" id="node4" href="scanner_8c.html#a62fde60ffe0221615dca9102169dff64" title="Stuff the character back into the input stream. " alt="" coords="124,56,211,83"/>
<area shape="rect" id="node3" href="scanner_8c.html#a2e0b216fac9043db80ea028fe960dd39" title="Close the currently open file and update the file stack. This is automatically called when a file end..." alt="" coords="259,5,336,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_acbbdc80f7ad0b9998e6c40c665055240_icgraph.png" border="0" usemap="#scanner_8c_acbbdc80f7ad0b9998e6c40c665055240_icgraph" alt=""/></div>
<map name="scanner_8c_acbbdc80f7ad0b9998e6c40c665055240_icgraph" id="scanner_8c_acbbdc80f7ad0b9998e6c40c665055240_icgraph">
<area shape="rect" id="node2" href="scanner_8h.html#ab813ccd8271cf156beff16541aa1c476" title="Read text from the input stream and return a token. " alt="" coords="124,31,189,57"/>
<area shape="rect" id="node3" href="scanner_8h.html#acadf6d4cc0cd6d922a183a04af123be8" title="Retrieve a token and compare it against a token array. If the received token is not in the array..." alt="" coords="237,5,360,32"/>
<area shape="rect" id="node4" href="scanner_8h.html#a323ce9fdb2b8a07bc90f28716c9764a9" title="Retrieve the next token and check it against the specified token type. If the token does not match th..." alt="" coords="255,56,342,83"/>
</map>
</div>

</div>
</div>
<a id="ac9d2f4eca16d0523494a48163e2924f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9d2f4eca16d0523494a48163e2924f1">&#9670;&nbsp;</a></span>str_to_token()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a> str_to_token </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert the given keyword string to a token. If it is not a keyword, then SYMBOL_TOKEN is returned. Note that this does not convert non-keywords to a token. Non-keywords cause SYMBOL_TOKEN to be returned as well. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>token_t </dd></dl>

<p class="definition">Definition at line <a class="el" href="scanner_8c_source.html#l00791">791</a> of file <a class="el" href="scanner_8c_source.html">scanner.c</a>.</p>

<p class="reference">References <a class="el" href="scanner_8h_source.html#l00013">SYMBOL_TOKEN</a>, <a class="el" href="scanner_8c_source.html#l00021">token_map_t::tok</a>, and <a class="el" href="scanner_8c_source.html#l00087">token_map_size</a>.</p>

<p class="reference">Referenced by <a class="el" href="scanner_8c_source.html#l00615">read_word()</a>.</p>
<div class="fragment"><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                                      {</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    <span class="comment">// simple binary search</span></div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a> retv = <a class="code" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfeaeb318b61882d77681faea6419c8c5a75">SYMBOL_TOKEN</a>;</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="keywordtype">int</span> start = 0, end = <a class="code" href="scanner_8c.html#aa5469592bb3c974271e7a959cd8f6cc5">token_map_size</a> - 1;</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="keywordtype">int</span> mid = (start + end) / 2;</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <span class="keywordflow">while</span>(start &lt;= end) {</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        <span class="keywordtype">int</span> spot = strcmp(str, <a class="code" href="scanner_8c.html#a9d79b024fbecc5de73e32b260baed5ea">token_map</a>[mid].str);</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        <span class="keywordflow">if</span>(spot &gt; 0)</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;            start = mid + 1;</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(spot &lt; 0)</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;            end = mid - 1;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;            retv = <a class="code" href="scanner_8c.html#a9d79b024fbecc5de73e32b260baed5ea">token_map</a>[mid].<a class="code" href="structtoken__map__t.html#a57c6c0281d743d2f161ba8697d54c0dd">tok</a>;</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;        }</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;        mid = (start + end) / 2;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    }</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="keywordflow">return</span> retv;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;}</div><div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfe"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a></div><div class="ttdeci">token_t</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00006">scanner.h:6</a></div></div>
<div class="ttc" id="scanner_8c_html_aa5469592bb3c974271e7a959cd8f6cc5"><div class="ttname"><a href="scanner_8c.html#aa5469592bb3c974271e7a959cd8f6cc5">token_map_size</a></div><div class="ttdeci">static const size_t token_map_size</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00087">scanner.c:87</a></div></div>
<div class="ttc" id="scanner_8h_html_a4ebc26c81c029670805b51af165f9cfeaeb318b61882d77681faea6419c8c5a75"><div class="ttname"><a href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfeaeb318b61882d77681faea6419c8c5a75">SYMBOL_TOKEN</a></div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00013">scanner.h:13</a></div></div>
<div class="ttc" id="scanner_8c_html_a9d79b024fbecc5de73e32b260baed5ea"><div class="ttname"><a href="scanner_8c.html#a9d79b024fbecc5de73e32b260baed5ea">token_map</a></div><div class="ttdeci">static token_map_t token_map[]</div><div class="ttdoc">This is the data structure that converts keywords to tokens. </div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00039">scanner.c:39</a></div></div>
<div class="ttc" id="structtoken__map__t_html_a57c6c0281d743d2f161ba8697d54c0dd"><div class="ttname"><a href="structtoken__map__t.html#a57c6c0281d743d2f161ba8697d54c0dd">token_map_t::tok</a></div><div class="ttdeci">token_t tok</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00021">scanner.c:21</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_ac9d2f4eca16d0523494a48163e2924f1_icgraph.png" border="0" usemap="#scanner_8c_ac9d2f4eca16d0523494a48163e2924f1_icgraph" alt=""/></div>
<map name="scanner_8c_ac9d2f4eca16d0523494a48163e2924f1_icgraph" id="scanner_8c_ac9d2f4eca16d0523494a48163e2924f1_icgraph">
<area shape="rect" id="node2" href="scanner_8c.html#aafc5da6edd9fb271cf3d877b1dd36240" title="Read a word from the input and then find out if it&#39;s a keyword. " alt="" coords="148,31,231,57"/>
<area shape="rect" id="node3" href="scanner_8h.html#ab813ccd8271cf156beff16541aa1c476" title="Read text from the input stream and return a token. " alt="" coords="413,31,479,57"/>
<area shape="rect" id="node6" href="scanner_8c.html#a3205222d05c01cd1d1e2f3c6d605f971" title="Read a punctuation character from input stream. When this is entered, a punctuation character has bee..." alt="" coords="279,56,365,83"/>
<area shape="rect" id="node4" href="scanner_8h.html#acadf6d4cc0cd6d922a183a04af123be8" title="Retrieve a token and compare it against a token array. If the received token is not in the array..." alt="" coords="527,5,649,32"/>
<area shape="rect" id="node5" href="scanner_8h.html#a323ce9fdb2b8a07bc90f28716c9764a9" title="Retrieve the next token and check it against the specified token type. If the token does not match th..." alt="" coords="545,56,631,83"/>
</map>
</div>

</div>
</div>
<a id="a15a0a1b428d9897d6e026879cb30d21b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15a0a1b428d9897d6e026879cb30d21b">&#9670;&nbsp;</a></span>token_to_str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* token_to_str </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="scanner_8h.html#a4ebc26c81c029670805b51af165f9cfe">token_t</a>&#160;</td>
          <td class="paramname"><em>tok</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert a token to a string for documentation and errors. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tok</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>const char* </dd></dl>

<p class="definition">Definition at line <a class="el" href="scanner_8c_source.html#l00821">821</a> of file <a class="el" href="scanner_8c_source.html">scanner.c</a>.</p>

<p class="reference">References <a class="el" href="scanner_8h_source.html#l00087">TOK_TO_STR</a>.</p>

<p class="reference">Referenced by <a class="el" href="scanner_8c_source.html#l00945">expect_tok()</a>, and <a class="el" href="scanner_8c_source.html#l00915">expect_tok_array()</a>.</p>
<div class="fragment"><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                                      {</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <span class="comment">// this is the ONLY place this behemouth is expanded.</span></div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="scanner_8h.html#a9f24da441d1c0cd3229d279b49561f8c">TOK_TO_STR</a>(tok);</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;}</div><div class="ttc" id="scanner_8h_html_a9f24da441d1c0cd3229d279b49561f8c"><div class="ttname"><a href="scanner_8h.html#a9f24da441d1c0cd3229d279b49561f8c">TOK_TO_STR</a></div><div class="ttdeci">#define TOK_TO_STR(t)</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8h_source.html#l00087">scanner.h:87</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_a15a0a1b428d9897d6e026879cb30d21b_icgraph.png" border="0" usemap="#scanner_8c_a15a0a1b428d9897d6e026879cb30d21b_icgraph" alt=""/></div>
<map name="scanner_8c_a15a0a1b428d9897d6e026879cb30d21b_icgraph" id="scanner_8c_a15a0a1b428d9897d6e026879cb30d21b_icgraph">
<area shape="rect" id="node2" href="scanner_8h.html#a323ce9fdb2b8a07bc90f28716c9764a9" title="Retrieve the next token and check it against the specified token type. If the token does not match th..." alt="" coords="166,5,253,32"/>
<area shape="rect" id="node3" href="scanner_8h.html#acadf6d4cc0cd6d922a183a04af123be8" title="Retrieve a token and compare it against a token array. If the received token is not in the array..." alt="" coords="148,56,271,83"/>
</map>
</div>

</div>
</div>
<a id="a62fde60ffe0221615dca9102169dff64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62fde60ffe0221615dca9102169dff64">&#9670;&nbsp;</a></span>unget_char()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void unget_char </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ch</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stuff the character back into the input stream. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ch</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="scanner_8c_source.html#l00147">147</a> of file <a class="el" href="scanner_8c_source.html">scanner.c</a>.</p>

<p class="reference">References <a class="el" href="scanner_8c_source.html#l00015">__file_stack::col_no</a>, <a class="el" href="scanner_8c_source.html#l00013">__file_stack::fp</a>, <a class="el" href="scanner_8c_source.html#l00028">last_col</a>, and <a class="el" href="scanner_8c_source.html#l00014">__file_stack::line_no</a>.</p>

<p class="reference">Referenced by <a class="el" href="scanner_8c_source.html#l00747">comment_or_operator()</a>, <a class="el" href="scanner_8c_source.html#l00220">eat_multi_line()</a>, <a class="el" href="scanner_8c_source.html#l00202">eat_single_line()</a>, <a class="el" href="scanner_8c_source.html#l00190">eat_until_ws()</a>, <a class="el" href="scanner_8c_source.html#l00475">get_decimal_escape()</a>, <a class="el" href="scanner_8c_source.html#l00414">get_hex_escape()</a>, <a class="el" href="scanner_8c_source.html#l00448">get_octal_escape()</a>, <a class="el" href="scanner_8c_source.html#l00843">get_tok()</a>, <a class="el" href="scanner_8c_source.html#l00296">read_float_number()</a>, <a class="el" href="scanner_8c_source.html#l00353">read_number_top()</a>, <a class="el" href="scanner_8c_source.html#l00270">read_octal_number()</a>, <a class="el" href="scanner_8c_source.html#l00642">read_punct()</a>, <a class="el" href="scanner_8c_source.html#l00615">read_word()</a>, and <a class="el" href="scanner_8c_source.html#l00168">skip_ws()</a>.</p>
<div class="fragment"><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                               {</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="scanner_8c.html#afd1a3d8d9ea5da829d7739127f89a7de">top</a> != NULL) {</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        ungetc(ch, <a class="code" href="scanner_8c.html#afd1a3d8d9ea5da829d7739127f89a7de">top</a>-&gt;<a class="code" href="struct____file__stack.html#aa6629155a04b3945e3b7ceb78a596ab5">fp</a>);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <span class="keywordflow">if</span>(ch == <span class="charliteral">&#39;\n&#39;</span>) {</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            <a class="code" href="scanner_8c.html#afd1a3d8d9ea5da829d7739127f89a7de">top</a>-&gt;<a class="code" href="struct____file__stack.html#a6c58c6c5dc2a539c7311646ad468e74d">line_no</a>--;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            <a class="code" href="scanner_8c.html#afd1a3d8d9ea5da829d7739127f89a7de">top</a>-&gt;<a class="code" href="struct____file__stack.html#abeb7ba9366a47153189008a0bc91f0cb">col_no</a> = <a class="code" href="scanner_8c.html#af351fb3580ddd97b5d430664f878802e">last_col</a>;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        }</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="scanner_8c.html#afd1a3d8d9ea5da829d7739127f89a7de">top</a>-&gt;<a class="code" href="struct____file__stack.html#abeb7ba9366a47153189008a0bc91f0cb">col_no</a> &gt; 1)</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                <a class="code" href="scanner_8c.html#afd1a3d8d9ea5da829d7739127f89a7de">top</a>-&gt;<a class="code" href="struct____file__stack.html#abeb7ba9366a47153189008a0bc91f0cb">col_no</a>--;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                <a class="code" href="scanner_8c.html#afd1a3d8d9ea5da829d7739127f89a7de">top</a>-&gt;<a class="code" href="struct____file__stack.html#abeb7ba9366a47153189008a0bc91f0cb">col_no</a> = 1;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        }</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    }</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;}</div><div class="ttc" id="scanner_8c_html_afd1a3d8d9ea5da829d7739127f89a7de"><div class="ttname"><a href="scanner_8c.html#afd1a3d8d9ea5da829d7739127f89a7de">top</a></div><div class="ttdeci">static file_stack_t * top</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00025">scanner.c:25</a></div></div>
<div class="ttc" id="scanner_8c_html_af351fb3580ddd97b5d430664f878802e"><div class="ttname"><a href="scanner_8c.html#af351fb3580ddd97b5d430664f878802e">last_col</a></div><div class="ttdeci">static int last_col</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00028">scanner.c:28</a></div></div>
<div class="ttc" id="struct____file__stack_html_abeb7ba9366a47153189008a0bc91f0cb"><div class="ttname"><a href="struct____file__stack.html#abeb7ba9366a47153189008a0bc91f0cb">__file_stack::col_no</a></div><div class="ttdeci">int col_no</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00015">scanner.c:15</a></div></div>
<div class="ttc" id="struct____file__stack_html_aa6629155a04b3945e3b7ceb78a596ab5"><div class="ttname"><a href="struct____file__stack.html#aa6629155a04b3945e3b7ceb78a596ab5">__file_stack::fp</a></div><div class="ttdeci">FILE * fp</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00013">scanner.c:13</a></div></div>
<div class="ttc" id="struct____file__stack_html_a6c58c6c5dc2a539c7311646ad468e74d"><div class="ttname"><a href="struct____file__stack.html#a6c58c6c5dc2a539c7311646ad468e74d">__file_stack::line_no</a></div><div class="ttdeci">int line_no</div><div class="ttdef"><b>Definition:</b> <a href="scanner_8c_source.html#l00014">scanner.c:14</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scanner_8c_a62fde60ffe0221615dca9102169dff64_icgraph.png" border="0" usemap="#scanner_8c_a62fde60ffe0221615dca9102169dff64_icgraph" alt=""/></div>
<map name="scanner_8c_a62fde60ffe0221615dca9102169dff64_icgraph" id="scanner_8c_a62fde60ffe0221615dca9102169dff64_icgraph">
<area shape="rect" id="node2" href="scanner_8c.html#ae607bbd0a95b68ef81614ecbdcdf519a" title="Find out what to do with a &#39;/&#39; character. When this is entered, a (/) has been seen. If the next character is a (/) or a (*), then we have a comment, otherwise we have a / operator. " alt="" coords="329,65,477,92"/>
<area shape="rect" id="node3" href="scanner_8h.html#ab813ccd8271cf156beff16541aa1c476" title="Read text from the input stream and return a token. " alt="" coords="667,357,732,384"/>
<area shape="rect" id="node6" href="scanner_8c.html#a5c04757cfc5cdd9a7af37e504241157e" title="Eat a multi&#45;line comment. " alt="" coords="159,40,262,67"/>
<area shape="rect" id="node7" href="scanner_8c.html#a4ce21d4ba0fe825746431f52e60347ad" title="Eat a single line comment. " alt="" coords="157,91,265,117"/>
<area shape="rect" id="node8" href="scanner_8c.html#adbeae6c1148f611761e293b2d4083155" title="Eat characters until white space is encountered. Used for the scanner to recover from an error..." alt="" coords="356,268,451,295"/>
<area shape="rect" id="node11" href="scanner_8c.html#a5974a5d4c4aafa45ad1675231b12b398" title="Get the decimal escape object. " alt="" coords="140,243,281,269"/>
<area shape="rect" id="node13" href="scanner_8c.html#a82bf6517965ad70ea8264b70e36ca556" title="Get the hex escape object. " alt="" coords="152,293,269,320"/>
<area shape="rect" id="node14" href="scanner_8c.html#ad6d7958aaede5957c26394284d9ace36" title="Get the octal escape object When this is called the &#39;0&#39; has already been read. The converted binary ..." alt="" coords="149,344,273,371"/>
<area shape="rect" id="node15" href="scanner_8c.html#a828f3d1cf54a7739b49733416cf76f7a" title="Scan a floating point number. When this is called the first part of the number, up to the &#39;..." alt="" coords="146,395,275,421"/>
<area shape="rect" id="node16" href="scanner_8c.html#ae1ec61f0fae80f99861be0cd9a35a1a5" title="A digit has been seen. This is the entry to find out what kind of number is being read and then retur..." alt="" coords="342,433,465,460"/>
<area shape="rect" id="node17" href="scanner_8c.html#a82c9d9502b1585c8db6cae8e8f3b3c21" title="Finish reading an octal number. An octal number starts with a &#39;0&#39; and all digits are less than &#39;7&#39;..." alt="" coords="145,496,277,523"/>
<area shape="rect" id="node18" href="scanner_8c.html#a3205222d05c01cd1d1e2f3c6d605f971" title="Read a punctuation character from input stream. When this is entered, a punctuation character has bee..." alt="" coords="360,547,447,573"/>
<area shape="rect" id="node19" href="scanner_8c.html#aafc5da6edd9fb271cf3d877b1dd36240" title="Read a word from the input and then find out if it&#39;s a keyword. " alt="" coords="169,597,252,624"/>
<area shape="rect" id="node20" href="scanner_8c.html#acbbdc80f7ad0b9998e6c40c665055240" title="Skip white space. " alt="" coords="537,648,607,675"/>
<area shape="rect" id="node4" href="scanner_8h.html#acadf6d4cc0cd6d922a183a04af123be8" title="Retrieve a token and compare it against a token array. If the received token is not in the array..." alt="" coords="780,332,903,359"/>
<area shape="rect" id="node5" href="scanner_8h.html#a323ce9fdb2b8a07bc90f28716c9764a9" title="Retrieve the next token and check it against the specified token type. If the token does not match th..." alt="" coords="798,383,885,409"/>
<area shape="rect" id="node9" href="scanner_8c.html#a724bc9c982f6d80ea7cc9cb382a67150" title="Read a string with escape translations. When this is entered, a (&quot;) has been seen and discarded..." alt="" coords="525,319,619,345"/>
<area shape="rect" id="node10" href="scanner_8c.html#a7485b39f90b06a1a8fc01ccd6268646d" title="Read a string without escape translations. When this is entered, a (&#39;) has been seen and discarded..." alt="" coords="525,268,619,295"/>
<area shape="rect" id="node12" href="scanner_8c.html#af34c4092683c2caeb938899cfd73d86e" title="Get the string esc object When this is entered, a back&#45;slash has been seen in a dquote string..." alt="" coords="350,319,457,345"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a39b79affaeabd99e1fdfcdcd92f113d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39b79affaeabd99e1fdfcdcd92f113d9">&#9670;&nbsp;</a></span>file_flag</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int file_flag = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scanner_8c_source.html#l00027">27</a> of file <a class="el" href="scanner_8c_source.html">scanner.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="scanner_8c_source.html#l00111">get_char()</a>, and <a class="el" href="scanner_8c_source.html#l00843">get_tok()</a>.</p>

</div>
</div>
<a id="af351fb3580ddd97b5d430664f878802e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af351fb3580ddd97b5d430664f878802e">&#9670;&nbsp;</a></span>last_col</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int last_col</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scanner_8c_source.html#l00028">28</a> of file <a class="el" href="scanner_8c_source.html">scanner.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="scanner_8c_source.html#l00111">get_char()</a>, and <a class="el" href="scanner_8c_source.html#l00147">unget_char()</a>.</p>

</div>
</div>
<a id="a2de8c113b9c6e6d1ad3b676aedb70674"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2de8c113b9c6e6d1ad3b676aedb70674">&#9670;&nbsp;</a></span>nest_depth</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int nest_depth = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scanner_8c_source.html#l00024">24</a> of file <a class="el" href="scanner_8c_source.html">scanner.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="scanner_8c_source.html#l00968">open_scanner_file()</a>.</p>

</div>
</div>
<a id="a46f294c9a8b344e4fd265f5279b6dad4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46f294c9a8b344e4fd265f5279b6dad4">&#9670;&nbsp;</a></span>scanner_buffer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="chbuffer_8h.html#ac592394e8e8049e17a16e96ee4042a6e">char_buffer_t</a> scanner_buffer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scanner_8c_source.html#l00026">26</a> of file <a class="el" href="scanner_8c_source.html">scanner.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="scanner_8c_source.html#l00772">destroy_scanner()</a>, <a class="el" href="scanner_8c_source.html#l00190">eat_until_ws()</a>, <a class="el" href="scanner_8c_source.html#l00475">get_decimal_escape()</a>, <a class="el" href="scanner_8c_source.html#l00414">get_hex_escape()</a>, <a class="el" href="scanner_8c_source.html#l00448">get_octal_escape()</a>, <a class="el" href="scanner_8c_source.html#l00514">get_string_esc()</a>, <a class="el" href="scanner_8c_source.html#l00843">get_tok()</a>, <a class="el" href="scanner_8c_source.html#l01044">get_tok_str()</a>, <a class="el" href="scanner_8c_source.html#l00832">init_scanner()</a>, <a class="el" href="scanner_8c_source.html#l00546">read_dquote()</a>, <a class="el" href="scanner_8c_source.html#l00296">read_float_number()</a>, <a class="el" href="scanner_8c_source.html#l00255">read_hex_number()</a>, <a class="el" href="scanner_8c_source.html#l00353">read_number_top()</a>, <a class="el" href="scanner_8c_source.html#l00270">read_octal_number()</a>, <a class="el" href="scanner_8c_source.html#l00584">read_squote()</a>, and <a class="el" href="scanner_8c_source.html#l00615">read_word()</a>.</p>

</div>
</div>
<a id="a9d79b024fbecc5de73e32b260baed5ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d79b024fbecc5de73e32b260baed5ea">&#9670;&nbsp;</a></span>token_map</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtoken__map__t.html">token_map_t</a> token_map[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This is the data structure that converts keywords to tokens. </p>
<p>This data structure must be in sorted order. To update, see the file keywordlist.txt in ./tests</p><ol type="1">
<li>Add the keywords with the token.</li>
<li>cat keywordlist.txt | sort</li>
<li>copy/paste the result here. </li>
</ol>

<p class="definition">Definition at line <a class="el" href="scanner_8c_source.html#l00039">39</a> of file <a class="el" href="scanner_8c_source.html">scanner.c</a>.</p>

</div>
</div>
<a id="aa5469592bb3c974271e7a959cd8f6cc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5469592bb3c974271e7a959cd8f6cc5">&#9670;&nbsp;</a></span>token_map_size</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const size_t token_map_size = (sizeof(<a class="el" href="scanner_8c.html#a9d79b024fbecc5de73e32b260baed5ea">token_map</a>) / sizeof(<a class="el" href="structtoken__map__t.html">token_map_t</a>))</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scanner_8c_source.html#l00087">87</a> of file <a class="el" href="scanner_8c_source.html">scanner.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="scanner_8c_source.html#l00791">str_to_token()</a>.</p>

</div>
</div>
<a id="afd1a3d8d9ea5da829d7739127f89a7de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd1a3d8d9ea5da829d7739127f89a7de">&#9670;&nbsp;</a></span>top</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="scanner_8c.html#a89811536bebc7b9d69c97a54d9dc0a11">file_stack_t</a>* top = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scanner_8c_source.html#l00025">25</a> of file <a class="el" href="scanner_8c_source.html">scanner.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="scanner_8c_source.html#l00094">close_file()</a>, and <a class="el" href="scanner_8c_source.html#l00968">open_scanner_file()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="scanner_8c.html">scanner.c</a></li>
    <li class="footer">Generated on Sun Mar 21 2021 00:20:06 for Alang by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
